(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function zA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Pm={exports:{}},Zl={};var fE;function jA(){if(fE)return Zl;fE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Zl.Fragment=e,Zl.jsx=n,Zl.jsxs=n,Zl}var dE;function BA(){return dE||(dE=1,Pm.exports=jA()),Pm.exports}var I=BA(),Um={exports:{}},Re={};var mE;function HA(){if(mE)return Re;mE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function C(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,z={};function Y(k,H,ne){this.props=k,this.context=H,this.refs=z,this.updater=ne||L}Y.prototype.isReactComponent={},Y.prototype.setState=function(k,H){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,H,"setState")},Y.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function $(){}$.prototype=Y.prototype;function J(k,H,ne){this.props=k,this.context=H,this.refs=z,this.updater=ne||L}var se=J.prototype=new $;se.constructor=J,P(se,Y.prototype),se.isPureReactComponent=!0;var he=Array.isArray;function ce(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function D(k,H,ne){var le=ne.ref;return{$$typeof:i,type:k,key:H,ref:le!==void 0?le:null,props:ne}}function V(k,H){return D(k.type,H,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function j(k){var H={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ne){return H[ne]})}var N=/\/+/g;function Oe(k,H){return typeof k=="object"&&k!==null&&k.key!=null?j(""+k.key):H.toString(36)}function nt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ce,ce):(k.status="pending",k.then(function(H){k.status==="pending"&&(k.status="fulfilled",k.value=H)},function(H){k.status==="pending"&&(k.status="rejected",k.reason=H)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function W(k,H,ne,le,_e){var ye=typeof k;(ye==="undefined"||ye==="boolean")&&(k=null);var De=!1;if(k===null)De=!0;else switch(ye){case"bigint":case"string":case"number":De=!0;break;case"object":switch(k.$$typeof){case i:case e:De=!0;break;case _:return De=k._init,W(De(k._payload),H,ne,le,_e)}}if(De)return _e=_e(k),De=le===""?"."+Oe(k,0):le,he(_e)?(ne="",De!=null&&(ne=De.replace(N,"$&/")+"/"),W(_e,H,ne,"",function(ke){return ke})):_e!=null&&(O(_e)&&(_e=V(_e,ne+(_e.key==null||k&&k.key===_e.key?"":(""+_e.key).replace(N,"$&/")+"/")+De)),H.push(_e)),1;De=0;var Me=le===""?".":le+":";if(he(k))for(var Ue=0;Ue<k.length;Ue++)le=k[Ue],ye=Me+Oe(le,Ue),De+=W(le,H,ne,ye,_e);else if(Ue=C(k),typeof Ue=="function")for(k=Ue.call(k),Ue=0;!(le=k.next()).done;)le=le.value,ye=Me+Oe(le,Ue++),De+=W(le,H,ne,ye,_e);else if(ye==="object"){if(typeof k.then=="function")return W(nt(k),H,ne,le,_e);throw H=String(k),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return De}function ae(k,H,ne){if(k==null)return k;var le=[],_e=0;return W(k,le,"","",function(ye){return H.call(ne,ye,_e++)}),le}function pe(k){if(k._status===-1){var H=k._result;H=H(),H.then(function(ne){(k._status===0||k._status===-1)&&(k._status=1,k._result=ne)},function(ne){(k._status===0||k._status===-1)&&(k._status=2,k._result=ne)}),k._status===-1&&(k._status=0,k._result=H)}if(k._status===1)return k._result.default;throw k._result}var Ae=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ue={map:ae,forEach:function(k,H,ne){ae(k,function(){H.apply(this,arguments)},ne)},count:function(k){var H=0;return ae(k,function(){H++}),H},toArray:function(k){return ae(k,function(H){return H})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Re.Activity=T,Re.Children=ue,Re.Component=Y,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=J,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Re.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Re.cache=function(k){return function(){return k.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(k,H,ne){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var le=P({},k.props),_e=k.key;if(H!=null)for(ye in H.key!==void 0&&(_e=""+H.key),H)!A.call(H,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&H.ref===void 0||(le[ye]=H[ye]);var ye=arguments.length-2;if(ye===1)le.children=ne;else if(1<ye){for(var De=Array(ye),Me=0;Me<ye;Me++)De[Me]=arguments[Me+2];le.children=De}return D(k.type,_e,le)},Re.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Re.createElement=function(k,H,ne){var le,_e={},ye=null;if(H!=null)for(le in H.key!==void 0&&(ye=""+H.key),H)A.call(H,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=H[le]);var De=arguments.length-2;if(De===1)_e.children=ne;else if(1<De){for(var Me=Array(De),Ue=0;Ue<De;Ue++)Me[Ue]=arguments[Ue+2];_e.children=Me}if(k&&k.defaultProps)for(le in De=k.defaultProps,De)_e[le]===void 0&&(_e[le]=De[le]);return D(k,ye,_e)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:m,render:k}},Re.isValidElement=O,Re.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:pe}},Re.memo=function(k,H){return{$$typeof:g,type:k,compare:H===void 0?null:H}},Re.startTransition=function(k){var H=R.T,ne={};R.T=ne;try{var le=k(),_e=R.S;_e!==null&&_e(ne,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ce,Ae)}catch(ye){Ae(ye)}finally{H!==null&&ne.types!==null&&(H.types=ne.types),R.T=H}},Re.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Re.use=function(k){return R.H.use(k)},Re.useActionState=function(k,H,ne){return R.H.useActionState(k,H,ne)},Re.useCallback=function(k,H){return R.H.useCallback(k,H)},Re.useContext=function(k){return R.H.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k,H){return R.H.useDeferredValue(k,H)},Re.useEffect=function(k,H){return R.H.useEffect(k,H)},Re.useEffectEvent=function(k){return R.H.useEffectEvent(k)},Re.useId=function(){return R.H.useId()},Re.useImperativeHandle=function(k,H,ne){return R.H.useImperativeHandle(k,H,ne)},Re.useInsertionEffect=function(k,H){return R.H.useInsertionEffect(k,H)},Re.useLayoutEffect=function(k,H){return R.H.useLayoutEffect(k,H)},Re.useMemo=function(k,H){return R.H.useMemo(k,H)},Re.useOptimistic=function(k,H){return R.H.useOptimistic(k,H)},Re.useReducer=function(k,H,ne){return R.H.useReducer(k,H,ne)},Re.useRef=function(k){return R.H.useRef(k)},Re.useState=function(k){return R.H.useState(k)},Re.useSyncExternalStore=function(k,H,ne){return R.H.useSyncExternalStore(k,H,ne)},Re.useTransition=function(){return R.H.useTransition()},Re.version="19.2.3",Re}var pE;function Bp(){return pE||(pE=1,Um.exports=HA()),Um.exports}var x=Bp();const Cn=zA(x);var zm={exports:{}},eu={},jm={exports:{}},Bm={};var gE;function qA(){return gE||(gE=1,(function(i){function e(W,ae){var pe=W.length;W.push(ae);e:for(;0<pe;){var Ae=pe-1>>>1,ue=W[Ae];if(0<o(ue,ae))W[Ae]=ae,W[pe]=ue,pe=Ae;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],pe=W.pop();if(pe!==ae){W[0]=pe;e:for(var Ae=0,ue=W.length,k=ue>>>1;Ae<k;){var H=2*(Ae+1)-1,ne=W[H],le=H+1,_e=W[le];if(0>o(ne,pe))le<ue&&0>o(_e,ne)?(W[Ae]=_e,W[le]=pe,Ae=le):(W[Ae]=ne,W[H]=pe,Ae=H);else if(le<ue&&0>o(_e,pe))W[Ae]=_e,W[le]=pe,Ae=le;else break e}}return ae}function o(W,ae){var pe=W.sortIndex-ae.sortIndex;return pe!==0?pe:W.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,T=null,S=3,C=!1,L=!1,P=!1,z=!1,Y=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=W)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function he(W){if(P=!1,se(W),!L)if(n(p)!==null)L=!0,ce||(ce=!0,j());else{var ae=n(g);ae!==null&&nt(he,ae.startTime-W)}}var ce=!1,R=-1,A=5,D=-1;function V(){return z?!0:!(i.unstable_now()-D<A)}function O(){if(z=!1,ce){var W=i.unstable_now();D=W;var ae=!0;try{e:{L=!1,P&&(P=!1,$(R),R=-1),C=!0;var pe=S;try{t:{for(se(W),T=n(p);T!==null&&!(T.expirationTime>W&&V());){var Ae=T.callback;if(typeof Ae=="function"){T.callback=null,S=T.priorityLevel;var ue=Ae(T.expirationTime<=W);if(W=i.unstable_now(),typeof ue=="function"){T.callback=ue,se(W),ae=!0;break t}T===n(p)&&s(p),se(W)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var k=n(g);k!==null&&nt(he,k.startTime-W),ae=!1}}break e}finally{T=null,S=pe,C=!1}ae=void 0}}finally{ae?j():ce=!1}}}var j;if(typeof J=="function")j=function(){J(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Oe=N.port2;N.port1.onmessage=O,j=function(){Oe.postMessage(null)}}else j=function(){Y(O,0)};function nt(W,ae){R=Y(function(){W(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var pe=S;S=ae;try{return W()}finally{S=pe}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var pe=S;S=W;try{return ae()}finally{S=pe}},i.unstable_scheduleCallback=function(W,ae,pe){var Ae=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ae+pe:Ae):pe=Ae,W){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=pe+ue,W={id:_++,callback:ae,priorityLevel:W,startTime:pe,expirationTime:ue,sortIndex:-1},pe>Ae?(W.sortIndex=pe,e(g,W),n(p)===null&&W===n(g)&&(P?($(R),R=-1):P=!0,nt(he,pe-Ae))):(W.sortIndex=ue,e(p,W),L||C||(L=!0,ce||(ce=!0,j()))),W},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(W){var ae=S;return function(){var pe=S;S=ae;try{return W.apply(this,arguments)}finally{S=pe}}}})(Bm)),Bm}var yE;function FA(){return yE||(yE=1,jm.exports=qA()),jm.exports}var Hm={exports:{}},mn={};var vE;function GA(){if(vE)return mn;vE=1;var i=Bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},mn.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},mn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},mn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},mn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:C}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},mn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},mn.requestFormReset=function(p){s.d.r(p)},mn.unstable_batchedUpdates=function(p,g){return p(g)},mn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.2.3",mn}var _E;function PT(){if(_E)return Hm.exports;_E=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Hm.exports=GA(),Hm.exports}var EE;function KA(){if(EE)return eu;EE=1;var i=FA(),e=Bp(),n=PT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,b=f.child;b;){if(b===a){v=!0,a=f,l=d;break}if(b===l){v=!0,l=f,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=f;break}if(b===l){v=!0,l=d,a=f;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),J=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case Y:return"Profiler";case z:return"StrictMode";case he:return"Suspense";case ce:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case J:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return r=t.displayName||null,r!==null?r:Oe(t.type)||"Memo";case A:r=t._payload,t=t._init;try{return Oe(t(r))}catch{}}return null}var nt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ae=[],ue=-1;function k(t){return{current:t}}function H(t){0>ue||(t.current=Ae[ue],Ae[ue]=null,ue--)}function ne(t,r){ue++,Ae[ue]=t.current,t.current=r}var le=k(null),_e=k(null),ye=k(null),De=k(null);function Me(t,r){switch(ne(ye,r),ne(_e,t),ne(le,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?V_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=V_(r),t=L_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}H(le),ne(le,t)}function Ue(){H(le),H(_e),H(ye)}function ke(t){t.memoizedState!==null&&ne(De,t);var r=le.current,a=L_(r,t.type);r!==a&&(ne(_e,t),ne(le,a))}function En(t){_e.current===t&&(H(le),H(_e)),De.current===t&&(H(De),$l._currentValue=pe)}var zt,jn;function It(t){if(zt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);zt=r&&r[1]||"",jn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+zt+t+jn}var ni=!1;function In(t,r){if(!t||ni)return"";ni=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var K=X}Reflect.construct(t,[],te)}else{try{te.call()}catch(X){K=X}t.call(te.prototype)}}else{try{throw Error()}catch(X){K=X}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var M=v.split(`
`),G=b.split(`
`);for(f=l=0;l<M.length&&!M[l].includes("DetermineComponentFrameRoot");)l++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(l===M.length||f===G.length)for(l=M.length-1,f=G.length-1;1<=l&&0<=f&&M[l]!==G[f];)f--;for(;1<=l&&0<=f;l--,f--)if(M[l]!==G[f]){if(l!==1||f!==1)do if(l--,f--,0>f||M[l]!==G[f]){var Z=`
`+M[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=f);break}}}finally{ni=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?It(a):""}function Hr(t,r){switch(t.tag){case 26:case 27:case 5:return It(t.type);case 16:return It("Lazy");case 13:return t.child!==r&&r!==null?It("Suspense Fallback"):It("Suspense");case 19:return It("SuspenseList");case 0:case 15:return In(t.type,!1);case 11:return In(t.type.render,!1);case 1:return In(t.type,!0);case 31:return It("Activity");default:return""}}function qr(t){try{var r="",a=null;do r+=Hr(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,it=i.unstable_scheduleCallback,Bn=i.unstable_cancelCallback,Fr=i.unstable_shouldYield,Gs=i.unstable_requestPaint,Yt=i.unstable_now,or=i.unstable_getCurrentPriorityLevel,Ks=i.unstable_ImmediatePriority,ii=i.unstable_UserBlockingPriority,Tn=i.unstable_NormalPriority,lr=i.unstable_LowPriority,Ys=i.unstable_IdlePriority,Hn=i.log,Qs=i.unstable_setDisableYieldValue,qn=null,jt=null;function cn(t){if(typeof Hn=="function"&&Qs(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(qn,t)}catch{}}var dt=Math.clz32?Math.clz32:Ua,Pa=Math.log,ur=Math.LN2;function Ua(t){return t>>>=0,t===0?32:31-(Pa(t)/ur|0)|0}var ri=256,cr=262144,Ve=4194304;function mt(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pt(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=mt(l):(v&=b,v!==0?f=mt(v):a||(a=b&~t,a!==0&&(f=mt(a))))):(b=l&~d,b!==0?f=mt(b):v!==0?f=mt(v):a||(a=l&~t,a!==0&&(f=mt(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function xt(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function hn(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qt(){var t=Ve;return Ve<<=1,(Ve&62914560)===0&&(Ve=4194304),t}function bt(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function xn(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function St(t,r,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,M=t.expirationTimes,G=t.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-dt(a),te=1<<Z;b[Z]=0,M[Z]=-1;var K=G[Z];if(K!==null)for(G[Z]=null,Z=0;Z<K.length;Z++){var X=K[Z];X!==null&&(X.lane&=-536870913)}a&=~te}l!==0&&fn(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function fn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-dt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function dn(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-dt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function bn(t,r){var a=r&-r;return a=(a&42)!==0?1:Fn(a),(a&(t.suspendedLanes|r))!==0?0:a}function Fn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Sn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Gn(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:sE(t.type))}function en(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var wn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+wn,$t="__reactProps$"+wn,Vi="__reactContainer$"+wn,za="__reactEvents$"+wn,qf="__reactListeners$"+wn,nc="__reactHandles$"+wn,ic="__reactResources$"+wn,Li="__reactMarker$"+wn;function ja(t){delete t[Dt],delete t[$t],delete t[za],delete t[qf],delete t[nc]}function Pi(t){var r=t[Dt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Vi]||a[Dt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=q_(t);t!==null;){if(a=t[Dt])return a;t=q_(t)}return r}t=a,a=t.parentNode}return null}function si(t){if(t=t[Dt]||t[Vi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Kn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ui(t){var r=t[ic];return r||(r=t[ic]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Nt(t){t[Li]=!0}var nl=new Set,il={};function zi(t,r){ji(t,r),ji(t+"Capture",r)}function ji(t,r){for(il[t]=r,t=0;t<r.length;t++)nl.add(r[t])}var rl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sl={},al={};function rc(t){return ft.call(al,t)?!0:ft.call(sl,t)?!1:rl.test(t)?al[t]=!0:(sl[t]=!0,!1)}function Ba(t,r,a){if(rc(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Yn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ot(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Xt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ol(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ze(t){if(!t._valueTracker){var r=Gr(t)?"checked":"value";t._valueTracker=ol(t,r,""+t[r])}}function $s(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Gr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xs=/[\n"\\]/g;function Dn(t){return t.replace(Xs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Ha(t,r,a,l,f,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Xt(r)):t.value!==""+Xt(r)&&(t.value=""+Xt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?ll(t,v,Xt(r)):a!=null?ll(t,v,Xt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Xt(b):t.removeAttribute("name")}function sc(t,r,a,l,f,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Ze(t);return}a=a!=null?""+Xt(a):"",r=r!=null?""+Xt(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Ze(t)}function ll(t,r,a){r==="number"&&Bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Kr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Xt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function ac(t,r,a){if(r!=null&&(r=""+Xt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Xt(a):""}function Yr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(nt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Xt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ze(t)}function Nn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ul(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||oc.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function cl(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&ul(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&ul(t,d,r[d])}function qa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fa(t){return Qr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function bi(){}var hl=null;function ai(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $r=null,Hi=null;function Ws(t){var r=si(t);if(r&&(t=r.stateNode)){var a=t[$t]||null;e:switch(t=r.stateNode,r.type){case"input":if(Ha(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[$t]||null;if(!f)throw Error(s(90));Ha(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&$s(l)}break e;case"textarea":ac(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Kr(t,!!a.multiple,r,!1)}}}var Ga=!1;function Xr(t,r,a){if(Ga)return t(r,a);Ga=!0;try{var l=t(r);return l}finally{if(Ga=!1,($r!==null||Hi!==null)&&(th(),$r&&(r=$r,t=Hi,Hi=$r=null,Ws(r),t)))for(r=0;r<t.length;r++)Ws(t[r])}}function Si(t,r){var a=t.stateNode;if(a===null)return null;var l=a[$t]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Js=!1;if(oi)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){Js=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{Js=!1}var qi=null,fl=null,Zs=null;function dl(){if(Zs)return Zs;var t,r=fl,a=r.length,l,f="value"in qi?qi.value:qi.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return Zs=f.slice(t,1<l?1-l:void 0)}function ea(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function hr(){return!0}function wi(){return!1}function tn(t){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hr:wi,this.isPropagationStopped=wi,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),r}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=tn(fr),Wr=T({},fr,{view:0,detail:0}),ml=tn(Wr),Jr,Ka,Gi,Ya=T({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(Jr=t.screenX-Gi.screenX,Ka=t.screenY-Gi.screenY):Ka=Jr=0,Gi=t),Jr)},movementY:function(t){return"movementY"in t?t.movementY:Ka}}),pl=tn(Ya),ta=T({},Ya,{dataTransfer:0}),uc=tn(ta),cc=T({},Wr,{relatedTarget:0}),na=tn(cc),gl=T({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),hc=tn(gl),Qa=T({},fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fc=tn(Qa),dc=T({},fr,{data:0}),Ki=tn(dc),mc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=gc[t])?!!r[t]:!1}function Zr(){return yc}var An=T({},Wr,{key:function(t){if(t.key){var r=mc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(t){return t.type==="keypress"?ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vc=tn(An),_c=T({},Ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=tn(_c),h=T({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),y=tn(h),E=T({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=tn(E),q=T({},Ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=tn(q),oe=T({},fr,{newState:0,oldState:0}),Ie=tn(oe),wt=[9,13,27,32],$e=oi&&"CompositionEvent"in window,gt=null;oi&&"documentMode"in document&&(gt=document.documentMode);var li=oi&&"TextEvent"in window&&!gt,Yi=oi&&(!$e||gt&&8<gt&&11>=gt),Ai=" ",Ri=!1;function ia(t,r){switch(t){case"keyup":return wt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $a(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xa=!1;function uw(t,r){switch(t){case"compositionend":return $a(r);case"keypress":return r.which!==32?null:(Ri=!0,Ai);case"textInput":return t=r.data,t===Ai&&Ri?null:t;default:return null}}function cw(t,r){if(Xa)return t==="compositionend"||!$e&&ia(t,r)?(t=dl(),Zs=fl=qi=null,Xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Yi&&r.locale!=="ko"?null:r.data;default:return null}}var hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!hw[t.type]:r==="textarea"}function Yg(t,r,a,l){$r?Hi?Hi.push(l):Hi=[l]:$r=l,r=lh(r,"onChange"),0<r.length&&(a=new Fi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var yl=null,vl=null;function fw(t){x_(t,0)}function Ec(t){var r=Kn(t);if($s(r))return t}function Qg(t,r){if(t==="change")return r}var $g=!1;if(oi){var Ff;if(oi){var Gf="oninput"in document;if(!Gf){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Gf=typeof Xg.oninput=="function"}Ff=Gf}else Ff=!1;$g=Ff&&(!document.documentMode||9<document.documentMode)}function Wg(){yl&&(yl.detachEvent("onpropertychange",Jg),vl=yl=null)}function Jg(t){if(t.propertyName==="value"&&Ec(vl)){var r=[];Yg(r,vl,t,ai(t)),Xr(fw,r)}}function dw(t,r,a){t==="focusin"?(Wg(),yl=r,vl=a,yl.attachEvent("onpropertychange",Jg)):t==="focusout"&&Wg()}function mw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ec(vl)}function pw(t,r){if(t==="click")return Ec(r)}function gw(t,r){if(t==="input"||t==="change")return Ec(r)}function yw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Qn=typeof Object.is=="function"?Object.is:yw;function _l(t,r){if(Qn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ft.call(r,f)||!Qn(t[f],r[f]))return!1}return!0}function Zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ey(t,r){var a=Zg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Zg(a)}}function ty(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?ty(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function ny(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Bi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Bi(t.document)}return r}function Kf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var vw=oi&&"documentMode"in document&&11>=document.documentMode,Wa=null,Yf=null,El=null,Qf=!1;function iy(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Qf||Wa==null||Wa!==Bi(l)||(l=Wa,"selectionStart"in l&&Kf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),El&&_l(El,l)||(El=l,l=lh(Yf,"onSelect"),0<l.length&&(r=new Fi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Wa)))}function ra(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ja={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},$f={},ry={};oi&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function sa(t){if($f[t])return $f[t];if(!Ja[t])return t;var r=Ja[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in ry)return $f[t]=r[a];return t}var sy=sa("animationend"),ay=sa("animationiteration"),oy=sa("animationstart"),_w=sa("transitionrun"),Ew=sa("transitionstart"),Tw=sa("transitioncancel"),ly=sa("transitionend"),uy=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function Ci(t,r){uy.set(t,r),zi(r,[t])}var Tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ui=[],Za=0,Wf=0;function bc(){for(var t=Za,r=Wf=Za=0;r<t;){var a=ui[r];ui[r++]=null;var l=ui[r];ui[r++]=null;var f=ui[r];ui[r++]=null;var d=ui[r];if(ui[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&cy(a,f,d)}}function Sc(t,r,a,l){ui[Za++]=t,ui[Za++]=r,ui[Za++]=a,ui[Za++]=l,Wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Jf(t,r,a,l){return Sc(t,r,a,l),wc(t)}function aa(t,r){return Sc(t,null,null,r),wc(t)}function cy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-dt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function wc(t){if(50<Hl)throw Hl=0,om=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var eo={};function bw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,r,a,l){return new bw(t,r,a,l)}function Zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mr(t,r){var a=t.alternate;return a===null?(a=$n(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function hy(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Ac(t,r,a,l,f,d){var v=0;if(l=t,typeof t=="function")Zf(t)&&(v=1);else if(typeof t=="string")v=CA(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=$n(31,a,r,f),t.elementType=D,t.lanes=d,t;case P:return oa(a.children,f,d,r);case z:v=8,f|=24;break;case Y:return t=$n(12,a,r,f|2),t.elementType=Y,t.lanes=d,t;case he:return t=$n(13,a,r,f),t.elementType=he,t.lanes=d,t;case ce:return t=$n(19,a,r,f),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:v=10;break e;case $:v=9;break e;case se:v=11;break e;case R:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=$n(v,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function oa(t,r,a,l){return t=$n(7,t,l,r),t.lanes=a,t}function ed(t,r,a){return t=$n(6,t,null,r),t.lanes=a,t}function fy(t){var r=$n(18,null,null,0);return r.stateNode=t,r}function td(t,r,a){return r=$n(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var dy=new WeakMap;function ci(t,r){if(typeof t=="object"&&t!==null){var a=dy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:qr(r)},dy.set(t,r),r)}return{value:t,source:r,stack:qr(r)}}var to=[],no=0,Rc=null,Tl=0,hi=[],fi=0,es=null,Qi=1,$i="";function pr(t,r){to[no++]=Tl,to[no++]=Rc,Rc=t,Tl=r}function my(t,r,a){hi[fi++]=Qi,hi[fi++]=$i,hi[fi++]=es,es=t;var l=Qi;t=$i;var f=32-dt(l)-1;l&=~(1<<f),a+=1;var d=32-dt(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Qi=1<<32-dt(r)+f|a<<f|l,$i=d+t}else Qi=1<<d|a<<f|l,$i=t}function nd(t){t.return!==null&&(pr(t,1),my(t,1,0))}function id(t){for(;t===Rc;)Rc=to[--no],to[no]=null,Tl=to[--no],to[no]=null;for(;t===es;)es=hi[--fi],hi[fi]=null,$i=hi[--fi],hi[fi]=null,Qi=hi[--fi],hi[fi]=null}function py(t,r){hi[fi++]=Qi,hi[fi++]=$i,hi[fi++]=es,Qi=r.id,$i=r.overflow,es=t}var nn=null,ut=null,Fe=!1,ts=null,di=!1,rd=Error(s(519));function ns(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bl(ci(r,t)),rd}function gy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Dt]=t,r[$t]=l,a){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(a=0;a<Fl.length;a++)Pe(Fl[a],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":Pe("invalid",r),sc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pe("invalid",r);break;case"textarea":Pe("invalid",r),Yr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||M_(r.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",r),Pe("toggle",r)),l.onScroll!=null&&Pe("scroll",r),l.onScrollEnd!=null&&Pe("scrollend",r),l.onClick!=null&&(r.onclick=bi),r=!0):r=!1,r||ns(t,!0)}function yy(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:nn=nn.return}}function io(t){if(t!==nn)return!1;if(!Fe)return yy(t),Fe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||bm(t.type,t.memoizedProps)),a=!a),a&&ut&&ns(t),yy(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=H_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=H_(t)}else r===27?(r=ut,gs(t.type)?(t=Cm,Cm=null,ut=t):ut=r):ut=nn?pi(t.stateNode.nextSibling):null;return!0}function la(){ut=nn=null,Fe=!1}function sd(){var t=ts;return t!==null&&(Vn===null?Vn=t:Vn.push.apply(Vn,t),ts=null),t}function bl(t){ts===null?ts=[t]:ts.push(t)}var ad=k(null),ua=null,gr=null;function is(t,r,a){ne(ad,r._currentValue),r._currentValue=a}function yr(t){t._currentValue=ad.current,H(ad)}function od(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function ld(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var M=0;M<r.length;M++)if(b.context===r[M]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),od(d.return,a,t),l||(v=null);break e}d=b.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),od(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function ro(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=f.type;Qn(f.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(f===De.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push($l):t=[$l])}f=f.return}t!==null&&ld(r,t,a,l),r.flags|=262144}function Cc(t){for(t=t.firstContext;t!==null;){if(!Qn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ca(t){ua=t,gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return vy(ua,t)}function Ic(t,r){return ua===null&&ca(t),vy(t,r)}function vy(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},gr===null){if(t===null)throw Error(s(308));gr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else gr=gr.next=r;return a}var Sw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},ww=i.unstable_scheduleCallback,Aw=i.unstable_NormalPriority,Mt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new Sw,data:new Map,refCount:0}}function Sl(t){t.refCount--,t.refCount===0&&ww(Aw,function(){t.controller.abort()})}var wl=null,cd=0,so=0,ao=null;function Rw(t,r){if(wl===null){var a=wl=[];cd=0,so=dm(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return cd++,r.then(_y,_y),r}function _y(){if(--cd===0&&wl!==null){ao!==null&&(ao.status="fulfilled");var t=wl;wl=null,so=0,ao=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Cw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ey=W.S;W.S=function(t,r){i_=Yt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&Rw(t,r),Ey!==null&&Ey(t,r)};var ha=k(null);function hd(){var t=ha.current;return t!==null?t:lt.pooledCache}function xc(t,r){r===null?ne(ha,ha.current):ne(ha,r.pool)}function Ty(){var t=hd();return t===null?null:{parent:Mt._currentValue,pool:t}}var oo=Error(s(460)),fd=Error(s(474)),Dc=Error(s(542)),Nc={then:function(){}};function by(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Sy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(bi,bi),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ay(t),t;default:if(typeof r.status=="string")r.then(bi,bi);else{if(t=lt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Ay(t),t}throw da=r,oo}}function fa(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(da=a,oo):a}}var da=null;function wy(){if(da===null)throw Error(s(459));var t=da;return da=null,t}function Ay(t){if(t===oo||t===Dc)throw Error(s(483))}var lo=null,Al=0;function Oc(t){var r=Al;return Al+=1,lo===null&&(lo=[]),Sy(lo,t,r)}function Rl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Mc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Ry(t){function r(B,U){if(t){var F=B.deletions;F===null?(B.deletions=[U],B.flags|=16):F.push(U)}}function a(B,U){if(!t)return null;for(;U!==null;)r(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function f(B,U){return B=mr(B,U),B.index=0,B.sibling=null,B}function d(B,U,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<U?(B.flags|=67108866,U):F):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function v(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function b(B,U,F,ee){return U===null||U.tag!==6?(U=ed(F,B.mode,ee),U.return=B,U):(U=f(U,F),U.return=B,U)}function M(B,U,F,ee){var ve=F.type;return ve===P?Z(B,U,F.props.children,ee,F.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&fa(ve)===U.type)?(U=f(U,F.props),Rl(U,F),U.return=B,U):(U=Ac(F.type,F.key,F.props,null,B.mode,ee),Rl(U,F),U.return=B,U)}function G(B,U,F,ee){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=td(F,B.mode,ee),U.return=B,U):(U=f(U,F.children||[]),U.return=B,U)}function Z(B,U,F,ee,ve){return U===null||U.tag!==7?(U=oa(F,B.mode,ee,ve),U.return=B,U):(U=f(U,F),U.return=B,U)}function te(B,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=ed(""+U,B.mode,F),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return F=Ac(U.type,U.key,U.props,null,B.mode,F),Rl(F,U),F.return=B,F;case L:return U=td(U,B.mode,F),U.return=B,U;case A:return U=fa(U),te(B,U,F)}if(nt(U)||j(U))return U=oa(U,B.mode,F,null),U.return=B,U;if(typeof U.then=="function")return te(B,Oc(U),F);if(U.$$typeof===J)return te(B,Ic(B,U),F);Mc(B,U)}return null}function K(B,U,F,ee){var ve=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return ve!==null?null:b(B,U,""+F,ee);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return F.key===ve?M(B,U,F,ee):null;case L:return F.key===ve?G(B,U,F,ee):null;case A:return F=fa(F),K(B,U,F,ee)}if(nt(F)||j(F))return ve!==null?null:Z(B,U,F,ee,null);if(typeof F.then=="function")return K(B,U,Oc(F),ee);if(F.$$typeof===J)return K(B,U,Ic(B,F),ee);Mc(B,F)}return null}function X(B,U,F,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(F)||null,b(U,B,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case C:return B=B.get(ee.key===null?F:ee.key)||null,M(U,B,ee,ve);case L:return B=B.get(ee.key===null?F:ee.key)||null,G(U,B,ee,ve);case A:return ee=fa(ee),X(B,U,F,ee,ve)}if(nt(ee)||j(ee))return B=B.get(F)||null,Z(U,B,ee,ve,null);if(typeof ee.then=="function")return X(B,U,F,Oc(ee),ve);if(ee.$$typeof===J)return X(B,U,F,Ic(U,ee),ve);Mc(U,ee)}return null}function de(B,U,F,ee){for(var ve=null,Ye=null,me=U,Ne=U=0,je=null;me!==null&&Ne<F.length;Ne++){me.index>Ne?(je=me,me=null):je=me.sibling;var Qe=K(B,me,F[Ne],ee);if(Qe===null){me===null&&(me=je);break}t&&me&&Qe.alternate===null&&r(B,me),U=d(Qe,U,Ne),Ye===null?ve=Qe:Ye.sibling=Qe,Ye=Qe,me=je}if(Ne===F.length)return a(B,me),Fe&&pr(B,Ne),ve;if(me===null){for(;Ne<F.length;Ne++)me=te(B,F[Ne],ee),me!==null&&(U=d(me,U,Ne),Ye===null?ve=me:Ye.sibling=me,Ye=me);return Fe&&pr(B,Ne),ve}for(me=l(me);Ne<F.length;Ne++)je=X(me,B,Ne,F[Ne],ee),je!==null&&(t&&je.alternate!==null&&me.delete(je.key===null?Ne:je.key),U=d(je,U,Ne),Ye===null?ve=je:Ye.sibling=je,Ye=je);return t&&me.forEach(function(Ts){return r(B,Ts)}),Fe&&pr(B,Ne),ve}function Te(B,U,F,ee){if(F==null)throw Error(s(151));for(var ve=null,Ye=null,me=U,Ne=U=0,je=null,Qe=F.next();me!==null&&!Qe.done;Ne++,Qe=F.next()){me.index>Ne?(je=me,me=null):je=me.sibling;var Ts=K(B,me,Qe.value,ee);if(Ts===null){me===null&&(me=je);break}t&&me&&Ts.alternate===null&&r(B,me),U=d(Ts,U,Ne),Ye===null?ve=Ts:Ye.sibling=Ts,Ye=Ts,me=je}if(Qe.done)return a(B,me),Fe&&pr(B,Ne),ve;if(me===null){for(;!Qe.done;Ne++,Qe=F.next())Qe=te(B,Qe.value,ee),Qe!==null&&(U=d(Qe,U,Ne),Ye===null?ve=Qe:Ye.sibling=Qe,Ye=Qe);return Fe&&pr(B,Ne),ve}for(me=l(me);!Qe.done;Ne++,Qe=F.next())Qe=X(me,B,Ne,Qe.value,ee),Qe!==null&&(t&&Qe.alternate!==null&&me.delete(Qe.key===null?Ne:Qe.key),U=d(Qe,U,Ne),Ye===null?ve=Qe:Ye.sibling=Qe,Ye=Qe);return t&&me.forEach(function(UA){return r(B,UA)}),Fe&&pr(B,Ne),ve}function ot(B,U,F,ee){if(typeof F=="object"&&F!==null&&F.type===P&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case C:e:{for(var ve=F.key;U!==null;){if(U.key===ve){if(ve=F.type,ve===P){if(U.tag===7){a(B,U.sibling),ee=f(U,F.props.children),ee.return=B,B=ee;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===A&&fa(ve)===U.type){a(B,U.sibling),ee=f(U,F.props),Rl(ee,F),ee.return=B,B=ee;break e}a(B,U);break}else r(B,U);U=U.sibling}F.type===P?(ee=oa(F.props.children,B.mode,ee,F.key),ee.return=B,B=ee):(ee=Ac(F.type,F.key,F.props,null,B.mode,ee),Rl(ee,F),ee.return=B,B=ee)}return v(B);case L:e:{for(ve=F.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){a(B,U.sibling),ee=f(U,F.children||[]),ee.return=B,B=ee;break e}else{a(B,U);break}else r(B,U);U=U.sibling}ee=td(F,B.mode,ee),ee.return=B,B=ee}return v(B);case A:return F=fa(F),ot(B,U,F,ee)}if(nt(F))return de(B,U,F,ee);if(j(F)){if(ve=j(F),typeof ve!="function")throw Error(s(150));return F=ve.call(F),Te(B,U,F,ee)}if(typeof F.then=="function")return ot(B,U,Oc(F),ee);if(F.$$typeof===J)return ot(B,U,Ic(B,F),ee);Mc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(a(B,U.sibling),ee=f(U,F),ee.return=B,B=ee):(a(B,U),ee=ed(F,B.mode,ee),ee.return=B,B=ee),v(B)):a(B,U)}return function(B,U,F,ee){try{Al=0;var ve=ot(B,U,F,ee);return lo=null,ve}catch(me){if(me===oo||me===Dc)throw me;var Ye=$n(29,me,null,B.mode);return Ye.lanes=ee,Ye.return=B,Ye}}}var ma=Ry(!0),Cy=Ry(!1),rs=!1;function dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ss(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function as(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=wc(t),cy(t,null,a),r}return Sc(t,l,r,a),wc(t)}function Cl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,dn(t,a)}}function pd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var gd=!1;function Il(){if(gd){var t=ao;if(t!==null)throw t}}function xl(t,r,a,l){gd=!1;var f=t.updateQueue;rs=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var M=b,G=M.next;M.next=null,v===null?d=G:v.next=G,v=M;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==v&&(b===null?Z.firstBaseUpdate=G:b.next=G,Z.lastBaseUpdate=M))}if(d!==null){var te=f.baseState;v=0,Z=G=M=null,b=d;do{var K=b.lane&-536870913,X=K!==b.lane;if(X?(ze&K)===K:(l&K)===K){K!==0&&K===so&&(gd=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=t,Te=b;K=r;var ot=a;switch(Te.tag){case 1:if(de=Te.payload,typeof de=="function"){te=de.call(ot,te,K);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Te.payload,K=typeof de=="function"?de.call(ot,te,K):de,K==null)break e;te=T({},te,K);break e;case 2:rs=!0}}K=b.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=f.callbacks,X===null?f.callbacks=[K]:X.push(K))}else X={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(G=Z=X,M=te):Z=Z.next=X,v|=K;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;X=b,b=X.next,X.next=null,f.lastBaseUpdate=X,f.shared.pending=null}}while(!0);Z===null&&(M=te),f.baseState=M,f.firstBaseUpdate=G,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),hs|=v,t.lanes=v,t.memoizedState=te}}function Iy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function xy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Iy(a[t],r)}var uo=k(null),kc=k(0);function Dy(t,r){t=Rr,ne(kc,t),ne(uo,r),Rr=t|r.baseLanes}function yd(){ne(kc,Rr),ne(uo,uo.current)}function vd(){Rr=kc.current,H(uo),H(kc)}var Xn=k(null),mi=null;function os(t){var r=t.alternate;ne(At,At.current&1),ne(Xn,t),mi===null&&(r===null||uo.current!==null||r.memoizedState!==null)&&(mi=t)}function _d(t){ne(At,At.current),ne(Xn,t),mi===null&&(mi=t)}function Ny(t){t.tag===22?(ne(At,At.current),ne(Xn,t),mi===null&&(mi=t)):ls()}function ls(){ne(At,At.current),ne(Xn,Xn.current)}function Wn(t){H(Xn),mi===t&&(mi=null),H(At)}var At=k(0);function Vc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Am(a)||Rm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vr=0,xe=null,st=null,kt=null,Lc=!1,co=!1,pa=!1,Pc=0,Dl=0,ho=null,Iw=0;function Et(){throw Error(s(321))}function Ed(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Qn(t[a],r[a]))return!1;return!0}function Td(t,r,a,l,f,d){return vr=d,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=t===null||t.memoizedState===null?mv:Ld,pa=!1,d=a(l,f),pa=!1,co&&(d=My(r,a,l,f)),Oy(t),d}function Oy(t){W.H=Ml;var r=st!==null&&st.next!==null;if(vr=0,kt=st=xe=null,Lc=!1,Dl=0,ho=null,r)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&Cc(t)&&(Vt=!0))}function My(t,r,a,l){xe=t;var f=0;do{if(co&&(ho=null),Dl=0,co=!1,25<=f)throw Error(s(301));if(f+=1,kt=st=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=pv,d=r(a,l)}while(co);return d}function xw(){var t=W.H,r=t.useState()[0];return r=typeof r.then=="function"?Nl(r):r,t=t.useState()[0],(st!==null?st.memoizedState:null)!==t&&(xe.flags|=1024),r}function bd(){var t=Pc!==0;return Pc=0,t}function Sd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function wd(t){if(Lc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Lc=!1}vr=0,kt=st=xe=null,co=!1,Dl=Pc=0,ho=null}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?xe.memoizedState=kt=t:kt=kt.next=t,kt}function Rt(){if(st===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var r=kt===null?xe.memoizedState:kt.next;if(r!==null)kt=r,st=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},kt===null?xe.memoizedState=kt=t:kt=kt.next=t}return kt}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nl(t){var r=Dl;return Dl+=1,ho===null&&(ho=[]),t=Sy(ho,t,r),r=xe,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?mv:Ld),t}function zc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Nl(t);if(t.$$typeof===J)return rn(t)}throw Error(s(438,String(t)))}function Ad(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Uc(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=V;return r.index++,a}function _r(t,r){return typeof r=="function"?r(t):r}function jc(t){var r=Rt();return Rd(r,st,t)}function Rd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var b=v=null,M=null,G=r,Z=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(ze&te)===te:(vr&te)===te){var K=G.revertLane;if(K===0)M!==null&&(M=M.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===so&&(Z=!0);else if((vr&K)===K){G=G.next,K===so&&(Z=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(b=M=te,v=d):M=M.next=te,xe.lanes|=K,hs|=K;te=G.action,pa&&a(d,te),d=G.hasEagerState?G.eagerState:a(d,te)}else K={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},M===null?(b=M=K,v=d):M=M.next=K,xe.lanes|=te,hs|=te;G=G.next}while(G!==null&&G!==r);if(M===null?v=d:M.next=b,!Qn(d,t.memoizedState)&&(Vt=!0,Z&&(a=ao,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=M,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Cd(t){var r=Rt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);Qn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ky(t,r,a){var l=xe,f=Rt(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Qn((st||f).memoizedState,a);if(v&&(f.memoizedState=a,Vt=!0),f=f.queue,Dd(Py.bind(null,l,f,t),[t]),f.getSnapshot!==r||v||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,fo(9,{destroy:void 0},Ly.bind(null,l,f,a,r),null),lt===null)throw Error(s(349));d||(vr&127)!==0||Vy(l,r,a)}return a}function Vy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=Uc(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ly(t,r,a,l){r.value=a,r.getSnapshot=l,Uy(r)&&zy(t)}function Py(t,r,a){return a(function(){Uy(r)&&zy(t)})}function Uy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Qn(t,a)}catch{return!0}}function zy(t){var r=aa(t,2);r!==null&&Ln(r,t,2)}function Id(t){var r=Rn();if(typeof t=="function"){var a=t;if(t=a(),pa){cn(!0);try{a()}finally{cn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:t},r}function jy(t,r,a,l){return t.baseState=a,Rd(t,st,typeof l=="function"?l:_r)}function Dw(t,r,a,l,f){if(qc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,By(r,d)):(d.next=a.next,r.pending=a.next=d)}}function By(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=W.T,v={};W.T=v;try{var b=a(f,l),M=W.S;M!==null&&M(v,b),Hy(t,r,b)}catch(G){xd(t,r,G)}finally{d!==null&&v.types!==null&&(d.types=v.types),W.T=d}}else try{d=a(f,l),Hy(t,r,d)}catch(G){xd(t,r,G)}}function Hy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qy(t,r,l)},function(l){return xd(t,r,l)}):qy(t,r,a)}function qy(t,r,a){r.status="fulfilled",r.value=a,Fy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,By(t,a)))}function xd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Fy(r),r=r.next;while(r!==l)}t.action=null}function Fy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Gy(t,r){return r}function Ky(t,r){if(Fe){var a=lt.formState;if(a!==null){e:{var l=xe;if(Fe){if(ut){t:{for(var f=ut,d=di;f.nodeType!==8;){if(!d){f=null;break t}if(f=pi(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ut=pi(f.nextSibling),l=f.data==="F!";break e}}ns(l)}l=!1}l&&(r=a[0])}}return a=Rn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gy,lastRenderedState:r},a.queue=l,a=hv.bind(null,xe,l),l.dispatch=a,l=Id(!1),d=Vd.bind(null,xe,!1,l.queue),l=Rn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=Dw.bind(null,xe,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Yy(t){var r=Rt();return Qy(r,st,t)}function Qy(t,r,a){if(r=Rd(t,r,Gy)[0],t=jc(_r)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Nl(r)}catch(v){throw v===oo?Dc:v}else l=r;r=Rt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,fo(9,{destroy:void 0},Nw.bind(null,f,a),null)),[l,d,t]}function Nw(t,r){t.action=r}function $y(t){var r=Rt(),a=st;if(a!==null)return Qy(r,a,t);Rt(),r=r.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function fo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=Uc(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Xy(){return Rt().memoizedState}function Bc(t,r,a,l){var f=Rn();xe.flags|=t,f.memoizedState=fo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Hc(t,r,a,l){var f=Rt();l=l===void 0?null:l;var d=f.memoizedState.inst;st!==null&&l!==null&&Ed(l,st.memoizedState.deps)?f.memoizedState=fo(r,d,a,l):(xe.flags|=t,f.memoizedState=fo(1|r,d,a,l))}function Wy(t,r){Bc(8390656,8,t,r)}function Dd(t,r){Hc(2048,8,t,r)}function Ow(t){xe.flags|=4;var r=xe.updateQueue;if(r===null)r=Uc(),xe.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function Jy(t){var r=Rt().memoizedState;return Ow({ref:r,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Zy(t,r){return Hc(4,2,t,r)}function ev(t,r){return Hc(4,4,t,r)}function tv(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function nv(t,r,a){a=a!=null?a.concat([t]):null,Hc(4,4,tv.bind(null,r,t),a)}function Nd(){}function iv(t,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Ed(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function rv(t,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Ed(r,l[1]))return l[0];if(l=t(),pa){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l}function Od(t,r,a){return a===void 0||(vr&1073741824)!==0&&(ze&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=s_(),xe.lanes|=t,hs|=t,a)}function sv(t,r,a,l){return Qn(a,r)?a:uo.current!==null?(t=Od(t,a,l),Qn(t,r)||(Vt=!0),t):(vr&42)===0||(vr&1073741824)!==0&&(ze&261930)===0?(Vt=!0,t.memoizedState=a):(t=s_(),xe.lanes|=t,hs|=t,r)}function av(t,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=W.T,b={};W.T=b,Vd(t,!1,r,a);try{var M=f(),G=W.S;if(G!==null&&G(b,M),M!==null&&typeof M=="object"&&typeof M.then=="function"){var Z=Cw(M,l);Ol(t,r,Z,ei(t))}else Ol(t,r,l,ei(t))}catch(te){Ol(t,r,{then:function(){},status:"rejected",reason:te},ei())}finally{ae.p=d,v!==null&&b.types!==null&&(v.types=b.types),W.T=v}}function Mw(){}function Md(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=ov(t).queue;av(t,f,r,pe,a===null?Mw:function(){return lv(t),a(l)})}function ov(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function lv(t){var r=ov(t);r.next===null&&(r=t.alternate.memoizedState),Ol(t,r.next.queue,{},ei())}function kd(){return rn($l)}function uv(){return Rt().memoizedState}function cv(){return Rt().memoizedState}function kw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=ei();t=ss(a);var l=as(r,t,a);l!==null&&(Ln(l,r,a),Cl(l,r,a)),r={cache:ud()},t.payload=r;return}r=r.return}}function Vw(t,r,a){var l=ei();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},qc(t)?fv(r,a):(a=Jf(t,r,a,l),a!==null&&(Ln(a,t,l),dv(a,r,l)))}function hv(t,r,a){var l=ei();Ol(t,r,a,l)}function Ol(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(qc(t))fv(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,b=d(v,a);if(f.hasEagerState=!0,f.eagerState=b,Qn(b,v))return Sc(t,r,f,0),lt===null&&bc(),!1}catch{}if(a=Jf(t,r,f,l),a!==null)return Ln(a,t,l),dv(a,r,l),!0}return!1}function Vd(t,r,a,l){if(l={lane:2,revertLane:dm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},qc(t)){if(r)throw Error(s(479))}else r=Jf(t,a,l,2),r!==null&&Ln(r,t,2)}function qc(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function fv(t,r){co=Lc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function dv(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,dn(t,a)}}var Ml={readContext:rn,use:zc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};Ml.useEffectEvent=Et;var mv={readContext:rn,use:zc,useCallback:function(t,r){return Rn().memoizedState=[t,r===void 0?null:r],t},useContext:rn,useEffect:Wy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Bc(4194308,4,tv.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Bc(4194308,4,t,r)},useInsertionEffect:function(t,r){Bc(4,2,t,r)},useMemo:function(t,r){var a=Rn();r=r===void 0?null:r;var l=t();if(pa){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=Rn();if(a!==void 0){var f=a(r);if(pa){cn(!0);try{a(r)}finally{cn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Vw.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var r=Rn();return t={current:t},r.memoizedState=t},useState:function(t){t=Id(t);var r=t.queue,a=hv.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Nd,useDeferredValue:function(t,r){var a=Rn();return Od(a,t,r)},useTransition:function(){var t=Id(!1);return t=av.bind(null,xe,t.queue,!0,!1),Rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=xe,f=Rn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),lt===null)throw Error(s(349));(ze&127)!==0||Vy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Wy(Py.bind(null,l,d,t),[t]),l.flags|=2048,fo(9,{destroy:void 0},Ly.bind(null,l,d,a,r),null),a},useId:function(){var t=Rn(),r=lt.identifierPrefix;if(Fe){var a=$i,l=Qi;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Pc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=Iw++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:kd,useFormState:Ky,useActionState:Ky,useOptimistic:function(t){var r=Rn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Vd.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:Ad,useCacheRefresh:function(){return Rn().memoizedState=kw.bind(null,xe)},useEffectEvent:function(t){var r=Rn(),a={impl:t};return r.memoizedState=a,function(){if((Xe&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ld={readContext:rn,use:zc,useCallback:iv,useContext:rn,useEffect:Dd,useImperativeHandle:nv,useInsertionEffect:Zy,useLayoutEffect:ev,useMemo:rv,useReducer:jc,useRef:Xy,useState:function(){return jc(_r)},useDebugValue:Nd,useDeferredValue:function(t,r){var a=Rt();return sv(a,st.memoizedState,t,r)},useTransition:function(){var t=jc(_r)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:Nl(t),r]},useSyncExternalStore:ky,useId:uv,useHostTransitionStatus:kd,useFormState:Yy,useActionState:Yy,useOptimistic:function(t,r){var a=Rt();return jy(a,st,t,r)},useMemoCache:Ad,useCacheRefresh:cv};Ld.useEffectEvent=Jy;var pv={readContext:rn,use:zc,useCallback:iv,useContext:rn,useEffect:Dd,useImperativeHandle:nv,useInsertionEffect:Zy,useLayoutEffect:ev,useMemo:rv,useReducer:Cd,useRef:Xy,useState:function(){return Cd(_r)},useDebugValue:Nd,useDeferredValue:function(t,r){var a=Rt();return st===null?Od(a,t,r):sv(a,st.memoizedState,t,r)},useTransition:function(){var t=Cd(_r)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:Nl(t),r]},useSyncExternalStore:ky,useId:uv,useHostTransitionStatus:kd,useFormState:$y,useActionState:$y,useOptimistic:function(t,r){var a=Rt();return st!==null?jy(a,st,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:cv};pv.useEffectEvent=Jy;function Pd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ud={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=ei(),f=ss(l);f.payload=r,a!=null&&(f.callback=a),r=as(t,f,l),r!==null&&(Ln(r,t,l),Cl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=ei(),f=ss(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=as(t,f,l),r!==null&&(Ln(r,t,l),Cl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=ei(),l=ss(a);l.tag=2,r!=null&&(l.callback=r),r=as(t,l,a),r!==null&&(Ln(r,t,a),Cl(r,t,a))}};function gv(t,r,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!_l(a,l)||!_l(f,d):!0}function yv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Ud.enqueueReplaceState(r,r.state,null)}function ga(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function vv(t){Tc(t)}function _v(t){console.error(t)}function Ev(t){Tc(t)}function Fc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Tv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zd(t,r,a){return a=ss(a),a.tag=3,a.payload={element:null},a.callback=function(){Fc(t,r)},a}function bv(t){return t=ss(t),t.tag=3,t}function Sv(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Tv(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Tv(r,a,l),typeof f!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Lw(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&ro(r,a,f,!0),a=Xn.current,a!==null){switch(a.tag){case 31:case 13:return mi===null?nh():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Nc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),cm(t,l,f)),!1;case 22:return a.flags|=65536,l===Nc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),cm(t,l,f)),!1}throw Error(s(435,a.tag))}return cm(t,l,f),nh(),!1}if(Fe)return r=Xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==rd&&(t=Error(s(422),{cause:l}),bl(ci(t,a)))):(l!==rd&&(r=Error(s(423),{cause:l}),bl(ci(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=ci(l,a),f=zd(t.stateNode,l,f),pd(t,f),Tt!==4&&(Tt=2)),!1;var d=Error(s(520),{cause:l});if(d=ci(d,a),Bl===null?Bl=[d]:Bl.push(d),Tt!==4&&(Tt=2),r===null)return!0;l=ci(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=zd(a.stateNode,l,t),pd(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(fs===null||!fs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=bv(f),Sv(f,t,a,l),pd(a,f),!1}a=a.return}while(a!==null);return!1}var jd=Error(s(461)),Vt=!1;function sn(t,r,a,l){r.child=t===null?Cy(r,null,a,l):ma(r,t.child,a,l)}function wv(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return ca(r),l=Td(t,r,a,v,d,f),b=bd(),t!==null&&!Vt?(Sd(t,r,f),Er(t,r,f)):(Fe&&b&&nd(r),r.flags|=1,sn(t,r,l,f),r.child)}function Av(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Zf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Rv(t,r,d,l,f)):(t=Ac(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Qd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:_l,a(v,l)&&t.ref===r.ref)return Er(t,r,f)}return r.flags|=1,t=mr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Rv(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(_l(d,l)&&t.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,Qd(t,f))(t.flags&131072)!==0&&(Vt=!0);else return r.lanes=t.lanes,Er(t,r,f)}return Bd(t,r,a,l,f)}function Cv(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return Iv(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&xc(r,d!==null?d.cachePool:null),d!==null?Dy(r,d):yd(),Ny(r);else return l=r.lanes=536870912,Iv(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(xc(r,d.cachePool),Dy(r,d),ls(),r.memoizedState=null):(t!==null&&xc(r,null),yd(),ls());return sn(t,r,f,a),r.child}function kl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Iv(t,r,a,l,f){var d=hd();return d=d===null?null:{parent:Mt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&xc(r,null),yd(),Ny(r),t!==null&&ro(t,r,l,!0),r.childLanes=f,null}function Gc(t,r){return r=Yc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function xv(t,r,a){return ma(r,t.child,null,a),t=Gc(r,r.pendingProps),t.flags|=2,Wn(r),r.memoizedState=null,t}function Pw(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Fe){if(l.mode==="hidden")return t=Gc(r,l),r.lanes=536870912,kl(null,t);if(_d(r),(t=ut)?(t=B_(t,di),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:es!==null?{id:Qi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=fy(t),a.return=r,r.child=a,nn=r,ut=null)):t=null,t===null)throw ns(r);return r.lanes=536870912,null}return Gc(r,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(_d(r),f)if(r.flags&256)r.flags&=-257,r=xv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Vt||ro(t,r,a,!1),f=(a&t.childLanes)!==0,Vt||f){if(l=lt,l!==null&&(v=bn(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,aa(t,v),Ln(l,t,v),jd;nh(),r=xv(t,r,a)}else t=d.treeContext,ut=pi(v.nextSibling),nn=r,Fe=!0,ts=null,di=!1,t!==null&&py(r,t),r=Gc(r,l),r.flags|=4096;return r}return t=mr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Kc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Bd(t,r,a,l,f){return ca(r),a=Td(t,r,a,l,void 0,f),l=bd(),t!==null&&!Vt?(Sd(t,r,f),Er(t,r,f)):(Fe&&l&&nd(r),r.flags|=1,sn(t,r,a,f),r.child)}function Dv(t,r,a,l,f,d){return ca(r),r.updateQueue=null,a=My(r,l,a,f),Oy(t),l=bd(),t!==null&&!Vt?(Sd(t,r,d),Er(t,r,d)):(Fe&&l&&nd(r),r.flags|=1,sn(t,r,a,d),r.child)}function Nv(t,r,a,l,f){if(ca(r),r.stateNode===null){var d=eo,v=a.contextType;typeof v=="object"&&v!==null&&(d=rn(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ud,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},dd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?rn(v):eo,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Pd(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Ud.enqueueReplaceState(d,d.state,null),xl(r,l,d,f),Il(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,M=ga(a,b);d.props=M;var G=d.context,Z=a.contextType;v=eo,typeof Z=="object"&&Z!==null&&(v=rn(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||G!==v)&&yv(r,d,l,v),rs=!1;var K=r.memoizedState;d.state=K,xl(r,l,d,f),Il(),G=r.memoizedState,b||K!==G||rs?(typeof te=="function"&&(Pd(r,a,te,l),G=r.memoizedState),(M=rs||gv(r,a,M,l,K,G,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=v,l=M):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,md(t,r),v=r.memoizedProps,Z=ga(a,v),d.props=Z,te=r.pendingProps,K=d.context,G=a.contextType,M=eo,typeof G=="object"&&G!==null&&(M=rn(G)),b=a.getDerivedStateFromProps,(G=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||K!==M)&&yv(r,d,l,M),rs=!1,K=r.memoizedState,d.state=K,xl(r,l,d,f),Il();var X=r.memoizedState;v!==te||K!==X||rs||t!==null&&t.dependencies!==null&&Cc(t.dependencies)?(typeof b=="function"&&(Pd(r,a,b,l),X=r.memoizedState),(Z=rs||gv(r,a,Z,l,K,X,M)||t!==null&&t.dependencies!==null&&Cc(t.dependencies))?(G||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,M),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,M)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=X),d.props=l,d.state=X,d.context=M,l=Z):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Kc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=ma(r,t.child,null,f),r.child=ma(r,null,a,f)):sn(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Er(t,r,f),t}function Ov(t,r,a,l){return la(),r.flags|=256,sn(t,r,a,l),r.child}var Hd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qd(t){return{baseLanes:t,cachePool:Ty()}}function Fd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Zn),t}function Mv(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Fe){if(f?os(r):ls(),(t=ut)?(t=B_(t,di),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:es!==null?{id:Qi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=fy(t),a.return=r,r.child=a,nn=r,ut=null)):t=null,t===null)throw ns(r);return Rm(t)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(ls(),f=r.mode,b=Yc({mode:"hidden",children:b},f),l=oa(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=qd(a),l.childLanes=Fd(t,v,a),r.memoizedState=Hd,kl(null,l)):(os(r),Gd(r,b))}var M=t.memoizedState;if(M!==null&&(b=M.dehydrated,b!==null)){if(d)r.flags&256?(os(r),r.flags&=-257,r=Kd(t,r,a)):r.memoizedState!==null?(ls(),r.child=t.child,r.flags|=128,r=null):(ls(),b=l.fallback,f=r.mode,l=Yc({mode:"visible",children:l.children},f),b=oa(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,ma(r,t.child,null,a),l=r.child,l.memoizedState=qd(a),l.childLanes=Fd(t,v,a),r.memoizedState=Hd,r=kl(null,l));else if(os(r),Rm(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var G=v.dgst;v=G,l=Error(s(419)),l.stack="",l.digest=v,bl({value:l,source:null,stack:null}),r=Kd(t,r,a)}else if(Vt||ro(t,r,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=lt,v!==null&&(l=bn(v,a),l!==0&&l!==M.retryLane))throw M.retryLane=l,aa(t,l),Ln(v,t,l),jd;Am(b)||nh(),r=Kd(t,r,a)}else Am(b)?(r.flags|=192,r.child=t.child,r=null):(t=M.treeContext,ut=pi(b.nextSibling),nn=r,Fe=!0,ts=null,di=!1,t!==null&&py(r,t),r=Gd(r,l.children),r.flags|=4096);return r}return f?(ls(),b=l.fallback,f=r.mode,M=t.child,G=M.sibling,l=mr(M,{mode:"hidden",children:l.children}),l.subtreeFlags=M.subtreeFlags&65011712,G!==null?b=mr(G,b):(b=oa(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,kl(null,l),l=r.child,b=t.child.memoizedState,b===null?b=qd(a):(f=b.cachePool,f!==null?(M=Mt._currentValue,f=f.parent!==M?{parent:M,pool:M}:f):f=Ty(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=Fd(t,v,a),r.memoizedState=Hd,kl(t.child,l)):(os(r),a=t.child,t=a.sibling,a=mr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Gd(t,r){return r=Yc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Yc(t,r){return t=$n(22,t,null,r),t.lanes=0,t}function Kd(t,r,a){return ma(r,t.child,null,a),t=Gd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function kv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),od(t.return,r,a)}function Yd(t,r,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function Vv(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=At.current,b=(v&2)!==0;if(b?(v=v&1|2,r.flags|=128):v&=1,ne(At,v),sn(t,r,l,a),l=Fe?Tl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kv(t,a,r);else if(t.tag===19)kv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Vc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Yd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Vc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Yd(r,!0,a,null,d,l);break;case"together":Yd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Er(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),hs|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(ro(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=mr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=mr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Qd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Cc(t)))}function Uw(t,r,a){switch(r.tag){case 3:Me(r,r.stateNode.containerInfo),is(r,Mt,t.memoizedState.cache),la();break;case 27:case 5:ke(r);break;case 4:Me(r,r.stateNode.containerInfo);break;case 10:is(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,_d(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(os(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Mv(t,r,a):(os(r),t=Er(t,r,a),t!==null?t.sibling:null);os(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(ro(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Vv(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ne(At,At.current),l)break;return null;case 22:return r.lanes=0,Cv(t,r,a,r.pendingProps);case 24:is(r,Mt,t.memoizedState.cache)}return Er(t,r,a)}function Lv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Qd(t,a)&&(r.flags&128)===0)return Vt=!1,Uw(t,r,a);Vt=(t.flags&131072)!==0}else Vt=!1,Fe&&(r.flags&1048576)!==0&&my(r,Tl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=fa(r.elementType),r.type=t,typeof t=="function")Zf(t)?(l=ga(t,l),r.tag=1,r=Nv(null,r,t,l,a)):(r.tag=0,r=Bd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===se){r.tag=11,r=wv(null,r,t,l,a);break e}else if(f===R){r.tag=14,r=Av(null,r,t,l,a);break e}}throw r=Oe(t)||t,Error(s(306,r,""))}}return r;case 0:return Bd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ga(l,r.pendingProps),Nv(t,r,l,f,a);case 3:e:{if(Me(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,md(t,r),xl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,is(r,Mt,l),l!==d.cache&&ld(r,[Mt],a,!0),Il(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Ov(t,r,l,a);break e}else if(l!==f){f=ci(Error(s(424)),r),bl(f),r=Ov(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ut=pi(t.firstChild),nn=r,Fe=!0,ts=null,di=!0,a=Cy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(la(),l===f){r=Er(t,r,a);break e}sn(t,r,l,a)}r=r.child}return r;case 26:return Kc(t,r),t===null?(a=Y_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,t=r.pendingProps,l=uh(ye.current).createElement(a),l[Dt]=r,l[$t]=t,an(l,a,t),Nt(l),r.stateNode=l):r.memoizedState=Y_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ke(r),t===null&&Fe&&(l=r.stateNode=F_(r.type,r.pendingProps,ye.current),nn=r,di=!0,f=ut,gs(r.type)?(Cm=f,ut=pi(l.firstChild)):ut=f),sn(t,r,r.pendingProps.children,a),Kc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Fe&&((f=l=ut)&&(l=mA(l,r.type,r.pendingProps,di),l!==null?(r.stateNode=l,nn=r,ut=pi(l.firstChild),di=!1,f=!0):f=!1),f||ns(r)),ke(r),f=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,bm(f,d)?l=null:v!==null&&bm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Td(t,r,xw,null,null,a),$l._currentValue=f),Kc(t,r),sn(t,r,l,a),r.child;case 6:return t===null&&Fe&&((t=a=ut)&&(a=pA(a,r.pendingProps,di),a!==null?(r.stateNode=a,nn=r,ut=null,t=!0):t=!1),t||ns(r)),null;case 13:return Mv(t,r,a);case 4:return Me(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=ma(r,null,l,a):sn(t,r,l,a),r.child;case 11:return wv(t,r,r.type,r.pendingProps,a);case 7:return sn(t,r,r.pendingProps,a),r.child;case 8:return sn(t,r,r.pendingProps.children,a),r.child;case 12:return sn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,is(r,r.type,l.value),sn(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ca(r),f=rn(f),l=l(f),r.flags|=1,sn(t,r,l,a),r.child;case 14:return Av(t,r,r.type,r.pendingProps,a);case 15:return Rv(t,r,r.type,r.pendingProps,a);case 19:return Vv(t,r,a);case 31:return Pw(t,r,a);case 22:return Cv(t,r,a,r.pendingProps);case 24:return ca(r),l=rn(Mt),t===null?(f=hd(),f===null&&(f=lt,d=ud(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},dd(r),is(r,Mt,f)):((t.lanes&a)!==0&&(md(t,r),xl(r,null,null,a),Il()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),is(r,Mt,l)):(l=d.cache,is(r,Mt,l),l!==f.cache&&ld(r,[Mt],a,!0))),sn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Tr(t){t.flags|=4}function $d(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(u_())t.flags|=8192;else throw da=Nc,fd}else t.flags&=-16777217}function Pv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!J_(r))if(u_())t.flags|=8192;else throw da=Nc,fd}function Qc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Qt():536870912,t.lanes|=r,yo|=r)}function Vl(t,r){if(!Fe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function zw(t,r,a){var l=r.pendingProps;switch(id(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),yr(Mt),Ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(io(r)?Tr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,sd())),ct(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(Tr(r),d!==null?(ct(r),Pv(r,d)):(ct(r),$d(r,f,null,l,a))):d?d!==t.memoizedState?(Tr(r),ct(r),Pv(r,d)):(ct(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Tr(r),ct(r),$d(r,f,t,l,a)),null;case 27:if(En(r),a=ye.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}t=le.current,io(r)?gy(r):(t=F_(f,l,a),r.stateNode=t,Tr(r))}return ct(r),null;case 5:if(En(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(d=le.current,io(r))gy(r);else{var v=uh(ye.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[Dt]=r,d[$t]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(an(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Tr(r)}}return ct(r),$d(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Tr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=ye.current,io(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Dt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||M_(t.nodeValue,a)),t||ns(r,!0)}else t=uh(t).createTextNode(l),t[Dt]=r,r.stateNode=t}return ct(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=io(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Dt]=r}else la(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),t=!1}else a=sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Wn(r),r):(Wn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ct(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=io(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Dt]=r}else la(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),f=!1}else f=sd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Wn(r),r):(Wn(r),null)}return Wn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Qc(r,r.updateQueue),ct(r),null);case 4:return Ue(),t===null&&ym(r.stateNode.containerInfo),ct(r),null;case 10:return yr(r.type),ct(r),null;case 19:if(H(At),l=r.memoizedState,l===null)return ct(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Vl(l,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Vc(t),d!==null){for(r.flags|=128,Vl(l,!1),t=d.updateQueue,r.updateQueue=t,Qc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)hy(a,t),a=a.sibling;return ne(At,At.current&1|2),Fe&&pr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Yt()>Zc&&(r.flags|=128,f=!0,Vl(l,!1),r.lanes=4194304)}else{if(!f)if(t=Vc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Qc(r,t),Vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Fe)return ct(r),null}else 2*Yt()-l.renderingStartTime>Zc&&a!==536870912&&(r.flags|=128,f=!0,Vl(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Yt(),t.sibling=null,a=At.current,ne(At,f?a&1|2:a&1),Fe&&pr(r,l.treeForkCount),t):(ct(r),null);case 22:case 23:return Wn(r),vd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&Qc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&H(ha),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),yr(Mt),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function jw(t,r){switch(id(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return yr(Mt),Ue(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return En(r),null;case 31:if(r.memoizedState!==null){if(Wn(r),r.alternate===null)throw Error(s(340));la()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Wn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));la()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return H(At),null;case 4:return Ue(),null;case 10:return yr(r.type),null;case 22:case 23:return Wn(r),vd(),t!==null&&H(ha),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return yr(Mt),null;case 25:return null;default:return null}}function Uv(t,r){switch(id(r),r.tag){case 3:yr(Mt),Ue();break;case 26:case 27:case 5:En(r);break;case 4:Ue();break;case 31:r.memoizedState!==null&&Wn(r);break;case 13:Wn(r);break;case 19:H(At);break;case 10:yr(r.type);break;case 22:case 23:Wn(r),vd(),t!==null&&H(ha);break;case 24:yr(Mt)}}function Ll(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(b){tt(r,r.return,b)}}function us(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,f=r;var M=a,G=b;try{G()}catch(Z){tt(f,M,Z)}}}l=l.next}while(l!==d)}}catch(Z){tt(r,r.return,Z)}}function zv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{xy(r,a)}catch(l){tt(t,t.return,l)}}}function jv(t,r,a){a.props=ga(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,r,l)}}function Pl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){tt(t,r,f)}}function Xi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){tt(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(t,r,f)}else a.current=null}function Bv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){tt(t,t.return,f)}}function Xd(t,r,a){try{var l=t.stateNode;lA(l,t.type,a,r),l[$t]=r}catch(f){tt(t,t.return,f)}}function Hv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gs(t.type)||t.tag===4}function Wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Hv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=bi));else if(l!==4&&(l===27&&gs(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Jd(t,r,a),t=t.sibling;t!==null;)Jd(t,r,a),t=t.sibling}function $c(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&gs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for($c(t,r,a),t=t.sibling;t!==null;)$c(t,r,a),t=t.sibling}function qv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,l,a),r[Dt]=t,r[$t]=a}catch(d){tt(t,t.return,d)}}var br=!1,Lt=!1,Zd=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function Bw(t,r){if(t=t.containerInfo,Em=gh,t=ny(t),Kf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,M=-1,G=0,Z=0,te=t,K=null;t:for(;;){for(var X;te!==a||f!==0&&te.nodeType!==3||(b=v+f),te!==d||l!==0&&te.nodeType!==3||(M=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(X=te.firstChild)!==null;)K=te,te=X;for(;;){if(te===t)break t;if(K===a&&++G===f&&(b=v),K===d&&++Z===l&&(M=v),(X=te.nextSibling)!==null)break;te=K,K=te.parentNode}te=X}a=b===-1||M===-1?null:{start:b,end:M}}else a=null}a=a||{start:0,end:0}}else a=null;for(Tm={focusedElem:t,selectionRange:a},gh=!1,Wt=r;Wt!==null;)if(r=Wt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Wt=t;else for(;Wt!==null;){switch(r=Wt,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=ga(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Te){tt(a,a.return,Te)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)wm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Wt=t;break}Wt=r.return}}function Gv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wr(t,a),l&4&&Ll(5,a);break;case 1:if(wr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){tt(a,a.return,v)}else{var f=ga(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){tt(a,a.return,v)}}l&64&&zv(a),l&512&&Pl(a,a.return);break;case 3:if(wr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{xy(t,r)}catch(v){tt(a,a.return,v)}}break;case 27:r===null&&l&4&&qv(a);case 26:case 5:wr(t,a),r===null&&l&4&&Bv(a),l&512&&Pl(a,a.return);break;case 12:wr(t,a);break;case 31:wr(t,a),l&4&&Qv(t,a);break;case 13:wr(t,a),l&4&&$v(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Xw.bind(null,a),gA(t,a))));break;case 22:if(l=a.memoizedState!==null||br,!l){r=r!==null&&r.memoizedState!==null||Lt,f=br;var d=Lt;br=l,(Lt=r)&&!d?Ar(t,a,(a.subtreeFlags&8772)!==0):wr(t,a),br=f,Lt=d}break;case 30:break;default:wr(t,a)}}function Kv(t){var r=t.alternate;r!==null&&(t.alternate=null,Kv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ja(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,On=!1;function Sr(t,r,a){for(a=a.child;a!==null;)Yv(t,r,a),a=a.sibling}function Yv(t,r,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Lt||Xi(a,r),Sr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Xi(a,r);var l=yt,f=On;gs(a.type)&&(yt=a.stateNode,On=!1),Sr(t,r,a),Kl(a.stateNode),yt=l,On=f;break;case 5:Lt||Xi(a,r);case 6:if(l=yt,f=On,yt=null,Sr(t,r,a),yt=l,On=f,yt!==null)if(On)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(d){tt(a,r,d)}else try{yt.removeChild(a.stateNode)}catch(d){tt(a,r,d)}break;case 18:yt!==null&&(On?(t=yt,z_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ao(t)):z_(yt,a.stateNode));break;case 4:l=yt,f=On,yt=a.stateNode.containerInfo,On=!0,Sr(t,r,a),yt=l,On=f;break;case 0:case 11:case 14:case 15:us(2,a,r),Lt||us(4,a,r),Sr(t,r,a);break;case 1:Lt||(Xi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&jv(a,r,l)),Sr(t,r,a);break;case 21:Sr(t,r,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,Sr(t,r,a),Lt=l;break;default:Sr(t,r,a)}}function Qv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ao(t)}catch(a){tt(r,r.return,a)}}}function $v(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ao(t)}catch(a){tt(r,r.return,a)}}function Hw(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Fv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Fv),r;default:throw Error(s(435,t.tag))}}function Xc(t,r){var a=Hw(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=Ww.bind(null,t,l);l.then(f,f)}})}function Mn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(gs(b.type)){yt=b.stateNode,On=!1;break e}break;case 5:yt=b.stateNode,On=!1;break e;case 3:case 4:yt=b.stateNode.containerInfo,On=!0;break e}b=b.return}if(yt===null)throw Error(s(160));Yv(d,v,f),yt=null,On=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Xv(r,t),r=r.sibling}var Ii=null;function Xv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(r,t),kn(t),l&4&&(us(3,t,t.return),Ll(3,t),us(5,t,t.return));break;case 1:Mn(r,t),kn(t),l&512&&(Lt||a===null||Xi(a,a.return)),l&64&&br&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ii;if(Mn(r,t),kn(t),l&512&&(Lt||a===null||Xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Li]||d[Dt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),an(d,l,a),d[Dt]=t,Nt(d),l=d;break e;case"link":var v=X_("link","href",f).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=f.createElement(l),an(d,l,a),f.head.appendChild(d);break;case"meta":if(v=X_("meta","content",f).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=f.createElement(l),an(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Dt]=t,Nt(d),l=d}t.stateNode=l}else W_(f,t.type,t.stateNode);else t.stateNode=$_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?W_(f,t.type,t.stateNode):$_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Mn(r,t),kn(t),l&512&&(Lt||a===null||Xi(a,a.return)),a!==null&&l&4&&Xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Mn(r,t),kn(t),l&512&&(Lt||a===null||Xi(a,a.return)),t.flags&32){f=t.stateNode;try{Nn(f,"")}catch(de){tt(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Xd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Zd=!0);break;case 6:if(Mn(r,t),kn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){tt(t,t.return,de)}}break;case 3:if(fh=null,f=Ii,Ii=ch(r.containerInfo),Mn(r,t),Ii=f,kn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ao(r.containerInfo)}catch(de){tt(t,t.return,de)}Zd&&(Zd=!1,Wv(t));break;case 4:l=Ii,Ii=ch(t.stateNode.containerInfo),Mn(r,t),kn(t),Ii=l;break;case 12:Mn(r,t),kn(t);break;case 31:Mn(r,t),kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xc(t,l)));break;case 13:Mn(r,t),kn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Jc=Yt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xc(t,l)));break;case 22:f=t.memoizedState!==null;var M=a!==null&&a.memoizedState!==null,G=br,Z=Lt;if(br=G||f,Lt=Z||M,Mn(r,t),Lt=Z,br=G,kn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||M||br||Lt||ya(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){M=a=r;try{if(d=M.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=M.stateNode;var te=M.memoizedProps.style,K=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(de){tt(M,M.return,de)}}}else if(r.tag===6){if(a===null){M=r;try{M.stateNode.nodeValue=f?"":M.memoizedProps}catch(de){tt(M,M.return,de)}}}else if(r.tag===18){if(a===null){M=r;try{var X=M.stateNode;f?j_(X,!0):j_(M.stateNode,!1)}catch(de){tt(M,M.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Xc(t,a))));break;case 19:Mn(r,t),kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xc(t,l)));break;case 30:break;case 21:break;default:Mn(r,t),kn(t)}}function kn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Hv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Wd(t);$c(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(Nn(v,""),a.flags&=-33);var b=Wd(t);$c(t,b,v);break;case 3:case 4:var M=a.stateNode.containerInfo,G=Wd(t);Jd(t,G,M);break;default:throw Error(s(161))}}catch(Z){tt(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Wv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Wv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function wr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Gv(t,r.alternate,r),r=r.sibling}function ya(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:us(4,r,r.return),ya(r);break;case 1:Xi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&jv(r,r.return,a),ya(r);break;case 27:Kl(r.stateNode);case 26:case 5:Xi(r,r.return),ya(r);break;case 22:r.memoizedState===null&&ya(r);break;case 30:ya(r);break;default:ya(r)}t=t.sibling}}function Ar(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(f,d,a),Ll(4,d);break;case 1:if(Ar(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){tt(l,l.return,G)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var M=f.shared.hiddenCallbacks;if(M!==null)for(f.shared.hiddenCallbacks=null,f=0;f<M.length;f++)Iy(M[f],b)}catch(G){tt(l,l.return,G)}}a&&v&64&&zv(d),Pl(d,d.return);break;case 27:qv(d);case 26:case 5:Ar(f,d,a),a&&l===null&&v&4&&Bv(d),Pl(d,d.return);break;case 12:Ar(f,d,a);break;case 31:Ar(f,d,a),a&&v&4&&Qv(f,d);break;case 13:Ar(f,d,a),a&&v&4&&$v(f,d);break;case 22:d.memoizedState===null&&Ar(f,d,a),Pl(d,d.return);break;case 30:break;default:Ar(f,d,a)}r=r.sibling}}function em(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Sl(a))}function tm(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Sl(t))}function xi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Jv(t,r,a,l),r=r.sibling}function Jv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:xi(t,r,a,l),f&2048&&Ll(9,r);break;case 1:xi(t,r,a,l);break;case 3:xi(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Sl(t)));break;case 12:if(f&2048){xi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(M){tt(r,r.return,M)}}else xi(t,r,a,l);break;case 31:xi(t,r,a,l);break;case 13:xi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?xi(t,r,a,l):Ul(t,r):d._visibility&2?xi(t,r,a,l):(d._visibility|=2,mo(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&em(v,r);break;case 24:xi(t,r,a,l),f&2048&&tm(r.alternate,r);break;default:xi(t,r,a,l)}}function mo(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,v=r,b=a,M=l,G=v.flags;switch(v.tag){case 0:case 11:case 15:mo(d,v,b,M,f),Ll(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?mo(d,v,b,M,f):Ul(d,v):(Z._visibility|=2,mo(d,v,b,M,f)),f&&G&2048&&em(v.alternate,v);break;case 24:mo(d,v,b,M,f),f&&G&2048&&tm(v.alternate,v);break;default:mo(d,v,b,M,f)}r=r.sibling}}function Ul(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Ul(a,l),f&2048&&em(l.alternate,l);break;case 24:Ul(a,l),f&2048&&tm(l.alternate,l);break;default:Ul(a,l)}r=r.sibling}}var zl=8192;function po(t,r,a){if(t.subtreeFlags&zl)for(t=t.child;t!==null;)Zv(t,r,a),t=t.sibling}function Zv(t,r,a){switch(t.tag){case 26:po(t,r,a),t.flags&zl&&t.memoizedState!==null&&IA(a,Ii,t.memoizedState,t.memoizedProps);break;case 5:po(t,r,a);break;case 3:case 4:var l=Ii;Ii=ch(t.stateNode.containerInfo),po(t,r,a),Ii=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=zl,zl=16777216,po(t,r,a),zl=l):po(t,r,a));break;default:po(t,r,a)}}function e_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function jl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Wt=l,n_(l,t)}e_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)t_(t),t=t.sibling}function t_(t){switch(t.tag){case 0:case 11:case 15:jl(t),t.flags&2048&&us(9,t,t.return);break;case 3:jl(t);break;case 12:jl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Wc(t)):jl(t);break;default:jl(t)}}function Wc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Wt=l,n_(l,t)}e_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:us(8,r,r.return),Wc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Wc(r));break;default:Wc(r)}t=t.sibling}}function n_(t,r){for(;Wt!==null;){var a=Wt;switch(a.tag){case 0:case 11:case 15:us(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Wt=l;else e:for(a=t;Wt!==null;){l=Wt;var f=l.sibling,d=l.return;if(Kv(l),l===a){Wt=null;break e}if(f!==null){f.return=d,Wt=f;break e}Wt=d}}}var qw={getCacheForType:function(t){var r=rn(Mt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return rn(Mt).controller.signal}},Fw=typeof WeakMap=="function"?WeakMap:Map,Xe=0,lt=null,Le=null,ze=0,et=0,Jn=null,cs=!1,go=!1,nm=!1,Rr=0,Tt=0,hs=0,va=0,im=0,Zn=0,yo=0,Bl=null,Vn=null,rm=!1,Jc=0,i_=0,Zc=1/0,eh=null,fs=null,Bt=0,ds=null,vo=null,Cr=0,sm=0,am=null,r_=null,Hl=0,om=null;function ei(){return(Xe&2)!==0&&ze!==0?ze&-ze:W.T!==null?dm():Gn()}function s_(){if(Zn===0)if((ze&536870912)===0||Fe){var t=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Zn=t}else Zn=536870912;return t=Xn.current,t!==null&&(t.flags|=32),Zn}function Ln(t,r,a){(t===lt&&(et===2||et===9)||t.cancelPendingCommit!==null)&&(_o(t,0),ms(t,ze,Zn,!1)),xn(t,a),((Xe&2)===0||t!==lt)&&(t===lt&&((Xe&2)===0&&(va|=a),Tt===4&&ms(t,ze,Zn,!1)),Wi(t))}function a_(t,r,a){if((Xe&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||xt(t,r),f=l?Yw(t,r):um(t,r,!0),d=l;do{if(f===0){go&&!l&&ms(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Gw(a)){f=um(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var b=t;f=Bl;var M=b.current.memoizedState.isDehydrated;if(M&&(_o(b,v).flags|=256),v=um(b,v,!1),v!==2){if(nm&&!M){b.errorRecoveryDisabledLanes|=d,va|=d,f=4;break e}d=Vn,Vn=f,d!==null&&(Vn===null?Vn=d:Vn.push.apply(Vn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){_o(t,0),ms(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ms(l,r,Zn,!cs);break e;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Jc+300-Yt(),10<f)){if(ms(l,r,Zn,!cs),pt(l,0,!0)!==0)break e;Cr=r,l.timeoutHandle=P_(o_.bind(null,l,a,Vn,eh,rm,r,Zn,va,yo,cs,d,"Throttled",-0,0),f);break e}o_(l,a,Vn,eh,rm,r,Zn,va,yo,cs,d,null,-0,0)}}break}while(!0);Wi(t)}function o_(t,r,a,l,f,d,v,b,M,G,Z,te,K,X){if(t.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},Zv(r,d,te);var de=(d&62914560)===d?Jc-Yt():(d&4194048)===d?i_-Yt():0;if(de=xA(te,de),de!==null){Cr=d,t.cancelPendingCommit=de(p_.bind(null,t,r,d,a,l,f,v,b,M,Z,te,null,K,X)),ms(t,d,v,!G);return}}p_(t,r,d,a,l,f,v,b,M)}function Gw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Qn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ms(t,r,a,l){r&=~im,r&=~va,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-dt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&fn(t,a,r)}function th(){return(Xe&6)===0?(ql(0),!1):!0}function lm(){if(Le!==null){if(et===0)var t=Le.return;else t=Le,gr=ua=null,wd(t),lo=null,Al=0,t=Le;for(;t!==null;)Uv(t.alternate,t),t=t.return;Le=null}}function _o(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Cr=0,lm(),lt=t,Le=a=mr(t.current,null),ze=r,et=0,Jn=null,cs=!1,go=xt(t,r),nm=!1,yo=Zn=im=va=hs=Tt=0,Vn=Bl=null,rm=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-dt(l),d=1<<f;r|=t[f],l&=~d}return Rr=r,bc(),a}function l_(t,r){xe=null,W.H=Ml,r===oo||r===Dc?(r=wy(),et=3):r===fd?(r=wy(),et=4):et=r===jd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Jn=r,Le===null&&(Tt=1,Fc(t,ci(r,t.current)))}function u_(){var t=Xn.current;return t===null?!0:(ze&4194048)===ze?mi===null:(ze&62914560)===ze||(ze&536870912)!==0?t===mi:!1}function c_(){var t=W.H;return W.H=Ml,t===null?Ml:t}function h_(){var t=W.A;return W.A=qw,t}function nh(){Tt=4,cs||(ze&4194048)!==ze&&Xn.current!==null||(go=!0),(hs&134217727)===0&&(va&134217727)===0||lt===null||ms(lt,ze,Zn,!1)}function um(t,r,a){var l=Xe;Xe|=2;var f=c_(),d=h_();(lt!==t||ze!==r)&&(eh=null,_o(t,r)),r=!1;var v=Tt;e:do try{if(et!==0&&Le!==null){var b=Le,M=Jn;switch(et){case 8:lm(),v=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(r=!0);var G=et;if(et=0,Jn=null,Eo(t,b,M,G),a&&go){v=0;break e}break;default:G=et,et=0,Jn=null,Eo(t,b,M,G)}}Kw(),v=Tt;break}catch(Z){l_(t,Z)}while(!0);return r&&t.shellSuspendCounter++,gr=ua=null,Xe=l,W.H=f,W.A=d,Le===null&&(lt=null,ze=0,bc()),v}function Kw(){for(;Le!==null;)f_(Le)}function Yw(t,r){var a=Xe;Xe|=2;var l=c_(),f=h_();lt!==t||ze!==r?(eh=null,Zc=Yt()+500,_o(t,r)):go=xt(t,r);e:do try{if(et!==0&&Le!==null){r=Le;var d=Jn;t:switch(et){case 1:et=0,Jn=null,Eo(t,r,d,1);break;case 2:case 9:if(by(d)){et=0,Jn=null,d_(r);break}r=function(){et!==2&&et!==9||lt!==t||(et=7),Wi(t)},d.then(r,r);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:by(d)?(et=0,Jn=null,d_(r)):(et=0,Jn=null,Eo(t,r,d,7));break;case 5:var v=null;switch(Le.tag){case 26:v=Le.memoizedState;case 5:case 27:var b=Le;if(v?J_(v):b.stateNode.complete){et=0,Jn=null;var M=b.sibling;if(M!==null)Le=M;else{var G=b.return;G!==null?(Le=G,ih(G)):Le=null}break t}}et=0,Jn=null,Eo(t,r,d,5);break;case 6:et=0,Jn=null,Eo(t,r,d,6);break;case 8:lm(),Tt=6;break e;default:throw Error(s(462))}}Qw();break}catch(Z){l_(t,Z)}while(!0);return gr=ua=null,W.H=l,W.A=f,Xe=a,Le!==null?0:(lt=null,ze=0,bc(),Tt)}function Qw(){for(;Le!==null&&!Fr();)f_(Le)}function f_(t){var r=Lv(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,r===null?ih(t):Le=r}function d_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Dv(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=Dv(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:wd(r);default:Uv(a,r),r=Le=hy(r,Rr),r=Lv(a,r,Rr)}t.memoizedProps=t.pendingProps,r===null?ih(t):Le=r}function Eo(t,r,a,l){gr=ua=null,wd(r),lo=null,Al=0;var f=r.return;try{if(Lw(t,f,r,a,ze)){Tt=1,Fc(t,ci(a,t.current)),Le=null;return}}catch(d){if(f!==null)throw Le=f,d;Tt=1,Fc(t,ci(a,t.current)),Le=null;return}r.flags&32768?(Fe||l===1?t=!0:go||(ze&536870912)!==0?t=!1:(cs=t=!0,(l===2||l===9||l===3||l===6)&&(l=Xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),m_(r,t)):ih(r)}function ih(t){var r=t;do{if((r.flags&32768)!==0){m_(r,cs);return}t=r.return;var a=zw(r.alternate,r,Rr);if(a!==null){Le=a;return}if(r=r.sibling,r!==null){Le=r;return}Le=r=t}while(r!==null);Tt===0&&(Tt=5)}function m_(t,r){do{var a=jw(t.alternate,t);if(a!==null){a.flags&=32767,Le=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Le=t;return}Le=t=a}while(t!==null);Tt=6,Le=null}function p_(t,r,a,l,f,d,v,b,M){t.cancelPendingCommit=null;do rh();while(Bt!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Wf,St(t,a,d,v,b,M),t===lt&&(Le=lt=null,ze=0),vo=r,ds=t,Cr=a,sm=d,am=f,r_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Jw(Tn,function(){return E_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=ae.p,ae.p=2,v=Xe,Xe|=4;try{Bw(t,r,a)}finally{Xe=v,ae.p=f,W.T=l}}Bt=1,g_(),y_(),v_()}}function g_(){if(Bt===1){Bt=0;var t=ds,r=vo,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=Xe;Xe|=4;try{Xv(r,t);var d=Tm,v=ny(t.containerInfo),b=d.focusedElem,M=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&ty(b.ownerDocument.documentElement,b)){if(M!==null&&Kf(b)){var G=M.start,Z=M.end;if(Z===void 0&&(Z=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(Z,b.value.length);else{var te=b.ownerDocument||document,K=te&&te.defaultView||window;if(K.getSelection){var X=K.getSelection(),de=b.textContent.length,Te=Math.min(M.start,de),ot=M.end===void 0?Te:Math.min(M.end,de);!X.extend&&Te>ot&&(v=ot,ot=Te,Te=v);var B=ey(b,Te),U=ey(b,ot);if(B&&U&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==U.node||X.focusOffset!==U.offset)){var F=te.createRange();F.setStart(B.node,B.offset),X.removeAllRanges(),Te>ot?(X.addRange(F),X.extend(U.node,U.offset)):(F.setEnd(U.node,U.offset),X.addRange(F))}}}}for(te=[],X=b;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var ee=te[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}gh=!!Em,Tm=Em=null}finally{Xe=f,ae.p=l,W.T=a}}t.current=r,Bt=2}}function y_(){if(Bt===2){Bt=0;var t=ds,r=vo,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=Xe;Xe|=4;try{Gv(t,r.alternate,r)}finally{Xe=f,ae.p=l,W.T=a}}Bt=3}}function v_(){if(Bt===4||Bt===3){Bt=0,Gs();var t=ds,r=vo,a=Cr,l=r_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Bt=5:(Bt=0,vo=ds=null,__(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(fs=null),Sn(a),r=r.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(qn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,f=ae.p,ae.p=2,W.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{W.T=r,ae.p=f}}(Cr&3)!==0&&rh(),Wi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===om?Hl++:(Hl=0,om=t):Hl=0,ql(0)}}function __(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Sl(r)))}function rh(){return g_(),y_(),v_(),E_()}function E_(){if(Bt!==5)return!1;var t=ds,r=sm;sm=0;var a=Sn(Cr),l=W.T,f=ae.p;try{ae.p=32>a?32:a,W.T=null,a=am,am=null;var d=ds,v=Cr;if(Bt=0,vo=ds=null,Cr=0,(Xe&6)!==0)throw Error(s(331));var b=Xe;if(Xe|=4,t_(d.current),Jv(d,d.current,v,a),Xe=b,ql(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{ae.p=f,W.T=l,__(t,r)}}function T_(t,r,a){r=ci(a,r),r=zd(t.stateNode,r,2),t=as(t,r,2),t!==null&&(xn(t,2),Wi(t))}function tt(t,r,a){if(t.tag===3)T_(t,t,a);else for(;r!==null;){if(r.tag===3){T_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fs===null||!fs.has(l))){t=ci(a,t),a=bv(2),l=as(r,a,2),l!==null&&(Sv(a,l,r,t),xn(l,2),Wi(l));break}}r=r.return}}function cm(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Fw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(nm=!0,f.add(a),t=$w.bind(null,t,r,a),r.then(t,t))}function $w(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,lt===t&&(ze&a)===a&&(Tt===4||Tt===3&&(ze&62914560)===ze&&300>Yt()-Jc?(Xe&2)===0&&_o(t,0):im|=a,yo===ze&&(yo=0)),Wi(t)}function b_(t,r){r===0&&(r=Qt()),t=aa(t,r),t!==null&&(xn(t,r),Wi(t))}function Xw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),b_(t,a)}function Ww(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),b_(t,a)}function Jw(t,r){return it(t,r)}var sh=null,To=null,hm=!1,ah=!1,fm=!1,ps=0;function Wi(t){t!==To&&t.next===null&&(To===null?sh=To=t:To=To.next=t),ah=!0,hm||(hm=!0,eA())}function ql(t,r){if(!fm&&ah){fm=!0;do for(var a=!1,l=sh;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=f&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,R_(l,d))}else d=ze,d=pt(l,l===lt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||xt(l,d)||(a=!0,R_(l,d));l=l.next}while(a);fm=!1}}function Zw(){S_()}function S_(){ah=hm=!1;var t=0;ps!==0&&cA()&&(t=ps);for(var r=Yt(),a=null,l=sh;l!==null;){var f=l.next,d=w_(l,r);d===0?(l.next=null,a===null?sh=f:a.next=f,f===null&&(To=a)):(a=l,(t!==0||(d&3)!==0)&&(ah=!0)),l=f}Bt!==0&&Bt!==5||ql(t),ps!==0&&(ps=0)}function w_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-dt(d),b=1<<v,M=f[v];M===-1?((b&a)===0||(b&l)!==0)&&(f[v]=hn(b,r)):M<=r&&(t.expiredLanes|=b),d&=~b}if(r=lt,a=ze,a=pt(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(et===2||et===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Bn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xt(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&Bn(l),Sn(a)){case 2:case 8:a=ii;break;case 32:a=Tn;break;case 268435456:a=Ys;break;default:a=Tn}return l=A_.bind(null,t),a=it(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&Bn(l),t.callbackPriority=2,t.callbackNode=null,2}function A_(t,r){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(rh()&&t.callbackNode!==a)return null;var l=ze;return l=pt(t,t===lt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(a_(t,l,r),w_(t,Yt()),t.callbackNode!=null&&t.callbackNode===a?A_.bind(null,t):null)}function R_(t,r){if(rh())return null;a_(t,r,!0)}function eA(){fA(function(){(Xe&6)!==0?it(Ks,Zw):S_()})}function dm(){if(ps===0){var t=so;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),ps=t}return ps}function C_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fa(""+t)}function I_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function tA(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=C_((f[$t]||null).action),v=l.submitter;v&&(r=(r=v[$t]||null)?C_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var b=new Fi("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ps!==0){var M=v?I_(f,v):new FormData(f);Md(a,{pending:!0,data:M,method:f.method,action:d},null,M)}}else typeof d=="function"&&(b.preventDefault(),M=v?I_(f,v):new FormData(f),Md(a,{pending:!0,data:M,method:f.method,action:d},d,M))},currentTarget:f}]})}}for(var mm=0;mm<Xf.length;mm++){var pm=Xf[mm],nA=pm.toLowerCase(),iA=pm[0].toUpperCase()+pm.slice(1);Ci(nA,"on"+iA)}Ci(sy,"onAnimationEnd"),Ci(ay,"onAnimationIteration"),Ci(oy,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(_w,"onTransitionRun"),Ci(Ew,"onTransitionStart"),Ci(Tw,"onTransitionCancel"),Ci(ly,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fl));function x_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],M=b.instance,G=b.currentTarget;if(b=b.listener,M!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=G;try{d(f)}catch(Z){Tc(Z)}f.currentTarget=null,d=M}else for(v=0;v<l.length;v++){if(b=l[v],M=b.instance,G=b.currentTarget,b=b.listener,M!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=G;try{d(f)}catch(Z){Tc(Z)}f.currentTarget=null,d=M}}}}function Pe(t,r){var a=r[za];a===void 0&&(a=r[za]=new Set);var l=t+"__bubble";a.has(l)||(D_(r,t,2,!1),a.add(l))}function gm(t,r,a){var l=0;r&&(l|=4),D_(a,t,l,r)}var oh="_reactListening"+Math.random().toString(36).slice(2);function ym(t){if(!t[oh]){t[oh]=!0,nl.forEach(function(a){a!=="selectionchange"&&(rA.has(a)||gm(a,!1,t),gm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[oh]||(r[oh]=!0,gm("selectionchange",!1,r))}}function D_(t,r,a,l){switch(sE(r)){case 2:var f=OA;break;case 8:f=MA;break;default:f=Om}a=f.bind(null,r,a,t),f=void 0,!Js||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function vm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===f)break;if(v===4)for(v=l.return;v!==null;){var M=v.tag;if((M===3||M===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;b!==null;){if(v=Pi(b),v===null)return;if(M=v.tag,M===5||M===6||M===26||M===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Xr(function(){var G=d,Z=ai(a),te=[];e:{var K=uy.get(t);if(K!==void 0){var X=Fi,de=t;switch(t){case"keypress":if(ea(a)===0)break e;case"keydown":case"keyup":X=vc;break;case"focusin":de="focus",X=na;break;case"focusout":de="blur",X=na;break;case"beforeblur":case"afterblur":X=na;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=uc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case sy:case ay:case oy:X=hc;break;case ly:X=w;break;case"scroll":case"scrollend":X=ml;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=dr;break;case"toggle":case"beforetoggle":X=Ie}var Te=(r&4)!==0,ot=!Te&&(t==="scroll"||t==="scrollend"),B=Te?K!==null?K+"Capture":null:K;Te=[];for(var U=G,F;U!==null;){var ee=U;if(F=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||F===null||B===null||(ee=Si(U,B),ee!=null&&Te.push(Gl(U,ee,F))),ot)break;U=U.return}0<Te.length&&(K=new X(K,de,null,a,Z),te.push({event:K,listeners:Te}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&a!==hl&&(de=a.relatedTarget||a.fromElement)&&(Pi(de)||de[Vi]))break e;if((X||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,X?(de=a.relatedTarget||a.toElement,X=G,de=de?Pi(de):null,de!==null&&(ot=u(de),Te=de.tag,de!==ot||Te!==5&&Te!==27&&Te!==6)&&(de=null)):(X=null,de=G),X!==de)){if(Te=pl,ee="onMouseLeave",B="onMouseEnter",U="mouse",(t==="pointerout"||t==="pointerover")&&(Te=dr,ee="onPointerLeave",B="onPointerEnter",U="pointer"),ot=X==null?K:Kn(X),F=de==null?K:Kn(de),K=new Te(ee,U+"leave",X,a,Z),K.target=ot,K.relatedTarget=F,ee=null,Pi(Z)===G&&(Te=new Te(B,U+"enter",de,a,Z),Te.target=F,Te.relatedTarget=ot,ee=Te),ot=ee,X&&de)t:{for(Te=sA,B=X,U=de,F=0,ee=B;ee;ee=Te(ee))F++;ee=0;for(var ve=U;ve;ve=Te(ve))ee++;for(;0<F-ee;)B=Te(B),F--;for(;0<ee-F;)U=Te(U),ee--;for(;F--;){if(B===U||U!==null&&B===U.alternate){Te=B;break t}B=Te(B),U=Te(U)}Te=null}else Te=null;X!==null&&N_(te,K,X,Te,!1),de!==null&&ot!==null&&N_(te,ot,de,Te,!0)}}e:{if(K=G?Kn(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Ye=Qg;else if(Kg(K))if($g)Ye=gw;else{Ye=mw;var me=dw}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&qa(G.elementType)&&(Ye=Qg):Ye=pw;if(Ye&&(Ye=Ye(t,G))){Yg(te,Ye,a,Z);break e}me&&me(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&ll(K,"number",K.value)}switch(me=G?Kn(G):window,t){case"focusin":(Kg(me)||me.contentEditable==="true")&&(Wa=me,Yf=G,El=null);break;case"focusout":El=Yf=Wa=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,iy(te,a,Z);break;case"selectionchange":if(vw)break;case"keydown":case"keyup":iy(te,a,Z)}var Ne;if($e)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Xa?ia(t,a)&&(je="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(je="onCompositionStart");je&&(Yi&&a.locale!=="ko"&&(Xa||je!=="onCompositionStart"?je==="onCompositionEnd"&&Xa&&(Ne=dl()):(qi=Z,fl="value"in qi?qi.value:qi.textContent,Xa=!0)),me=lh(G,je),0<me.length&&(je=new Ki(je,t,null,a,Z),te.push({event:je,listeners:me}),Ne?je.data=Ne:(Ne=$a(a),Ne!==null&&(je.data=Ne)))),(Ne=li?uw(t,a):cw(t,a))&&(je=lh(G,"onBeforeInput"),0<je.length&&(me=new Ki("onBeforeInput","beforeinput",null,a,Z),te.push({event:me,listeners:je}),me.data=Ne)),tA(te,t,G,a,Z)}x_(te,r)})}function Gl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function lh(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Si(t,a),f!=null&&l.unshift(Gl(t,f,d)),f=Si(t,r),f!=null&&l.push(Gl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function sA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function N_(t,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var b=a,M=b.alternate,G=b.stateNode;if(b=b.tag,M!==null&&M===l)break;b!==5&&b!==26&&b!==27||G===null||(M=G,f?(G=Si(a,d),G!=null&&v.unshift(Gl(a,G,M))):f||(G=Si(a,d),G!=null&&v.push(Gl(a,G,M)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var aA=/\r\n?/g,oA=/\u0000|\uFFFD/g;function O_(t){return(typeof t=="string"?t:""+t).replace(aA,`
`).replace(oA,"")}function M_(t,r){return r=O_(r),O_(t)===r}function at(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Nn(t,""+l);break;case"className":Yn(t,"class",l);break;case"tabIndex":Yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,l);break;case"style":cl(t,l,d);break;case"data":if(r!=="object"){Yn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&at(t,r,"name",f.name,f,null),at(t,r,"formEncType",f.formEncType,f,null),at(t,r,"formMethod",f.formMethod,f,null),at(t,r,"formTarget",f.formTarget,f,null)):(at(t,r,"encType",f.encType,f,null),at(t,r,"method",f.method,f,null),at(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=bi);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Ba(t,"popover",l);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lc.get(a)||a,Ba(t,a,l))}}function _m(t,r,a,l,f,d){switch(a){case"style":cl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!il.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[$t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ba(t,a,l)}}}function an(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(t,r,d,v,a,null)}}f&&at(t,r,"srcSet",a.srcSet,a,null),l&&at(t,r,"src",a.src,a,null);return;case"input":Pe("invalid",t);var b=d=v=f=null,M=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":v=Z;break;case"checked":M=Z;break;case"defaultChecked":G=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:at(t,r,l,Z,a,null)}}sc(t,d,b,M,G,v,f,!1);return;case"select":Pe("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:at(t,r,f,b,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Kr(t,!!l,r,!1):a!=null&&Kr(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:at(t,r,v,b,a,null)}Yr(t,l,f,d);return;case"option":for(M in a)a.hasOwnProperty(M)&&(l=a[M],l!=null)&&(M==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":at(t,r,M,l,a,null));return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<Fl.length;l++)Pe(Fl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:at(t,r,G,l,a,null)}return;default:if(qa(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&_m(t,r,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&at(t,r,b,l,a,null))}function lA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,b=null,M=null,G=null,Z=null;for(X in a){var te=a[X];if(a.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":M=te;default:l.hasOwnProperty(X)||at(t,r,X,null,l,te)}}for(var K in l){var X=l[K];if(te=a[K],l.hasOwnProperty(K)&&(X!=null||te!=null))switch(K){case"type":d=X;break;case"name":f=X;break;case"checked":G=X;break;case"defaultChecked":Z=X;break;case"value":v=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:X!==te&&at(t,r,K,X,l,te)}}Ha(t,v,b,M,G,Z,d,f);return;case"select":X=v=b=K=null;for(d in a)if(M=a[d],a.hasOwnProperty(d)&&M!=null)switch(d){case"value":break;case"multiple":X=M;default:l.hasOwnProperty(d)||at(t,r,d,null,l,M)}for(f in l)if(d=l[f],M=a[f],l.hasOwnProperty(f)&&(d!=null||M!=null))switch(f){case"value":K=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==M&&at(t,r,f,d,l,M)}r=b,a=v,l=X,K!=null?Kr(t,!!a,K,!1):!!l!=!!a&&(r!=null?Kr(t,!!a,r,!0):Kr(t,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:at(t,r,b,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":K=f;break;case"defaultValue":X=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&at(t,r,v,f,l,d)}ac(t,K,X);return;case"option":for(var de in a)K=a[de],a.hasOwnProperty(de)&&K!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:at(t,r,de,null,l,K));for(M in l)K=l[M],X=a[M],l.hasOwnProperty(M)&&K!==X&&(K!=null||X!=null)&&(M==="selected"?t.selected=K&&typeof K!="function"&&typeof K!="symbol":at(t,r,M,K,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in a)K=a[Te],a.hasOwnProperty(Te)&&K!=null&&!l.hasOwnProperty(Te)&&at(t,r,Te,null,l,K);for(G in l)if(K=l[G],X=a[G],l.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:at(t,r,G,K,l,X)}return;default:if(qa(r)){for(var ot in a)K=a[ot],a.hasOwnProperty(ot)&&K!==void 0&&!l.hasOwnProperty(ot)&&_m(t,r,ot,void 0,l,K);for(Z in l)K=l[Z],X=a[Z],!l.hasOwnProperty(Z)||K===X||K===void 0&&X===void 0||_m(t,r,Z,K,l,X);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!l.hasOwnProperty(B)&&at(t,r,B,null,l,K);for(te in l)K=l[te],X=a[te],!l.hasOwnProperty(te)||K===X||K==null&&X==null||at(t,r,te,K,l,X)}function k_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,b=f.duration;if(d&&b&&k_(v)){for(v=0,b=f.responseEnd,l+=1;l<a.length;l++){var M=a[l],G=M.startTime;if(G>b)break;var Z=M.transferSize,te=M.initiatorType;Z&&k_(te)&&(M=M.responseEnd,v+=Z*(M<b?1:(b-G)/(M-G)))}if(--l,r+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Em=null,Tm=null;function uh(t){return t.nodeType===9?t:t.ownerDocument}function V_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function L_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function bm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Sm=null;function cA(){var t=window.event;return t&&t.type==="popstate"?t===Sm?!1:(Sm=t,!0):(Sm=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,hA=typeof clearTimeout=="function"?clearTimeout:void 0,U_=typeof Promise=="function"?Promise:void 0,fA=typeof queueMicrotask=="function"?queueMicrotask:typeof U_<"u"?function(t){return U_.resolve(null).then(t).catch(dA)}:P_;function dA(t){setTimeout(function(){throw t})}function gs(t){return t==="head"}function z_(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),Ao(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Kl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Kl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[Li]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Kl(t.ownerDocument.body);a=f}while(a);Ao(r)}function j_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function wm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wm(a),ja(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mA(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Li])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=pi(t.nextSibling),t===null)break}return null}function pA(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=pi(t.nextSibling),t===null))return null;return t}function B_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=pi(t.nextSibling),t===null))return null;return t}function Am(t){return t.data==="$?"||t.data==="$~"}function Rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gA(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function pi(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Cm=null;function H_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return pi(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function q_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function F_(t,r,a){switch(r=uh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Kl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ja(t)}var gi=new Map,G_=new Set;function ch(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ir=ae.d;ae.d={f:yA,r:vA,D:_A,C:EA,L:TA,m:bA,X:wA,S:SA,M:AA};function yA(){var t=Ir.f(),r=th();return t||r}function vA(t){var r=si(t);r!==null&&r.tag===5&&r.type==="form"?lv(r):Ir.r(t)}var bo=typeof document>"u"?null:document;function K_(t,r,a){var l=bo;if(l&&typeof r=="string"&&r){var f=Dn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),G_.has(f)||(G_.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),an(r,"link",t),Nt(r),l.head.appendChild(r)))}}function _A(t){Ir.D(t),K_("dns-prefetch",t,null)}function EA(t,r){Ir.C(t,r),K_("preconnect",t,r)}function TA(t,r,a){Ir.L(t,r,a);var l=bo;if(l&&t&&r){var f='link[rel="preload"][as="'+Dn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Dn(a.imageSizes)+'"]')):f+='[href="'+Dn(t)+'"]';var d=f;switch(r){case"style":d=So(t);break;case"script":d=wo(t)}gi.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),gi.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Yl(d))||r==="script"&&l.querySelector(Ql(d))||(r=l.createElement("link"),an(r,"link",t),Nt(r),l.head.appendChild(r)))}}function bA(t,r){Ir.m(t,r);var a=bo;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Dn(l)+'"][href="'+Dn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=wo(t)}if(!gi.has(d)&&(t=T({rel:"modulepreload",href:t},r),gi.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ql(d)))return}l=a.createElement("link"),an(l,"link",t),Nt(l),a.head.appendChild(l)}}}function SA(t,r,a){Ir.S(t,r,a);var l=bo;if(l&&t){var f=Ui(l).hoistableStyles,d=So(t);r=r||"default";var v=f.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Yl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=gi.get(d))&&Im(t,a);var M=v=l.createElement("link");Nt(M),an(M,"link",t),M._p=new Promise(function(G,Z){M.onload=G,M.onerror=Z}),M.addEventListener("load",function(){b.loading|=1}),M.addEventListener("error",function(){b.loading|=2}),b.loading|=4,hh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},f.set(d,v)}}}function wA(t,r){Ir.X(t,r);var a=bo;if(a&&t){var l=Ui(a).hoistableScripts,f=wo(t),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(t=T({src:t,async:!0},r),(r=gi.get(f))&&xm(t,r),d=a.createElement("script"),Nt(d),an(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function AA(t,r){Ir.M(t,r);var a=bo;if(a&&t){var l=Ui(a).hoistableScripts,f=wo(t),d=l.get(f);d||(d=a.querySelector(Ql(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=gi.get(f))&&xm(t,r),d=a.createElement("script"),Nt(d),an(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Y_(t,r,a,l){var f=(f=ye.current)?ch(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=So(a.href),a=Ui(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=So(a.href);var d=Ui(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Yl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),gi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(t,a),d||RA(f,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=wo(a),a=Ui(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function So(t){return'href="'+Dn(t)+'"'}function Yl(t){return'link[rel="stylesheet"]['+t+"]"}function Q_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function RA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",a),Nt(r),t.head.appendChild(r))}function wo(t){return'[src="'+Dn(t)+'"]'}function Ql(t){return"script[async]"+t}function $_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Dn(a.href)+'"]');if(l)return r.instance=l,Nt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),an(l,"style",f),hh(l,a.precedence,t),r.instance=l;case"stylesheet":f=So(a.href);var d=t.querySelector(Yl(f));if(d)return r.state.loading|=4,r.instance=d,Nt(d),d;l=Q_(a),(f=gi.get(f))&&Im(l,f),d=(t.ownerDocument||t).createElement("link"),Nt(d);var v=d;return v._p=new Promise(function(b,M){v.onload=b,v.onerror=M}),an(d,"link",l),r.state.loading|=4,hh(d,a.precedence,t),r.instance=d;case"script":return d=wo(a.src),(f=t.querySelector(Ql(d)))?(r.instance=f,Nt(f),f):(l=a,(f=gi.get(d))&&(l=T({},a),xm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Nt(f),an(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,hh(l,a.precedence,t));return r.instance}function hh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Im(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function xm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var fh=null;function X_(t,r,a){if(fh===null){var l=new Map,f=fh=new Map;f.set(a,l)}else f=fh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Li]||d[Dt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function W_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function CA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function J_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function IA(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=So(l.href),d=r.querySelector(Yl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=dh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Nt(d);return}d=r.ownerDocument||r,l=Q_(l),(f=gi.get(f))&&Im(l,f),d=d.createElement("link"),Nt(d);var v=d;v._p=new Promise(function(b,M){v.onload=b,v.onerror=M}),an(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=dh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Dm=0;function xA(t,r){return t.stylesheets&&t.count===0&&ph(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&ph(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Dm===0&&(Dm=62500*uA());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ph(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Dm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function dh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ph(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mh=null;function ph(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mh=new Map,r.forEach(DA,t),mh=null,dh.call(t))}function DA(t,r){if(!(r.state.loading&4)){var a=mh.get(t);if(a)var l=a.get(null);else{a=new Map,mh.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=dh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var $l={$$typeof:J,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function NA(t,r,a,l,f,d,v,b,M){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.hiddenUpdates=bt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Z_(t,r,a,l,f,d,v,b,M,G,Z,te){return t=new NA(t,r,a,v,M,G,Z,te,b),r=1,d===!0&&(r|=24),d=$n(3,null,null,r),t.current=d,d.stateNode=t,r=ud(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},dd(d),t}function eE(t){return t?(t=eo,t):eo}function tE(t,r,a,l,f,d){f=eE(f),l.context===null?l.context=f:l.pendingContext=f,l=ss(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=as(t,l,r),a!==null&&(Ln(a,t,r),Cl(a,t,r))}function nE(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Nm(t,r){nE(t,r),(t=t.alternate)&&nE(t,r)}function iE(t){if(t.tag===13||t.tag===31){var r=aa(t,67108864);r!==null&&Ln(r,t,67108864),Nm(t,67108864)}}function rE(t){if(t.tag===13||t.tag===31){var r=ei();r=Fn(r);var a=aa(t,r);a!==null&&Ln(a,t,r),Nm(t,r)}}var gh=!0;function OA(t,r,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=2,Om(t,r,a,l)}finally{ae.p=d,W.T=f}}function MA(t,r,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=8,Om(t,r,a,l)}finally{ae.p=d,W.T=f}}function Om(t,r,a,l){if(gh){var f=Mm(l);if(f===null)vm(t,r,l,yh,a),aE(t,l);else if(VA(f,t,r,a,l))l.stopPropagation();else if(aE(t,l),r&4&&-1<kA.indexOf(t)){for(;f!==null;){var d=si(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=mt(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var M=1<<31-dt(v);b.entanglements[1]|=M,v&=~M}Wi(d),(Xe&6)===0&&(Zc=Yt()+500,ql(0))}}break;case 31:case 13:b=aa(d,2),b!==null&&Ln(b,d,2),th(),Nm(d,2)}if(d=Mm(l),d===null&&vm(t,r,l,yh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else vm(t,r,l,null,a)}}function Mm(t){return t=ai(t),km(t)}var yh=null;function km(t){if(yh=null,t=Pi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=c(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return yh=t,null}function sE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case Ks:return 2;case ii:return 8;case Tn:case lr:return 32;case Ys:return 268435456;default:return 32}default:return 32}}var Vm=!1,ys=null,vs=null,_s=null,Xl=new Map,Wl=new Map,Es=[],kA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aE(t,r){switch(t){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(r.pointerId)}}function Jl(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=si(r),r!==null&&iE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function VA(t,r,a,l,f){switch(r){case"focusin":return ys=Jl(ys,t,r,a,l,f),!0;case"dragenter":return vs=Jl(vs,t,r,a,l,f),!0;case"mouseover":return _s=Jl(_s,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Xl.set(d,Jl(Xl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Wl.set(d,Jl(Wl.get(d)||null,t,r,a,l,f)),!0}return!1}function oE(t){var r=Pi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){t.blockedOn=r,en(t.priority,function(){rE(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,en(t.priority,function(){rE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);hl=l,a.target.dispatchEvent(l),hl=null}else return r=si(a),r!==null&&iE(r),t.blockedOn=a,!1;r.shift()}return!0}function lE(t,r,a){vh(t)&&a.delete(r)}function LA(){Vm=!1,ys!==null&&vh(ys)&&(ys=null),vs!==null&&vh(vs)&&(vs=null),_s!==null&&vh(_s)&&(_s=null),Xl.forEach(lE),Wl.forEach(lE)}function _h(t,r){t.blockedOn===r&&(t.blockedOn=null,Vm||(Vm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,LA)))}var Eh=null;function uE(t){Eh!==t&&(Eh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Eh===t&&(Eh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(km(l||a)===null)continue;break}var d=si(a);d!==null&&(t.splice(r,3),r-=3,Md(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ao(t){function r(M){return _h(M,t)}ys!==null&&_h(ys,t),vs!==null&&_h(vs,t),_s!==null&&_h(_s,t),Xl.forEach(r),Wl.forEach(r);for(var a=0;a<Es.length;a++){var l=Es[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Es.length&&(a=Es[0],a.blockedOn===null);)oE(a),a.blockedOn===null&&Es.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[$t]||null;if(typeof d=="function")v||uE(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[$t]||null)b=v.formAction;else if(km(f)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),uE(a)}}}function cE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Lm(t){this._internalRoot=t}Th.prototype.render=Lm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=ei();tE(a,l,t,r,null,null)},Th.prototype.unmount=Lm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;tE(t.current,2,null,t,null,null),th(),r[Vi]=null}};function Th(t){this._internalRoot=t}Th.prototype.unstable_scheduleHydration=function(t){if(t){var r=Gn();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Es.length&&r!==0&&r<Es[a].priority;a++);Es.splice(a,0,t),a===0&&oE(t)}};var hE=e.version;if(hE!=="19.2.3")throw Error(s(527,hE,"19.2.3"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var PA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bh.isDisabled&&bh.supportsFiber)try{qn=bh.inject(PA),jt=bh}catch{}}return eu.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=vv,d=_v,v=Ev;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=Z_(t,1,!1,null,null,a,l,null,f,d,v,cE),t[Vi]=r.current,ym(t),new Lm(r)},eu.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=vv,v=_v,b=Ev,M=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(M=a.formState)),r=Z_(t,1,!0,r,a??null,l,f,M,d,v,b,cE),r.context=eE(null),a=r.current,l=ei(),l=Fn(l),f=ss(l),f.callback=null,as(a,f,l),a=l,r.current.lanes=a,xn(r,a),Wi(r),t[Vi]=r.current,ym(t),new Th(r)},eu.version="19.2.3",eu}var TE;function YA(){if(TE)return zm.exports;TE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),zm.exports=KA(),zm.exports}var QA=YA();var bE="popstate";function $A(i={}){function e(s,o){let{pathname:u,search:c,hash:m}=s.location;return lp("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Eu(o)}return WA(e,n,null,i)}function Gt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Mi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XA(){return Math.random().toString(36).substring(2,10)}function SE(i,e){return{usr:i.state,key:i.key,idx:e}}function lp(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Uu(e):e,state:n,key:e&&e.key||s||XA()}}function Eu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Uu(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function WA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,m="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){m="POP";let z=_(),Y=z==null?null:z-g;g=z,p&&p({action:m,location:P.location,delta:Y})}function S(z,Y){m="PUSH";let $=lp(P.location,z,Y);g=_()+1;let J=SE($,g),se=P.createHref($);try{c.pushState(J,"",se)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(se)}u&&p&&p({action:m,location:P.location,delta:1})}function C(z,Y){m="REPLACE";let $=lp(P.location,z,Y);g=_();let J=SE($,g),se=P.createHref($);c.replaceState(J,"",se),u&&p&&p({action:m,location:P.location,delta:0})}function L(z){return JA(z)}let P={get action(){return m},get location(){return i(o,c)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(bE,T),p=z,()=>{o.removeEventListener(bE,T),p=null}},createHref(z){return e(o,z)},createURL:L,encodeLocation(z){let Y=L(z);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:S,replace:C,go(z){return c.go(z)}};return P}function JA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Gt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Eu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function UT(i,e,n="/"){return ZA(i,e,n,!1)}function ZA(i,e,n,s){let o=typeof e=="string"?Uu(e):e,u=Vr(o.pathname||"/",n);if(u==null)return null;let c=zT(i);eR(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=hR(u);m=uR(c[p],g,s)}return m}function zT(i,e=[],n=[],s="",o=!1){let u=(c,m,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;Gt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=Or([s,_.relativePath]),S=n.concat(_);c.children&&c.children.length>0&&(Gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),zT(c.children,e,S,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:oR(T,c.index),routesMeta:S})};return i.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of jT(c.path))u(c,m,!0,p)}),e}function jT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=jT(s.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function eR(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:lR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var tR=/^:[\w-]+$/,nR=3,iR=2,rR=1,sR=10,aR=-2,wE=i=>i==="*";function oR(i,e){let n=i.split("/"),s=n.length;return n.some(wE)&&(s+=aR),e&&(s+=iR),n.filter(o=>!wE(o)).reduce((o,u)=>o+(tR.test(u)?nR:u===""?rR:sR),s)}function lR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function uR(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=Kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Kh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Or([u,T.pathname]),pathnameBase:pR(Or([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Or([u,T.pathnameBase]))}return c}function Kh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=cR(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},S)=>{if(_==="*"){let L=m[S]||"";c=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const C=m[S];return T&&!C?g[_]=void 0:g[_]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function cR(i,e=!1,n=!0){Mi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function hR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Vr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var BT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fR=i=>BT.test(i);function dR(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Uu(i):i,u;if(n)if(fR(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Mi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=AE(n.substring(1),"/"):u=AE(n,e)}else u=e;return{pathname:u,search:gR(s),hash:yR(o)}}function AE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function qm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mR(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function HT(i){let e=mR(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function qT(i,e,n,s=!1){let o;typeof i=="string"?o=Uu(i):(o={...i},Gt(!o.pathname||!o.pathname.includes("?"),qm("?","pathname","search",o)),Gt(!o.pathname||!o.pathname.includes("#"),qm("#","pathname","hash",o)),Gt(!o.search||!o.search.includes("#"),qm("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let p=dR(o,m),g=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Or=i=>i.join("/").replace(/\/\/+/g,"/"),pR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),gR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,yR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,vR=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function _R(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function ER(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var FT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function GT(i,e){let n=i;if(typeof n!="string"||!BT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(FT)try{let u=new URL(window.location.href),c=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Vr(c.pathname,e);c.origin===u.origin&&m!=null?n=m+c.search+c.hash:o=!0}catch{Mi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var KT=["POST","PUT","PATCH","DELETE"];new Set(KT);var TR=["GET",...KT];new Set(TR);var Go=x.createContext(null);Go.displayName="DataRouter";var vf=x.createContext(null);vf.displayName="DataRouterState";var bR=x.createContext(!1),YT=x.createContext({isTransitioning:!1});YT.displayName="ViewTransition";var SR=x.createContext(new Map);SR.displayName="Fetchers";var wR=x.createContext(null);wR.displayName="Await";var Ti=x.createContext(null);Ti.displayName="Navigation";var _f=x.createContext(null);_f.displayName="Location";var jr=x.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var Hp=x.createContext(null);Hp.displayName="RouteError";var QT="REACT_ROUTER_ERROR",AR="REDIRECT",RR="ROUTE_ERROR_RESPONSE";function CR(i){if(i.startsWith(`${QT}:${AR}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function IR(i){if(i.startsWith(`${QT}:${RR}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new vR(e.status,e.statusText,e.data)}catch{}}function xR(i,{relative:e}={}){Gt(zu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=x.useContext(Ti),{hash:o,pathname:u,search:c}=ju(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Or([n,u])),s.createHref({pathname:m,search:c,hash:o})}function zu(){return x.useContext(_f)!=null}function Oa(){return Gt(zu(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(_f).location}var $T="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XT(i){x.useContext(Ti).static||x.useLayoutEffect(i)}function DR(){let{isDataRoute:i}=x.useContext(jr);return i?qR():NR()}function NR(){Gt(zu(),"useNavigate() may be used only in the context of a <Router> component.");let i=x.useContext(Go),{basename:e,navigator:n}=x.useContext(Ti),{matches:s}=x.useContext(jr),{pathname:o}=Oa(),u=JSON.stringify(HT(s)),c=x.useRef(!1);return XT(()=>{c.current=!0}),x.useCallback((p,g={})=>{if(Mi(c.current,$T),!c.current)return;if(typeof p=="number"){n.go(p);return}let _=qT(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Or([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,i])}x.createContext(null);function ju(i,{relative:e}={}){let{matches:n}=x.useContext(jr),{pathname:s}=Oa(),o=JSON.stringify(HT(n));return x.useMemo(()=>qT(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function OR(i,e,n,s,o){Gt(zu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=x.useContext(Ti),{matches:c}=x.useContext(jr),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let $=T&&T.path||"";JT(g,!T||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let S=Oa(),C;C=S;let L=C.pathname||"/",P=L;if(_!=="/"){let $=_.replace(/^\//,"").split("/");P="/"+L.replace(/^\//,"").split("/").slice($.length).join("/")}let z=UT(i,{pathname:P});return Mi(T||z!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Mi(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),PR(z&&z.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Or([_,u.encodeLocation?u.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?_:Or([_,u.encodeLocation?u.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,n,s,o)}function MR(){let i=HR(),e=_R(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:o},n):null,c)}var kR=x.createElement(MR,null),WT=class extends x.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=IR(i.digest);n&&(i=n)}let e=i!==void 0?x.createElement(jr.Provider,{value:this.props.routeContext},x.createElement(Hp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?x.createElement(VR,{error:i},e):e}};WT.contextType=bR;var Fm=new WeakMap;function VR({children:i,error:e}){let{basename:n}=x.useContext(Ti);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=CR(e.digest);if(s){let o=Fm.get(e);if(o)throw o;let u=GT(s.location,n);if(FT&&!Fm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Fm.set(e,c),c}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function LR({routeContext:i,match:e,children:n}){let s=x.useContext(Go);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(jr.Provider,{value:i},n)}function PR(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,c=n?.errors;if(c!=null){let _=u.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);Gt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let m=!1,p=-1;if(n)for(let _=0;_<u.length;_++){let T=u[_];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=_),T.route.id){let{loaderData:S,errors:C}=n,L=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!C||C[T.route.id]===void 0);if(T.route.lazy||L){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(_,T)=>{s(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:ER(n.matches),errorInfo:T})}:void 0;return u.reduceRight((_,T,S)=>{let C,L=!1,P=null,z=null;n&&(C=c&&T.route.id?c[T.route.id]:void 0,P=T.route.errorElement||kR,m&&(p<0&&S===0?(JT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,z=null):p===S&&(L=!0,z=T.route.hydrateFallbackElement||null)));let Y=e.concat(u.slice(0,S+1)),$=()=>{let J;return C?J=P:L?J=z:T.route.Component?J=x.createElement(T.route.Component,null):T.route.element?J=T.route.element:J=_,x.createElement(LR,{match:T,routeContext:{outlet:_,matches:Y,isDataRoute:n!=null},children:J})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?x.createElement(WT,{location:n.location,revalidation:n.revalidation,component:P,error:C,children:$(),routeContext:{outlet:null,matches:Y,isDataRoute:!0},onError:g}):$()},null)}function qp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function UR(i){let e=x.useContext(Go);return Gt(e,qp(i)),e}function zR(i){let e=x.useContext(vf);return Gt(e,qp(i)),e}function jR(i){let e=x.useContext(jr);return Gt(e,qp(i)),e}function Fp(i){let e=jR(i),n=e.matches[e.matches.length-1];return Gt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function BR(){return Fp("useRouteId")}function HR(){let i=x.useContext(Hp),e=zR("useRouteError"),n=Fp("useRouteError");return i!==void 0?i:e.errors?.[n]}function qR(){let{router:i}=UR("useNavigate"),e=Fp("useNavigate"),n=x.useRef(!1);return XT(()=>{n.current=!0}),x.useCallback(async(o,u={})=>{Mi(n.current,$T),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var RE={};function JT(i,e,n){!e&&!RE[i]&&(RE[i]=!0,Mi(!1,n))}x.memo(FR);function FR({routes:i,future:e,state:n,onError:s}){return OR(i,void 0,n,s,e)}function GR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){Gt(!zu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=x.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[m,o,u,c]);typeof n=="string"&&(n=Uu(n));let{pathname:g="/",search:_="",hash:T="",state:S=null,key:C="default"}=n,L=x.useMemo(()=>{let P=Vr(g,m);return P==null?null:{location:{pathname:P,search:_,hash:T,state:S,key:C},navigationType:s}},[m,g,_,T,S,C,s]);return Mi(L!=null,`<Router basename="${m}"> is not able to match the URL "${g}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:x.createElement(Ti.Provider,{value:p},x.createElement(_f.Provider,{children:e,value:L}))}var Oh="get",Mh="application/x-www-form-urlencoded";function Ef(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function KR(i){return Ef(i)&&i.tagName.toLowerCase()==="button"}function YR(i){return Ef(i)&&i.tagName.toLowerCase()==="form"}function QR(i){return Ef(i)&&i.tagName.toLowerCase()==="input"}function $R(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function XR(i,e){return i.button===0&&(!e||e==="_self")&&!$R(i)}var Sh=null;function WR(){if(Sh===null)try{new FormData(document.createElement("form"),0),Sh=!1}catch{Sh=!0}return Sh}var JR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Gm(i){return i!=null&&!JR.has(i)?(Mi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Mh}"`),null):i}function ZR(i,e){let n,s,o,u,c;if(YR(i)){let m=i.getAttribute("action");s=m?Vr(m,e):null,n=i.getAttribute("method")||Oh,o=Gm(i.getAttribute("enctype"))||Mh,u=new FormData(i)}else if(KR(i)||QR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Vr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Oh,o=Gm(i.getAttribute("formenctype"))||Gm(m.getAttribute("enctype"))||Mh,u=new FormData(m,i),!WR()){let{name:g,type:_,value:T}=i;if(_==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(Ef(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Oh,s=null,o=Mh,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function eC(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Vr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function tC(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function nC(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function iC(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await tC(u,n);return c.links?c.links():[]}return[]}));return oC(s.flat(1).filter(nC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function CE(i,e,n,s,o,u){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function rC(i,e,{includeHydrateFallback:n}={}){return sC(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function sC(i){return[...new Set(i)]}function aC(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function oC(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(aC(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function ZT(){let i=x.useContext(Go);return Gp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function lC(){let i=x.useContext(vf);return Gp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Kp=x.createContext(void 0);Kp.displayName="FrameworkContext";function eb(){let i=x.useContext(Kp);return Gp(i,"You must render this element inside a <HydratedRouter> element"),i}function uC(i,e){let n=x.useContext(Kp),[s,o]=x.useState(!1),[u,c]=x.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,S=x.useRef(null);x.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let P=Y=>{Y.forEach($=>{c($.isIntersecting)})},z=new IntersectionObserver(P,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[i]),x.useEffect(()=>{if(s){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[s]);let C=()=>{o(!0)},L=()=>{o(!1),c(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:tu(m,C),onBlur:tu(p,L),onMouseEnter:tu(g,C),onMouseLeave:tu(_,L),onTouchStart:tu(T,C)}]:[!1,S,{}]}function tu(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function cC({page:i,...e}){let{router:n}=ZT(),s=x.useMemo(()=>UT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?x.createElement(fC,{page:i,matches:s,...e}):null}function hC(i){let{manifest:e,routeModules:n}=eb(),[s,o]=x.useState([]);return x.useEffect(()=>{let u=!1;return iC(i,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,n]),s}function fC({page:i,matches:e,...n}){let s=Oa(),{future:o,manifest:u,routeModules:c}=eb(),{basename:m}=ZT(),{loaderData:p,matches:g}=lC(),_=x.useMemo(()=>CE(i,e,g,u,s,"data"),[i,e,g,u,s]),T=x.useMemo(()=>CE(i,e,g,u,s,"assets"),[i,e,g,u,s]),S=x.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,z=!1;if(e.forEach($=>{let J=u.routes[$.route.id];!J||!J.hasLoader||(!_.some(se=>se.route.id===$.route.id)&&$.route.id in p&&c[$.route.id]?.shouldRevalidate||J.hasClientLoader?z=!0:P.add($.route.id))}),P.size===0)return[];let Y=eC(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return z&&P.size>0&&Y.searchParams.set("_routes",e.filter($=>P.has($.route.id)).map($=>$.route.id).join(",")),[Y.pathname+Y.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,_,e,i,c]),C=x.useMemo(()=>rC(T,u),[T,u]),L=hC(T);return x.createElement(x.Fragment,null,S.map(P=>x.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),C.map(P=>x.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),L.map(({key:P,link:z})=>x.createElement("link",{key:P,nonce:n.nonce,...z})))}function dC(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var mC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{mC&&(window.__reactRouterVersion="7.12.0")}catch{}function pC({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=x.useRef();o.current==null&&(o.current=$A({window:s,v5Compat:!0}));let u=o.current,[c,m]=x.useState({action:u.action,location:u.location}),p=x.useCallback(g=>{n===!1?m(g):x.startTransition(()=>m(g))},[n]);return x.useLayoutEffect(()=>u.listen(p),[u,p]),x.createElement(GR,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:n})}var tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nb=x.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S,...C},L){let{basename:P,unstable_useTransitions:z}=x.useContext(Ti),Y=typeof g=="string"&&tb.test(g),$=GT(g,P);g=$.to;let J=xR(g,{relative:o}),[se,he,ce]=uC(s,C),R=_C(g,{replace:c,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:z});function A(V){e&&e(V),V.defaultPrevented||R(V)}let D=x.createElement("a",{...C,...ce,href:$.absoluteURL||J,onClick:$.isExternal||u?e:A,ref:dC(L,he),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return se&&!Y?x.createElement(x.Fragment,null,D,x.createElement(cC,{page:J})):D});nb.displayName="Link";var gC=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},_){let T=ju(c,{relative:g.relative}),S=Oa(),C=x.useContext(vf),{navigator:L,basename:P}=x.useContext(Ti),z=C!=null&&wC(T)&&m===!0,Y=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,$=S.pathname,J=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||($=$.toLowerCase(),J=J?J.toLowerCase():null,Y=Y.toLowerCase()),J&&P&&(J=Vr(J,P)||J);const se=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let he=$===Y||!o&&$.startsWith(Y)&&$.charAt(se)==="/",ce=J!=null&&(J===Y||!o&&J.startsWith(Y)&&J.charAt(Y.length)==="/"),R={isActive:he,isPending:ce,isTransitioning:z},A=he?e:void 0,D;typeof s=="function"?D=s(R):D=[s,he?"active":null,ce?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(R):u;return x.createElement(nb,{...g,"aria-current":A,className:D,ref:_,style:V,to:c,viewTransition:m},typeof p=="function"?p(R):p)});gC.displayName="NavLink";var yC=x.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:c=Oh,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S,...C},L)=>{let{unstable_useTransitions:P}=x.useContext(Ti),z=bC(),Y=SC(m,{relative:g}),$=c.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&tb.test(m),se=he=>{if(p&&p(he),he.defaultPrevented)return;he.preventDefault();let ce=he.nativeEvent.submitter,R=ce?.getAttribute("formmethod")||c,A=()=>z(ce||he.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S});P&&n!==!1?x.startTransition(()=>A()):A()};return x.createElement("form",{ref:L,method:$,action:Y,onSubmit:s?p:se,...C,"data-discover":!J&&i==="render"?"true":void 0})});yC.displayName="Form";function vC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ib(i){let e=x.useContext(Go);return Gt(e,vC(i)),e}function _C(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=DR(),_=Oa(),T=ju(i,{relative:u});return x.useCallback(S=>{if(XR(S,e)){S.preventDefault();let C=n!==void 0?n:Eu(_)===Eu(T),L=()=>g(i,{replace:C,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m});p?x.startTransition(()=>L()):L()}},[_,g,T,n,s,e,i,o,u,c,m,p])}var EC=0,TC=()=>`__${String(++EC)}__`;function bC(){let{router:i}=ib("useSubmit"),{basename:e}=x.useContext(Ti),n=BR(),s=i.fetch,o=i.navigate;return x.useCallback(async(u,c={})=>{let{action:m,method:p,encType:g,formData:_,body:T}=ZR(u,e);if(c.navigate===!1){let S=c.fetcherKey||TC();await s(S,n,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:T,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:T,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,n])}function SC(i,{relative:e}={}){let{basename:n}=x.useContext(Ti),s=x.useContext(jr);Gt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ju(i||".",{relative:e})},c=Oa();if(i==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Or([n,u.pathname])),Eu(u)}function wC(i,{relative:e}={}){let n=x.useContext(YT);Gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ib("useViewTransitionState"),o=ju(i,{relative:e});if(!n.isTransitioning)return!1;let u=Vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Kh(o.pathname,c)!=null||Kh(o.pathname,u)!=null}var iu=PT();const AC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),IE=i=>{const e=RC(i);return e.charAt(0).toUpperCase()+e.slice(1)},rb=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),CC=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var IC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xC=x.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:c,...m},p)=>x.createElement("svg",{ref:p,...IC,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:rb("lucide",o),...!u&&!CC(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,_])=>x.createElement(g,_)),...Array.isArray(u)?u:[u]]));const We=(i,e)=>{const n=x.forwardRef(({className:s,...o},u)=>x.createElement(xC,{ref:u,iconNode:e,className:rb(`lucide-${AC(IE(i))}`,`lucide-${i}`,s),...o}));return n.displayName=IE(i),n};const DC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xE=We("arrow-right",DC);const NC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],OC=We("chevron-down",NC);const MC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kC=We("chevron-up",MC);const VC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],DE=We("circle-alert",VC);const LC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],NE=We("circle-question-mark",LC);const PC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],UC=We("clock",PC);const zC=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],jC=We("command",zC);const BC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],HC=We("download",BC);const qC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],FC=We("grip-vertical",qC);const GC=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],KC=We("hexagon",GC);const YC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],QC=We("key",YC);const $C=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],XC=We("loader-circle",$C);const WC=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],JC=We("loader",WC);const ZC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],OE=We("lock",ZC);const eI=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],tI=We("log-in",eI);const nI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iI=We("log-out",nI);const rI=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sI=We("mail",rI);const aI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],oI=We("map-pin",aI);const lI=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],sb=We("palette",lI);const uI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cI=We("save",uI);const hI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],fI=We("shield",hI);const dI=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],mI=We("sliders-vertical",dI);const pI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],gI=We("sparkles",pI);const yI=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],vI=We("toggle-left",yI);const _I=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],EI=We("toggle-right",_I);const TI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],up=We("trash-2",TI);const bI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],SI=We("triangle-alert",bI);const wI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ab=We("user",wI);const AI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],RI=We("users",AI);const CI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],II=We("utensils",CI);const xI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],DI=We("x",xI),NI=()=>{};var ME={};const ob=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},OI=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],c=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},lb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,C=g&63;p||(C=64,c||(S=64)),s.push(n[_],n[T],n[S],n[C])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ob(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):OI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new MI;const S=u<<2|m>>4;if(s.push(S),g!==64){const C=m<<4&240|g>>2;if(s.push(C),T!==64){const L=g<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class MI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kI=function(i){const e=ob(i);return lb.encodeByteArray(e,!0)},Yh=function(i){return kI(i).replace(/\./g,"")},ub=function(i){try{return lb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function VI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LI=()=>VI().__FIREBASE_DEFAULTS__,PI=()=>{if(typeof process>"u"||typeof ME>"u")return;const i=ME.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},UI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ub(i[1]);return e&&JSON.parse(e)},Tf=()=>{try{return NI()||LI()||PI()||UI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},cb=i=>Tf()?.emulatorHosts?.[i],zI=i=>{const e=cb(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},hb=()=>Tf()?.config,fb=i=>Tf()?.[`_${i}`];class jI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ko(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function db(i){return(await fetch(i,{credentials:"include"})).ok}function BI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Yh(JSON.stringify(n)),Yh(JSON.stringify(c)),""].join(".")}const cu={};function HI(){const i={prod:[],emulator:[]};for(const e of Object.keys(cu))cu[e]?i.emulator.push(e):i.prod.push(e);return i}function qI(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let kE=!1;function mb(i,e){if(typeof window>"u"||typeof document>"u"||!Ko(window.location.host)||cu[i]===e||cu[i]||kE)return;cu[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=HI().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,C){S.setAttribute("width","24"),S.setAttribute("id",C),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{kE=!0,c()},S}function _(S,C){S.setAttribute("id",C),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=qI(s),C=n("text"),L=document.getElementById(C)||document.createElement("span"),P=n("learnmore"),z=document.getElementById(P)||document.createElement("a"),Y=n("preprendIcon"),$=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;m(J),_(z,P);const se=g();p($,Y),J.append($,L,z,se),document.body.appendChild(J)}u?(L.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function GI(){const i=Tf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function QI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $I(){const i=_n();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function XI(){return!GI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WI(){try{return typeof indexedDB=="object"}catch{return!1}}function JI(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const ZI="FirebaseError";class Br extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=ZI,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?e2(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Br(o,m,s)}}function e2(i,e){return i.replace(t2,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const t2=/\{\$([^}]+)}/g;function n2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Aa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],c=e[o];if(VE(u)&&VE(c)){if(!Aa(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function VE(i){return i!==null&&typeof i=="object"}function Hu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ru(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function su(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function i2(i,e){const n=new r2(i,e);return n.subscribe.bind(n)}class r2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");s2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Km),o.error===void 0&&(o.error=Km),o.complete===void 0&&(o.complete=Km);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s2(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Km(){}function Un(i){return i&&i._delegate?i._delegate:i}class Ra{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _a="[DEFAULT]";class a2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new jI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l2(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:o2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o2(i){return i===_a?void 0:i}function l2(i){return i.instantiationMode==="EAGER"}class u2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Be;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Be||(Be={}));const c2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},h2=Be.INFO,f2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},d2=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=f2[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Yp{constructor(e){this.name=e,this._logLevel=h2,this._logHandler=d2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const m2=(i,e)=>e.some(n=>i instanceof n);let LE,PE;function p2(){return LE||(LE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g2(){return PE||(PE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pb=new WeakMap,cp=new WeakMap,gb=new WeakMap,Ym=new WeakMap,Qp=new WeakMap;function y2(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(xs(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&pb.set(n,i)}).catch(()=>{}),Qp.set(e,i),e}function v2(i){if(cp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});cp.set(i,e)}let hp={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return cp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||gb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xs(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function _2(i){hp=i(hp)}function E2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Qm(this),e,...n);return gb.set(s,e.sort?e.sort():[e]),xs(s)}:g2().includes(i)?function(...e){return i.apply(Qm(this),e),xs(pb.get(this))}:function(...e){return xs(i.apply(Qm(this),e))}}function T2(i){return typeof i=="function"?E2(i):(i instanceof IDBTransaction&&v2(i),m2(i,p2())?new Proxy(i,hp):i)}function xs(i){if(i instanceof IDBRequest)return y2(i);if(Ym.has(i))return Ym.get(i);const e=T2(i);return e!==i&&(Ym.set(i,e),Qp.set(e,i)),e}const Qm=i=>Qp.get(i);function b2(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),m=xs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(xs(c.result),p.oldVersion,p.newVersion,xs(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const S2=["get","getKey","getAll","getAllKeys","count"],w2=["put","add","delete","clear"],$m=new Map;function UE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if($m.get(e))return $m.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=w2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||S2.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return $m.set(e,u),u}_2(i=>({...i,get:(e,n,s)=>UE(e,n)||i.get(e,n,s),has:(e,n)=>!!UE(e,n)||i.has(e,n)}));class A2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function R2(i){return i.getComponent()?.type==="VERSION"}const fp="@firebase/app",zE="0.14.6";const Lr=new Yp("@firebase/app"),C2="@firebase/app-compat",I2="@firebase/analytics-compat",x2="@firebase/analytics",D2="@firebase/app-check-compat",N2="@firebase/app-check",O2="@firebase/auth",M2="@firebase/auth-compat",k2="@firebase/database",V2="@firebase/data-connect",L2="@firebase/database-compat",P2="@firebase/functions",U2="@firebase/functions-compat",z2="@firebase/installations",j2="@firebase/installations-compat",B2="@firebase/messaging",H2="@firebase/messaging-compat",q2="@firebase/performance",F2="@firebase/performance-compat",G2="@firebase/remote-config",K2="@firebase/remote-config-compat",Y2="@firebase/storage",Q2="@firebase/storage-compat",$2="@firebase/firestore",X2="@firebase/ai",W2="@firebase/firestore-compat",J2="firebase",Z2="12.6.0";const dp="[DEFAULT]",ex={[fp]:"fire-core",[C2]:"fire-core-compat",[x2]:"fire-analytics",[I2]:"fire-analytics-compat",[N2]:"fire-app-check",[D2]:"fire-app-check-compat",[O2]:"fire-auth",[M2]:"fire-auth-compat",[k2]:"fire-rtdb",[V2]:"fire-data-connect",[L2]:"fire-rtdb-compat",[P2]:"fire-fn",[U2]:"fire-fn-compat",[z2]:"fire-iid",[j2]:"fire-iid-compat",[B2]:"fire-fcm",[H2]:"fire-fcm-compat",[q2]:"fire-perf",[F2]:"fire-perf-compat",[G2]:"fire-rc",[K2]:"fire-rc-compat",[Y2]:"fire-gcs",[Q2]:"fire-gcs-compat",[$2]:"fire-fst",[W2]:"fire-fst-compat",[X2]:"fire-vertex","fire-js":"fire-js",[J2]:"fire-js-all"};const Qh=new Map,tx=new Map,mp=new Map;function jE(i,e){try{i.container.addComponent(e)}catch(n){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Uo(i){const e=i.name;if(mp.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;mp.set(e,i);for(const n of Qh.values())jE(n,i);for(const n of tx.values())jE(n,i);return!0}function $p(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function ti(i){return i==null?!1:i.settings!==void 0}const nx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new Bu("app","Firebase",nx);class ix{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}const Yo=Z2;function yb(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:dp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(n||(n=hb()),!n)throw Ds.create("no-options");const u=Qh.get(o);if(u){if(Aa(n,u.options)&&Aa(s,u.config))return u;throw Ds.create("duplicate-app",{appName:o})}const c=new u2(o);for(const p of mp.values())c.addComponent(p);const m=new ix(n,s,c);return Qh.set(o,m),m}function vb(i=dp){const e=Qh.get(i);if(!e&&i===dp&&hb())return yb();if(!e)throw Ds.create("no-app",{appName:i});return e}function Ns(i,e,n){let s=ex[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(c.join(" "));return}Uo(new Ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const rx="firebase-heartbeat-database",sx=1,Tu="firebase-heartbeat-store";let Xm=null;function _b(){return Xm||(Xm=b2(rx,sx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Ds.create("idb-open",{originalErrorMessage:i.message})})),Xm}async function ax(i){try{const n=(await _b()).transaction(Tu),s=await n.objectStore(Tu).get(Eb(i));return await n.done,s}catch(e){if(e instanceof Br)Lr.warn(e.message);else{const n=Ds.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(n.message)}}}async function BE(i,e){try{const s=(await _b()).transaction(Tu,"readwrite");await s.objectStore(Tu).put(e,Eb(i)),await s.done}catch(n){if(n instanceof Br)Lr.warn(n.message);else{const s=Ds.create("idb-set",{originalErrorMessage:n?.message});Lr.warn(s.message)}}}function Eb(i){return`${i.name}!${i.options.appId}`}const ox=1024,lx=30;class ux{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=HE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>lx){const o=fx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Lr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=HE(),{heartbeatsToSend:n,unsentEntries:s}=cx(this._heartbeatsCache.heartbeats),o=Yh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Lr.warn(e),""}}}function HE(){return new Date().toISOString().substring(0,10)}function cx(i,e=ox){const n=[];let s=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),qE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),qE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WI()?JI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ax(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return BE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function qE(i){return Yh(JSON.stringify({version:2,heartbeats:i})).length}function fx(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function dx(i){Uo(new Ra("platform-logger",e=>new A2(e),"PRIVATE")),Uo(new Ra("heartbeat",e=>new ux(e),"PRIVATE")),Ns(fp,zE,i),Ns(fp,zE,"esm2020"),Ns("fire-js","")}dx("");function Tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mx=Tb,bb=new Bu("auth","Firebase",Tb());const $h=new Yp("@firebase/auth");function px(i,...e){$h.logLevel<=Be.WARN&&$h.warn(`Auth (${Yo}): ${i}`,...e)}function kh(i,...e){$h.logLevel<=Be.ERROR&&$h.error(`Auth (${Yo}): ${i}`,...e)}function Ei(i,...e){throw Wp(i,...e)}function Oi(i,...e){return Wp(i,...e)}function Xp(i,e,n){const s={...mx(),[e]:n};return new Bu("auth","Firebase",s).create(e,{appName:i.name})}function Mr(i){return Xp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gx(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ei(i,"argument-error"),Xp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return bb.create(i,...e)}function be(i,e,...n){if(!i)throw Wp(e,...n)}function Dr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw kh(e),new Error(e)}function Pr(i,e){i||Dr(e)}function pp(){return typeof self<"u"&&self.location?.href||""}function yx(){return FE()==="http:"||FE()==="https:"}function FE(){return typeof self<"u"&&self.location?.protocol||null}function vx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yx()||YI()||"connection"in navigator)?navigator.onLine:!0}function _x(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class qu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=FI()||QI()}get(){return vx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Jp(i,e){Pr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Sb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ex={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Tx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bx=new qu(3e4,6e4);function Hs(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function qs(i,e,n,s,o={}){return wb(i,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const m=Hu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return KI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Ko(i.emulatorConfig.host)&&(g.credentials="include"),Sb.fetch()(await Ab(i,i.config.apiHost,n,m),g)})}async function wb(i,e,n){i._canInitEmulator=!1;const s={...Ex,...e};try{const o=new wx(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw wh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw wh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw wh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw wh(i,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Xp(i,_,g);Ei(i,_)}}catch(o){if(o instanceof Br)throw o;Ei(i,"network-request-failed",{message:String(o)})}}async function Fu(i,e,n,s,o={}){const u=await qs(i,e,n,s,o);return"mfaPendingCredential"in u&&Ei(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ab(i,e,n,s){const o=`${e}${n}?${s}`,u=i,c=u.config.emulator?Jp(i.config,o):`${i.config.apiScheme}://${o}`;return Tx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function Sx(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),bx.get())})}}function wh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Oi(i,e,s);return o.customData._tokenResponse=n,o}function GE(i){return i!==void 0&&i.enterprise!==void 0}class Ax{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Sx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Rx(i,e){return qs(i,"GET","/v2/recaptchaConfig",Hs(i,e))}async function Cx(i,e){return qs(i,"POST","/v1/accounts:delete",e)}async function Xh(i,e){return qs(i,"POST","/v1/accounts:lookup",e)}function hu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ix(i,e=!1){const n=Un(i),s=await n.getIdToken(e),o=Zp(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:hu(Wm(o.auth_time)),issuedAtTime:hu(Wm(o.iat)),expirationTime:hu(Wm(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Wm(i){return Number(i)*1e3}function Zp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return kh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ub(n);return o?JSON.parse(o):(kh("Failed to decode base64 JWT payload"),null)}catch(o){return kh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function KE(i){const e=Zp(i);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Br&&xx(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function xx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class Dx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class gp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hu(this.lastLoginAt),this.creationTime=hu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wh(i){const e=i.auth,n=await i.getIdToken(),s=await bu(i,Xh(e,{idToken:n}));be(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?Rb(o.providerUserInfo):[],c=Ox(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function Nx(i){const e=Un(i);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ox(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Rb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Mx(i,e){const n=await wb(i,{},async()=>{const s=Hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await Ab(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Ko(i.emulatorConfig.host)&&(p.credentials="include"),Sb.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function kx(i,e){return qs(i,"POST","/v2/accounts:revokeToken",Hs(i,e))}class Oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=KE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Mx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new Oo;return s&&(be(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Oo,this.toJSON())}_performRefresh(){return Dr("not implemented")}}function bs(i,e){be(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Di{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Dx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new gp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await bu(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ix(this,e)}reload(){return Nx(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Di({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await bu(this,Cx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:C,providerData:L,stsTokenManager:P}=n;be(T&&P,e,"internal-error");const z=Oo.fromJSON(this.name,P);be(typeof T=="string",e,"internal-error"),bs(s,e.name),bs(o,e.name),be(typeof S=="boolean",e,"internal-error"),be(typeof C=="boolean",e,"internal-error"),bs(u,e.name),bs(c,e.name),bs(m,e.name),bs(p,e.name),bs(g,e.name),bs(_,e.name);const Y=new Di({uid:T,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:C,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:g,lastLoginAt:_});return L&&Array.isArray(L)&&(Y.providerData=L.map($=>({...$}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,n,s=!1){const o=new Oo;o.updateFromServerResponse(n);const u=new Di({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Wh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Rb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Oo;m.updateFromIdToken(s);const p=new Di({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new gp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const YE=new Map;function Nr(i){Pr(i instanceof Function,"Expected a class definition");let e=YE.get(i);return e?(Pr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,YE.set(i,e),e)}class Cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Cb.type="NONE";const QE=Cb;function Vh(i,e,n){return`firebase:${i}:${e}:${n}`}class Mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Xh(this.auth,{idToken:e}).catch(()=>{});return n?Di._fromGetAccountInfoResponse(this.auth,n,e):null}return Di._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Mo(Nr(QE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Nr(QE);const c=Vh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const S=await Xh(e,{idToken:_}).catch(()=>{});if(!S)break;T=await Di._fromGetAccountInfoResponse(e,S,_)}else T=Di._fromJSON(e,_);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Mo(u,e,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Mo(u,e,s))}}function $E(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ib(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Mb(e))return"Blackberry";if(kb(e))return"Webos";if(xb(e))return"Safari";if((e.includes("chrome/")||Db(e))&&!e.includes("edge/"))return"Chrome";if(Ob(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function Ib(i=_n()){return/firefox\//i.test(i)}function xb(i=_n()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Db(i=_n()){return/crios\//i.test(i)}function Nb(i=_n()){return/iemobile/i.test(i)}function Ob(i=_n()){return/android/i.test(i)}function Mb(i=_n()){return/blackberry/i.test(i)}function kb(i=_n()){return/webos/i.test(i)}function eg(i=_n()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Vx(i=_n()){return eg(i)&&!!window.navigator?.standalone}function Lx(){return $I()&&document.documentMode===10}function Vb(i=_n()){return eg(i)||Ob(i)||kb(i)||Mb(i)||/windows phone/i.test(i)||Nb(i)}function Lb(i,e=[]){let n;switch(i){case"Browser":n=$E(_n());break;case"Worker":n=`${$E(_n())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yo}/${s}`}class Px{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Ux(i,e={}){return qs(i,"GET","/v2/passwordPolicy",Hs(i,e))}const zx=6;class jx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Bx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XE(this),this.idTokenSubscription=new XE(this),this.beforeStateQueue=new Px(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Xh(this,{idToken:e}),s=await Di._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_x()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject(Mr(this));const n=e?Un(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ux(this),n=new jx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await kx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&px(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fs(i){return Un(i)}class XE{constructor(e){this.auth=e,this.observer=null,this.addObserver=i2(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hx(i){bf=i}function Pb(i){return bf.loadJS(i)}function qx(){return bf.recaptchaEnterpriseScript}function Fx(){return bf.gapiScript}function Gx(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class Kx{constructor(){this.enterprise=new Yx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Yx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Qx="recaptcha-enterprise",Ub="NO_RECAPTCHA";class $x{constructor(e){this.type=Qx,this.auth=Fs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{Rx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Ax(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;GE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(Ub)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Kx().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(m=>{if(!n&&GE(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=qx();p.length!==0&&(p+=m),Pb(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function WE(i,e,n,s=!1,o=!1){const u=new $x(i);let c;if(o)c=Ub;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function yp(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await WE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await WE(i,e,n,n==="getOobCode");return s(i,c)}else return Promise.reject(u)})}function Xx(i,e){const n=$p(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Aa(u,e??{}))return o;Ei(o,"already-initialized")}return n.initialize({options:e})}function Wx(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Nr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function Jx(i,e,n){const s=Fs(i);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=zb(e),{host:c,port:m}=Zx(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Aa(g,s.config.emulator)&&Aa(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Ko(c)?(db(`${u}//${c}${p}`),mb("Auth",!0)):eD()}function zb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function Zx(i){const e=zb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:JE(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:JE(c)}}}function JE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function eD(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,n){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function tD(i,e){return qs(i,"POST","/v1/accounts:signUp",e)}async function nD(i,e){return Fu(i,"POST","/v1/accounts:signInWithPassword",Hs(i,e))}async function iD(i,e){return Fu(i,"POST","/v1/accounts:signInWithEmailLink",Hs(i,e))}async function rD(i,e){return Fu(i,"POST","/v1/accounts:signInWithEmailLink",Hs(i,e))}class Su extends tg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Su(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Su(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,n,"signInWithPassword",nD);case"emailLink":return iD(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yp(e,s,"signUpPassword",tD);case"emailLink":return rD(e,{idToken:n,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ko(i,e){return Fu(i,"POST","/v1/accounts:signInWithIdp",Hs(i,e))}const sD="http://localhost";class Ca extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new Ca(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return ko(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ko(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ko(e,n)}buildRequest(){const e={requestUri:sD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Hu(n)}return e}}function aD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oD(i){const e=ru(su(i)).link,n=e?ru(su(e)).deep_link_id:null,s=ru(su(i)).deep_link_id;return(s?ru(su(s)).link:null)||s||n||e||i}class ng{constructor(e){const n=ru(su(e)),s=n.apiKey??null,o=n.oobCode??null,u=aD(n.mode??null);be(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=oD(e);try{return new ng(n)}catch{return null}}}class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,n){return Su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ng.parseLink(n);return be(s,"argument-error"),Su._fromEmailAndCode(e,s.code,s.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gu extends ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class As extends Gu{constructor(){super("facebook.com")}static credential(e){return Ca._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.FACEBOOK_SIGN_IN_METHOD="facebook.com";As.PROVIDER_ID="facebook.com";class xr extends Gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ca._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return xr.credential(n,s)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";class Rs extends Gu{constructor(){super("github.com")}static credential(e){return Ca._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";class Cs extends Gu{constructor(){super("twitter.com")}static credential(e,n){return Ca._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Cs.credential(n,s)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";async function lD(i,e){return Fu(i,"POST","/v1/accounts:signUp",Hs(i,e))}class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Di._fromIdTokenResponse(e,s,o),c=ZE(s);return new Ia({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=ZE(s);return new Ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function ZE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Jh extends Br{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Jh(e,n,s,o)}}function jb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Jh._fromErrorAndOperation(i,u,e,s):u})}async function uD(i,e,n=!1){const s=await bu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Ia._forOperation(i,"link",s)}async function cD(i,e,n=!1){const{auth:s}=i;if(ti(s.app))return Promise.reject(Mr(s));const o="reauthenticate";try{const u=await bu(i,jb(s,o,e,i),n);be(u.idToken,s,"internal-error");const c=Zp(u.idToken);be(c,s,"internal-error");const{sub:m}=c;return be(i.uid===m,s,"user-mismatch"),Ia._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ei(s,"user-mismatch"),u}}async function Bb(i,e,n=!1){if(ti(i.app))return Promise.reject(Mr(i));const s="signIn",o=await jb(i,s,e),u=await Ia._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function hD(i,e){return Bb(Fs(i),e)}async function Hb(i){const e=Fs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fD(i,e,n){if(ti(i.app))return Promise.reject(Mr(i));const s=Fs(i),c=await yp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Hb(i),p}),m=await Ia._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function dD(i,e,n){return ti(i.app)?Promise.reject(Mr(i)):hD(Un(i),Qo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Hb(i),s})}function mD(i,e,n,s){return Un(i).onIdTokenChanged(e,n,s)}function pD(i,e,n){return Un(i).beforeAuthStateChanged(e,n)}function gD(i,e,n,s){return Un(i).onAuthStateChanged(e,n,s)}function yD(i){return Un(i).signOut()}const Zh="__sak";class qb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const vD=1e3,_D=10;class Fb extends qb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);Lx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_D):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},vD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Fb.type="LOCAL";const ED=Fb;class Gb extends qb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Gb.type="SESSION";const Kb=Gb;function TD(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Sf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await TD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];function rg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class bD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=rg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Zi(){return window}function SD(i){Zi().location.href=i}function Yb(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function wD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AD(){return navigator?.serviceWorker?.controller||null}function RD(){return Yb()?self:null}const Qb="firebaseLocalStorageDb",CD=1,ef="firebaseLocalStorage",$b="fbase_key";class Ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wf(i,e){return i.transaction([ef],e?"readwrite":"readonly").objectStore(ef)}function ID(){const i=indexedDB.deleteDatabase(Qb);return new Ku(i).toPromise()}function vp(){const i=indexedDB.open(Qb,CD);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(ef,{keyPath:$b})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(ef)?e(s):(s.close(),await ID(),e(await vp()))})})}async function e0(i,e,n){const s=wf(i,!0).put({[$b]:e,value:n});return new Ku(s).toPromise()}async function xD(i,e){const n=wf(i,!1).get(e),s=await new Ku(n).toPromise();return s===void 0?null:s.value}function t0(i,e){const n=wf(i,!0).delete(e);return new Ku(n).toPromise()}const DD=800,ND=3;class Xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ND)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(RD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wD(),!this.activeServiceWorker)return;this.sender=new bD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vp();return await e0(e,Zh,"1"),await t0(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>e0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>xD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>t0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=wf(o,!1).getAll();return new Ku(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xb.type="LOCAL";const OD=Xb;new qu(3e4,6e4);function Wb(i,e){return e?Nr(e):(be(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class sg extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MD(i){return Bb(i.auth,new sg(i),i.bypassAuthState)}function kD(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),cD(n,new sg(i),i.bypassAuthState)}async function VD(i){const{auth:e,user:n}=i;return be(n,e,"internal-error"),uD(n,new sg(i),i.bypassAuthState)}class Jb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MD;case"linkViaPopup":case"linkViaRedirect":return VD;case"reauthViaPopup":case"reauthViaRedirect":return kD;default:Ei(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const LD=new qu(2e3,1e4);async function PD(i,e,n){if(ti(i.app))return Promise.reject(Oi(i,"operation-not-supported-in-this-environment"));const s=Fs(i);gx(i,e,ig);const o=Wb(s,n);return new ba(s,"signInViaPopup",e,o).executeNotNull()}class ba extends Jb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ba.currentPopupAction&&ba.currentPopupAction.cancel(),ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LD.get())};e()}}ba.currentPopupAction=null;const UD="pendingRedirect",Lh=new Map;class zD extends Jb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Lh.get(this.auth._key());if(!e){try{const s=await jD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Lh.set(this.auth._key(),e)}return this.bypassAuthState||Lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jD(i,e){const n=qD(e),s=HD(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function BD(i,e){Lh.set(i._key(),e)}function HD(i){return Nr(i._redirectPersistence)}function qD(i){return Vh(UD,i.config.apiKey,i.name)}async function FD(i,e,n=!1){if(ti(i.app))return Promise.reject(Mr(i));const s=Fs(i),o=Wb(s,e),c=await new zD(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const GD=600*1e3;class KD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Zb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GD&&this.cachedEventUids.clear(),this.cachedEventUids.has(n0(e))}saveEventToCache(e){this.cachedEventUids.add(n0(e)),this.lastProcessedEventTime=Date.now()}}function n0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Zb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function YD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zb(i);default:return!1}}async function QD(i,e={}){return qs(i,"GET","/v1/projects",e)}const $D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XD=/^https?/;async function WD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await QD(i);for(const n of e)try{if(JD(n))return}catch{}Ei(i,"unauthorized-domain")}function JD(i){const e=pp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!XD.test(n))return!1;if($D.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const ZD=new qu(3e4,6e4);function i0(){const i=Zi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function eN(i){return new Promise((e,n)=>{function s(){i0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i0(),n(Oi(i,"network-request-failed"))},timeout:ZD.get()})}if(Zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zi().gapi?.load)s();else{const o=Gx("iframefcb");return Zi()[o]=()=>{gapi.load?s():n(Oi(i,"network-request-failed"))},Pb(`${Fx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Ph=null,e})}let Ph=null;function tN(i){return Ph=Ph||eN(i),Ph}const nN=new qu(5e3,15e3),iN="__/auth/iframe",rN="emulator/auth/iframe",sN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oN(i){const e=i.config;be(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Jp(e,rN):`https://${i.config.authDomain}/${iN}`,s={apiKey:e.apiKey,appName:i.name,v:Yo},o=aN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Hu(s).slice(1)}`}async function lN(i){const e=await tN(i),n=Zi().gapi;return be(n,i,"internal-error"),e.open({where:document.body,url:oN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Oi(i,"network-request-failed"),m=Zi().setTimeout(()=>{u(c)},nN.get());function p(){Zi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const uN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cN=500,hN=600,fN="_blank",dN="http://localhost";class r0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mN(i,e,n,s=cN,o=hN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...uN,width:s.toString(),height:o.toString(),top:u,left:c},g=_n().toLowerCase();n&&(m=Db(g)?fN:n),Ib(g)&&(e=e||dN,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[C,L])=>`${S}${C}=${L},`,"");if(Vx(g)&&m!=="_self")return pN(e||"",m),new r0(null);const T=window.open(e||"",m,_);be(T,i,"popup-blocked");try{T.focus()}catch{}return new r0(T)}function pN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const gN="__/auth/handler",yN="emulator/auth/handler",vN=encodeURIComponent("fac");async function s0(i,e,n,s,o,u){be(i.config.authDomain,i,"auth-domain-config-required"),be(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Yo,eventId:o};if(e instanceof ig){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",n2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof Gu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${vN}=${encodeURIComponent(p)}`:"";return`${_N(i)}?${Hu(m).slice(1)}${g}`}function _N({config:i}){return i.emulator?Jp(i,yN):`https://${i.authDomain}/${gN}`}const Jm="webStorageSupport";class EN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kb,this._completeRedirectFn=FD,this._overrideRedirectResult=BD}async _openPopup(e,n,s,o){Pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await s0(e,n,s,pp(),o);return mN(e,u,rg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await s0(e,n,s,pp(),o);return SD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await lN(e),s=new KD(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jm,{type:Jm},o=>{const u=o?.[0]?.[Jm];u!==void 0&&n(!!u),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Vb()||xb()||eg()}}const TN=EN;var a0="@firebase/auth",o0="1.12.0";class bN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wN(i){Uo(new Ra("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;be(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lb(i)},g=new Bx(s,o,u,p);return Wx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Uo(new Ra("auth-internal",e=>{const n=Fs(e.getProvider("auth").getImmediate());return(s=>new bN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(a0,o0,SN(i)),Ns(a0,o0,"esm2020")}const AN=300,RN=fb("authIdTokenMaxAge")||AN;let l0=null;const CN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>RN)return;const o=n?.token;l0!==o&&(l0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function IN(i=vb()){const e=$p(i,"auth");if(e.isInitialized())return e.getImmediate();const n=Xx(i,{popupRedirectResolver:TN,persistence:[OD,ED,Kb]}),s=fb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=CN(u.toString());pD(n,c,()=>c(n.currentUser)),mD(n,m=>c(m))}}const o=cb("auth");return o&&Jx(n,`http://${o}`),n}function xN(){return document.getElementsByTagName("head")?.[0]??document}Hx({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",xN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wN("Browser");var DN="firebase",NN="12.7.0";Ns(DN,NN,"app");var u0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Os,eS;(function(){var i;function e(R,A){function D(){}D.prototype=A.prototype,R.F=A.prototype,R.prototype=new D,R.prototype.constructor=R,R.D=function(V,O,j){for(var N=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)N[Oe-2]=arguments[Oe];return A.prototype[O].apply(V,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,D){D||(D=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(D++)|A.charCodeAt(D++)<<8|A.charCodeAt(D++)<<16|A.charCodeAt(D++)<<24;else for(O=0;O<16;++O)V[O]=A[D++]|A[D++]<<8|A[D++]<<16|A[D++]<<24;A=R.g[0],D=R.g[1],O=R.g[2];let j=R.g[3],N;N=A+(j^D&(O^j))+V[0]+3614090360&4294967295,A=D+(N<<7&4294967295|N>>>25),N=j+(O^A&(D^O))+V[1]+3905402710&4294967295,j=A+(N<<12&4294967295|N>>>20),N=O+(D^j&(A^D))+V[2]+606105819&4294967295,O=j+(N<<17&4294967295|N>>>15),N=D+(A^O&(j^A))+V[3]+3250441966&4294967295,D=O+(N<<22&4294967295|N>>>10),N=A+(j^D&(O^j))+V[4]+4118548399&4294967295,A=D+(N<<7&4294967295|N>>>25),N=j+(O^A&(D^O))+V[5]+1200080426&4294967295,j=A+(N<<12&4294967295|N>>>20),N=O+(D^j&(A^D))+V[6]+2821735955&4294967295,O=j+(N<<17&4294967295|N>>>15),N=D+(A^O&(j^A))+V[7]+4249261313&4294967295,D=O+(N<<22&4294967295|N>>>10),N=A+(j^D&(O^j))+V[8]+1770035416&4294967295,A=D+(N<<7&4294967295|N>>>25),N=j+(O^A&(D^O))+V[9]+2336552879&4294967295,j=A+(N<<12&4294967295|N>>>20),N=O+(D^j&(A^D))+V[10]+4294925233&4294967295,O=j+(N<<17&4294967295|N>>>15),N=D+(A^O&(j^A))+V[11]+2304563134&4294967295,D=O+(N<<22&4294967295|N>>>10),N=A+(j^D&(O^j))+V[12]+1804603682&4294967295,A=D+(N<<7&4294967295|N>>>25),N=j+(O^A&(D^O))+V[13]+4254626195&4294967295,j=A+(N<<12&4294967295|N>>>20),N=O+(D^j&(A^D))+V[14]+2792965006&4294967295,O=j+(N<<17&4294967295|N>>>15),N=D+(A^O&(j^A))+V[15]+1236535329&4294967295,D=O+(N<<22&4294967295|N>>>10),N=A+(O^j&(D^O))+V[1]+4129170786&4294967295,A=D+(N<<5&4294967295|N>>>27),N=j+(D^O&(A^D))+V[6]+3225465664&4294967295,j=A+(N<<9&4294967295|N>>>23),N=O+(A^D&(j^A))+V[11]+643717713&4294967295,O=j+(N<<14&4294967295|N>>>18),N=D+(j^A&(O^j))+V[0]+3921069994&4294967295,D=O+(N<<20&4294967295|N>>>12),N=A+(O^j&(D^O))+V[5]+3593408605&4294967295,A=D+(N<<5&4294967295|N>>>27),N=j+(D^O&(A^D))+V[10]+38016083&4294967295,j=A+(N<<9&4294967295|N>>>23),N=O+(A^D&(j^A))+V[15]+3634488961&4294967295,O=j+(N<<14&4294967295|N>>>18),N=D+(j^A&(O^j))+V[4]+3889429448&4294967295,D=O+(N<<20&4294967295|N>>>12),N=A+(O^j&(D^O))+V[9]+568446438&4294967295,A=D+(N<<5&4294967295|N>>>27),N=j+(D^O&(A^D))+V[14]+3275163606&4294967295,j=A+(N<<9&4294967295|N>>>23),N=O+(A^D&(j^A))+V[3]+4107603335&4294967295,O=j+(N<<14&4294967295|N>>>18),N=D+(j^A&(O^j))+V[8]+1163531501&4294967295,D=O+(N<<20&4294967295|N>>>12),N=A+(O^j&(D^O))+V[13]+2850285829&4294967295,A=D+(N<<5&4294967295|N>>>27),N=j+(D^O&(A^D))+V[2]+4243563512&4294967295,j=A+(N<<9&4294967295|N>>>23),N=O+(A^D&(j^A))+V[7]+1735328473&4294967295,O=j+(N<<14&4294967295|N>>>18),N=D+(j^A&(O^j))+V[12]+2368359562&4294967295,D=O+(N<<20&4294967295|N>>>12),N=A+(D^O^j)+V[5]+4294588738&4294967295,A=D+(N<<4&4294967295|N>>>28),N=j+(A^D^O)+V[8]+2272392833&4294967295,j=A+(N<<11&4294967295|N>>>21),N=O+(j^A^D)+V[11]+1839030562&4294967295,O=j+(N<<16&4294967295|N>>>16),N=D+(O^j^A)+V[14]+4259657740&4294967295,D=O+(N<<23&4294967295|N>>>9),N=A+(D^O^j)+V[1]+2763975236&4294967295,A=D+(N<<4&4294967295|N>>>28),N=j+(A^D^O)+V[4]+1272893353&4294967295,j=A+(N<<11&4294967295|N>>>21),N=O+(j^A^D)+V[7]+4139469664&4294967295,O=j+(N<<16&4294967295|N>>>16),N=D+(O^j^A)+V[10]+3200236656&4294967295,D=O+(N<<23&4294967295|N>>>9),N=A+(D^O^j)+V[13]+681279174&4294967295,A=D+(N<<4&4294967295|N>>>28),N=j+(A^D^O)+V[0]+3936430074&4294967295,j=A+(N<<11&4294967295|N>>>21),N=O+(j^A^D)+V[3]+3572445317&4294967295,O=j+(N<<16&4294967295|N>>>16),N=D+(O^j^A)+V[6]+76029189&4294967295,D=O+(N<<23&4294967295|N>>>9),N=A+(D^O^j)+V[9]+3654602809&4294967295,A=D+(N<<4&4294967295|N>>>28),N=j+(A^D^O)+V[12]+3873151461&4294967295,j=A+(N<<11&4294967295|N>>>21),N=O+(j^A^D)+V[15]+530742520&4294967295,O=j+(N<<16&4294967295|N>>>16),N=D+(O^j^A)+V[2]+3299628645&4294967295,D=O+(N<<23&4294967295|N>>>9),N=A+(O^(D|~j))+V[0]+4096336452&4294967295,A=D+(N<<6&4294967295|N>>>26),N=j+(D^(A|~O))+V[7]+1126891415&4294967295,j=A+(N<<10&4294967295|N>>>22),N=O+(A^(j|~D))+V[14]+2878612391&4294967295,O=j+(N<<15&4294967295|N>>>17),N=D+(j^(O|~A))+V[5]+4237533241&4294967295,D=O+(N<<21&4294967295|N>>>11),N=A+(O^(D|~j))+V[12]+1700485571&4294967295,A=D+(N<<6&4294967295|N>>>26),N=j+(D^(A|~O))+V[3]+2399980690&4294967295,j=A+(N<<10&4294967295|N>>>22),N=O+(A^(j|~D))+V[10]+4293915773&4294967295,O=j+(N<<15&4294967295|N>>>17),N=D+(j^(O|~A))+V[1]+2240044497&4294967295,D=O+(N<<21&4294967295|N>>>11),N=A+(O^(D|~j))+V[8]+1873313359&4294967295,A=D+(N<<6&4294967295|N>>>26),N=j+(D^(A|~O))+V[15]+4264355552&4294967295,j=A+(N<<10&4294967295|N>>>22),N=O+(A^(j|~D))+V[6]+2734768916&4294967295,O=j+(N<<15&4294967295|N>>>17),N=D+(j^(O|~A))+V[13]+1309151649&4294967295,D=O+(N<<21&4294967295|N>>>11),N=A+(O^(D|~j))+V[4]+4149444226&4294967295,A=D+(N<<6&4294967295|N>>>26),N=j+(D^(A|~O))+V[11]+3174756917&4294967295,j=A+(N<<10&4294967295|N>>>22),N=O+(A^(j|~D))+V[2]+718787259&4294967295,O=j+(N<<15&4294967295|N>>>17),N=D+(j^(O|~A))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+O&4294967295,R.g[3]=R.g[3]+j&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const D=A-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<A;){if(O==0)for(;j<=D;)o(this,R,j),j+=this.blockSize;if(typeof R=="string"){for(;j<A;)if(V[O++]=R.charCodeAt(j++),O==this.blockSize){o(this,V),O=0;break}}else for(;j<A;)if(V[O++]=R[j++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var D=R.length-8;D<R.length;++D)R[D]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)R[A++]=this.g[D]>>>V&255;return R};function u(R,A){var D=m;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=A(R)}function c(R,A){this.h=A;const D=[];let V=!0;for(let O=R.length-1;O>=0;O--){const j=R[O]|0;V&&j==A||(D[O]=j,V=!1)}this.g=D}var m={};function p(R){return-128<=R&&R<128?u(R,function(A){return new c([A|0],A<0?-1:0)}):new c([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return z(g(-R));const A=[];let D=1;for(let V=0;R>=D;V++)A[V]=R/D|0,D*=4294967296;return new c(A,0)}function _(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return z(_(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(A,8));let V=T;for(let j=0;j<R.length;j+=8){var O=Math.min(8,R.length-j);const N=parseInt(R.substring(j,j+O),A);O<8?(O=g(Math.pow(A,O)),V=V.j(O).add(g(N))):(V=V.j(D),V=V.add(g(N)))}return V}var T=p(0),S=p(1),C=p(16777216);i=c.prototype,i.m=function(){if(P(this))return-z(this).m();let R=0,A=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);R+=(V>=0?V:4294967296+V)*A,A*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(L(this))return"0";if(P(this))return"-"+z(this).toString(R);const A=g(Math.pow(R,6));var D=this;let V="";for(;;){const O=se(D,A).g;D=Y(D,O.j(A));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(R);if(D=O,L(D))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function L(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function P(R){return R.h==-1}i.l=function(R){return R=Y(this,R),P(R)?-1:L(R)?0:1};function z(R){const A=R.g.length,D=[];for(let V=0;V<A;V++)D[V]=~R.g[V];return new c(D,~R.h).add(S)}i.abs=function(){return P(this)?z(this):this},i.add=function(R){const A=Math.max(this.g.length,R.g.length),D=[];let V=0;for(let O=0;O<=A;O++){let j=V+(this.i(O)&65535)+(R.i(O)&65535),N=(j>>>16)+(this.i(O)>>>16)+(R.i(O)>>>16);V=N>>>16,j&=65535,N&=65535,D[O]=N<<16|j}return new c(D,D[D.length-1]&-2147483648?-1:0)};function Y(R,A){return R.add(z(A))}i.j=function(R){if(L(this)||L(R))return T;if(P(this))return P(R)?z(this).j(z(R)):z(z(this).j(R));if(P(R))return z(this.j(z(R)));if(this.l(C)<0&&R.l(C)<0)return g(this.m()*R.m());const A=this.g.length+R.g.length,D=[];for(var V=0;V<2*A;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<R.g.length;O++){const j=this.i(V)>>>16,N=this.i(V)&65535,Oe=R.i(O)>>>16,nt=R.i(O)&65535;D[2*V+2*O]+=N*nt,$(D,2*V+2*O),D[2*V+2*O+1]+=j*nt,$(D,2*V+2*O+1),D[2*V+2*O+1]+=N*Oe,$(D,2*V+2*O+1),D[2*V+2*O+2]+=j*Oe,$(D,2*V+2*O+2)}for(R=0;R<A;R++)D[R]=D[2*R+1]<<16|D[2*R];for(R=A;R<2*A;R++)D[R]=0;return new c(D,0)};function $(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function J(R,A){this.g=R,this.h=A}function se(R,A){if(L(A))throw Error("division by zero");if(L(R))return new J(T,T);if(P(R))return A=se(z(R),A),new J(z(A.g),z(A.h));if(P(A))return A=se(R,z(A)),new J(z(A.g),A.h);if(R.g.length>30){if(P(R)||P(A))throw Error("slowDivide_ only works with positive integers.");for(var D=S,V=A;V.l(R)<=0;)D=he(D),V=he(V);var O=ce(D,1),j=ce(V,1);for(V=ce(V,2),D=ce(D,2);!L(V);){var N=j.add(V);N.l(R)<=0&&(O=O.add(D),j=N),V=ce(V,1),D=ce(D,1)}return A=Y(R,O.j(A)),new J(O,A)}for(O=T;R.l(A)>=0;){for(D=Math.max(1,Math.floor(R.m()/A.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=g(D),N=j.j(A);P(N)||N.l(R)>0;)D-=V,j=g(D),N=j.j(A);L(j)&&(j=S),O=O.add(j),R=Y(R,N)}return new J(O,R)}i.B=function(R){return se(this,R).h},i.and=function(R){const A=Math.max(this.g.length,R.g.length),D=[];for(let V=0;V<A;V++)D[V]=this.i(V)&R.i(V);return new c(D,this.h&R.h)},i.or=function(R){const A=Math.max(this.g.length,R.g.length),D=[];for(let V=0;V<A;V++)D[V]=this.i(V)|R.i(V);return new c(D,this.h|R.h)},i.xor=function(R){const A=Math.max(this.g.length,R.g.length),D=[];for(let V=0;V<A;V++)D[V]=this.i(V)^R.i(V);return new c(D,this.h^R.h)};function he(R){const A=R.g.length+1,D=[];for(let V=0;V<A;V++)D[V]=R.i(V)<<1|R.i(V-1)>>>31;return new c(D,R.h)}function ce(R,A){const D=A>>5;A%=32;const V=R.g.length-D,O=[];for(let j=0;j<V;j++)O[j]=A>0?R.i(j+D)>>>A|R.i(j+D+1)<<32-A:R.i(j+D);return new c(O,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,eS=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Os=c}).apply(typeof u0<"u"?u0:typeof self<"u"?self:typeof window<"u"?window:{});var Ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tS,au,nS,Uh,_p,iS,rS,sS;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ah=="object"&&Ah];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)e:{var E=s;h=h.split(".");for(var w=0;w<h.length-1;w++){var q=h[w];if(!(q in E))break e;E=E[q]}h=h[h.length-1],w=E[h],y=y(w),y!=w&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,q,Q){for(var oe=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)oe[Ie-2]=arguments[Ie];return y.prototype[q].apply(w,oe)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function C(h){const y=h.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=h[w];return E}return[]}function L(h,y){for(let w=1;w<arguments.length;w++){const q=arguments[w];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=h.length||0;const Q=q.length||0;h.length=E+Q;for(let oe=0;oe<Q;oe++)h[E+oe]=q[oe]}else h.push(q)}}class P{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(h){c.setTimeout(()=>{throw h},0)}function Y(){var h=R;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ${constructor(){this.h=this.g=null}add(y,E){const w=J.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var J=new P(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ce=!1,R=new $,A=()=>{const h=Promise.resolve(void 0);he=()=>{h.then(D)}};function D(){for(var h;h=Y();){try{h.h.call(h.g)}catch(E){z(E)}var y=J;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ce=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Oe(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Oe,O),Oe.prototype.init=function(h,y){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var nt="closure_listenable_"+(Math.random()*1e6|0),W=0;function ae(h,y,E,w,q){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=q,this.key=++W,this.da=this.fa=!1}function pe(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Ae(h,y,E){for(const w in h)y.call(E,h[w],w,h)}function ue(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function k(h){const y={};for(const E in h)y[E]=h[E];return y}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ne(h,y){let E,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(E in w)h[E]=w[E];for(let Q=0;Q<H.length;Q++)E=H[Q],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function le(h){this.src=h,this.g={},this.h=0}le.prototype.add=function(h,y,E,w,q){const Q=h.toString();h=this.g[Q],h||(h=this.g[Q]=[],this.h++);const oe=ye(h,y,w,q);return oe>-1?(y=h[oe],E||(y.fa=!1)):(y=new ae(y,this.src,Q,!!w,q),y.fa=E,h.push(y)),y};function _e(h,y){const E=y.type;if(E in h.g){var w=h.g[E],q=Array.prototype.indexOf.call(w,y,void 0),Q;(Q=q>=0)&&Array.prototype.splice.call(w,q,1),Q&&(pe(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function ye(h,y,E,w){for(let q=0;q<h.length;++q){const Q=h[q];if(!Q.da&&Q.listener==y&&Q.capture==!!E&&Q.ha==w)return q}return-1}var De="closure_lm_"+(Math.random()*1e6|0),Me={};function Ue(h,y,E,w,q){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Ue(h,y[Q],E,w,q);return null}return E=qr(E),h&&h[nt]?h.J(y,E,m(w)?!!w.capture:!1,q):ke(h,y,E,!1,w,q)}function ke(h,y,E,w,q,Q){if(!y)throw Error("Invalid event type");const oe=m(q)?!!q.capture:!!q;let Ie=In(h);if(Ie||(h[De]=Ie=new le(h)),E=Ie.add(y,E,w,oe,Q),E.proxy)return E;if(w=En(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)j||(q=oe),q===void 0&&(q=!1),h.addEventListener(y.toString(),w,q);else if(h.attachEvent)h.attachEvent(It(y.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function En(){function h(E){return y.call(h.src,h.listener,E)}const y=ni;return h}function zt(h,y,E,w,q){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)zt(h,y[Q],E,w,q);else w=m(w)?!!w.capture:!!w,E=qr(E),h&&h[nt]?(h=h.i,Q=String(y).toString(),Q in h.g&&(y=h.g[Q],E=ye(y,E,w,q),E>-1&&(pe(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[Q],h.h--)))):h&&(h=In(h))&&(y=h.g[y.toString()],h=-1,y&&(h=ye(y,E,w,q)),(E=h>-1?y[h]:null)&&jn(E))}function jn(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[nt])_e(y.i,h);else{var E=h.type,w=h.proxy;y.removeEventListener?y.removeEventListener(E,w,h.capture):y.detachEvent?y.detachEvent(It(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=In(y))?(_e(E,h),E.h==0&&(E.src=null,y[De]=null)):pe(h)}}}function It(h){return h in Me?Me[h]:Me[h]="on"+h}function ni(h,y){if(h.da)h=!0;else{y=new Oe(y,this);const E=h.listener,w=h.ha||h.src;h.fa&&jn(h),h=E.call(w,y)}return h}function In(h){return h=h[De],h instanceof le?h:null}var Hr="__closure_events_fn_"+(Math.random()*1e9>>>0);function qr(h){return typeof h=="function"?h:(h[Hr]||(h[Hr]=function(y){return h.handleEvent(y)}),h[Hr])}function ft(){V.call(this),this.i=new le(this),this.M=this,this.G=null}T(ft,V),ft.prototype[nt]=!0,ft.prototype.removeEventListener=function(h,y,E,w){zt(this,h,y,E,w)};function it(h,y){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var q=y;y=new O(w,h),ne(y,q)}q=!0;let Q,oe;if(E)for(oe=E.length-1;oe>=0;oe--)Q=y.g=E[oe],q=Bn(Q,w,!0,y)&&q;if(Q=y.g=h,q=Bn(Q,w,!0,y)&&q,q=Bn(Q,w,!1,y)&&q,E)for(oe=0;oe<E.length;oe++)Q=y.g=E[oe],q=Bn(Q,w,!1,y)&&q}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let w=0;w<E.length;w++)pe(E[w]);delete h.g[y],h.h--}}this.G=null},ft.prototype.J=function(h,y,E,w){return this.i.add(String(h),y,!1,E,w)},ft.prototype.K=function(h,y,E,w){return this.i.add(String(h),y,!0,E,w)};function Bn(h,y,E,w){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let Q=0;Q<y.length;++Q){const oe=y[Q];if(oe&&!oe.da&&oe.capture==E){const Ie=oe.listener,wt=oe.ha||oe.src;oe.fa&&_e(h.i,oe),q=Ie.call(wt,w)!==!1&&q}}return q&&!w.defaultPrevented}function Fr(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Gs(h){h.g=Fr(()=>{h.g=null,h.i&&(h.i=!1,Gs(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Yt extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Gs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(h){V.call(this),this.h=h,this.g={}}T(or,V);var Ks=[];function ii(h){Ae(h.g,function(y,E){this.g.hasOwnProperty(E)&&jn(y)},h),h.g={}}or.prototype.N=function(){or.Z.N.call(this),ii(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=c.JSON.stringify,lr=c.JSON.parse,Ys=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Hn(){}function Qs(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function jt(){O.call(this,"d")}T(jt,O);function cn(){O.call(this,"c")}T(cn,O);var dt={},Pa=null;function ur(){return Pa=Pa||new ft}dt.Ia="serverreachability";function Ua(h){O.call(this,dt.Ia,h)}T(Ua,O);function ri(h){const y=ur();it(y,new Ua(y))}dt.STAT_EVENT="statevent";function cr(h,y){O.call(this,dt.STAT_EVENT,h),this.stat=y}T(cr,O);function Ve(h){const y=ur();it(y,new cr(y,h))}dt.Ja="timingevent";function mt(h,y){O.call(this,dt.Ja,h),this.size=y}T(mt,O);function pt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function xt(){this.g=!0}xt.prototype.ua=function(){this.g=!1};function hn(h,y,E,w,q,Q){h.info(function(){if(h.g)if(Q){var oe="",Ie=Q.split("&");for(let $e=0;$e<Ie.length;$e++){var wt=Ie[$e].split("=");if(wt.length>1){const gt=wt[0];wt=wt[1];const li=gt.split("_");oe=li.length>=2&&li[1]=="type"?oe+(gt+"="+wt+"&"):oe+(gt+"=redacted&")}}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+E+`
`+oe})}function Qt(h,y,E,w,q,Q,oe){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+E+`
`+Q+" "+oe})}function bt(h,y,E,w){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+St(h,E)+(w?" "+w:"")})}function xn(h,y){h.info(function(){return"TIMEOUT: "+y})}xt.prototype.info=function(){};function St(h,y){if(!h.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(h=0;h<Q.length;h++)if(Array.isArray(Q[h])){var E=Q[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let oe=1;oe<w.length;oe++)w[oe]=""}}}}return Tn(Q)}catch{return y}}var fn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bn;function Fn(){}T(Fn,Hn),Fn.prototype.g=function(){return new XMLHttpRequest},bn=new Fn;function Sn(h){return encodeURIComponent(String(h))}function Gn(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function en(h,y,E,w){this.j=h,this.i=y,this.l=E,this.S=w||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new wn}function wn(){this.i=null,this.g="",this.h=!1}var Dt={},$t={};function Vi(h,y,E){h.M=1,h.A=$s(Ot(y)),h.u=E,h.R=!0,za(h,null)}function za(h,y){h.F=Date.now(),Li(h),h.B=Ot(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),qa(E.i,"t",w),h.C=0,E=h.j.L,h.h=new wn,h.g=gc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new Yt(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,w=h.ba;var q="readystatechange";Array.isArray(q)||(q&&(Ks[0]=q.toString()),q=Ks);for(let Q=0;Q<q.length;Q++){const oe=Ue(E,q[Q],w||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),ri(),hn(h.i,h.v,h.B,h.l,h.S,h.u)}en.prototype.ba=function(h){h=h.target;const y=this.O;y&&wi(h)==3?y.j():this.Y(h)},en.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=wi(this.g),wt=this.g.ya(),$e=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ie!=4||wt==7||(wt==8||$e<=0?ri(3):ri(2)),Pi(this);var y=this.g.ca();this.X=y;var E=qf(this);if(this.o=y==200,Qt(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(w)){var Q=w;break t}}Q=null}if(h=Q)bt(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ui(this,h);else{this.o=!1,this.m=3,Ve(12),Kn(this),si(this);break e}}if(this.R){h=!0;let gt;for(;!this.K&&this.C<E.length;)if(gt=ic(this,E),gt==$t){Ie==4&&(this.m=4,Ve(14),h=!1),bt(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Dt){this.m=4,Ve(15),bt(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else bt(this.i,this.l,gt,null),Ui(this,gt);if(nc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,Ve(16),h=!1),this.o=this.o&&h,!h)bt(this.i,this.l,E,"[Invalid Chunked Response]"),Kn(this),si(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),gl(oe),oe.P=!0,Ve(11))}}else bt(this.i,this.l,E,null),Ui(this,E);Ie==4&&Kn(this),this.o&&!this.K&&(Ie==4?fc(this.j,this):(this.o=!1,Li(this)))}else fr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ve(12)):(this.m=0,Ve(13)),Kn(this),si(this)}}}catch{}};function qf(h){if(!nc(h))return h.g.la();const y=tn(h.g);if(y==="")return"";let E="";const w=y.length,q=wi(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Kn(h),si(h),"";h.h.i=new c.TextDecoder}for(let Q=0;Q<w;Q++)h.h.h=!0,E+=h.h.i.decode(y[Q],{stream:!(q&&Q==w-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function nc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function ic(h,y){var E=h.C,w=y.indexOf(`
`,E);return w==-1?$t:(E=Number(y.substring(E,w)),isNaN(E)?Dt:(w+=1,w+E>y.length?$t:(y=y.slice(w,w+E),h.C=w+E,y)))}en.prototype.cancel=function(){this.K=!0,Kn(this)};function Li(h){h.T=Date.now()+h.H,ja(h,h.H)}function ja(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=pt(g(h.aa,h),y)}function Pi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}en.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(xn(this.i,this.B),this.M!=2&&(ri(),Ve(17)),Kn(this),this.m=2,si(this)):ja(this,this.T-h)};function si(h){h.j.I==0||h.K||fc(h.j,h)}function Kn(h){Pi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,ii(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ui(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||ji(E.h,h))){if(!h.L&&ji(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Qa(E),Jr(E);else break e;na(E),Ve(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=pt(g(E.Va,E),6e3));zi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ki(E,11)}else if((h.L||E.g==h)&&Qa(E),!N(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let $e=q[y];const gt=$e[0];if(!(gt<=E.K))if(E.K=gt,$e=$e[1],E.I==2)if($e[0]=="c"){E.M=$e[1],E.ba=$e[2];const li=$e[3];li!=null&&(E.ka=li,E.j.info("VER="+E.ka));const Yi=$e[4];Yi!=null&&(E.za=Yi,E.j.info("SVER="+E.za));const Ai=$e[5];Ai!=null&&typeof Ai=="number"&&Ai>0&&(w=1.5*Ai,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const Ri=h.g;if(Ri){const ia=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ia){var Q=w.h;Q.g||ia.indexOf("spdy")==-1&&ia.indexOf("quic")==-1&&ia.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(rl(Q,Q.h),Q.h=null))}if(w.G){const $a=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;$a&&(w.wa=$a,Ze(w.J,w.G,$a))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var oe=h;if(w.na=pc(w,w.L?w.ba:null,w.W),oe.L){sl(w.h,oe);var Ie=oe,wt=w.O;wt&&(Ie.H=wt),Ie.D&&(Pi(Ie),Li(Ie)),w.g=oe}else cc(w);E.i.length>0&&Gi(E)}else $e[0]!="stop"&&$e[0]!="close"||Ki(E,7);else E.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Ki(E,7):ml(E):$e[0]!="noop"&&E.l&&E.l.qa($e),E.A=0)}}ri(4)}catch{}}var Nt=class{constructor(h,y){this.g=h,this.map=y}};function nl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function il(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function zi(h){return h.h?1:h.g?h.g.size:0}function ji(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function rl(h,y){h.g?h.g.add(y):h.h=y}function sl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}nl.prototype.cancel=function(){if(this.i=al(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function al(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return C(h.i)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ba(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let q,Q=null;w>=0?(q=h[E].substring(0,w),Q=h[E].substring(w+1)):q=h[E],y(q,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Yn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Yn?(this.l=h.l,Xt(this,h.j),this.o=h.o,this.g=h.g,Gr(this,h.u),this.h=h.h,ol(this,lc(h.i)),this.m=h.m):h&&(y=String(h).match(rc))?(this.l=!1,Xt(this,y[1]||"",!0),this.o=Bi(y[2]||""),this.g=Bi(y[3]||"",!0),Gr(this,y[4]),this.h=Bi(y[5]||"",!0),ol(this,y[6]||"",!0),this.m=Bi(y[7]||"")):(this.l=!1,this.i=new Yr(null,this.l))}Yn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Xs(y,Ha,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Xs(y,Ha,!0),"@"),h.push(Sn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Xs(E,E.charAt(0)=="/"?ll:sc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Xs(E,ac)),h.join("")},Yn.prototype.resolve=function(h){const y=Ot(this);let E=!!h.j;E?Xt(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var w=h.h;if(E)Gr(y,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=y.h.lastIndexOf("/");q!=-1&&(w=y.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const Q=[];for(let oe=0;oe<q.length;){const Ie=q[oe++];Ie=="."?w&&oe==q.length&&Q.push(""):Ie==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&oe==q.length&&Q.push("")):(Q.push(Ie),w=!0)}w=Q.join("/")}else w=q}return E?y.h=w:E=h.i.toString()!=="",E?ol(y,lc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Ot(h){return new Yn(h)}function Xt(h,y,E){h.j=E?Bi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Gr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function ol(h,y,E){y instanceof Yr?(h.i=y,Fa(h.i,h.l)):(E||(y=Xs(y,Kr)),h.i=new Yr(y,h.l))}function Ze(h,y,E){h.i.set(y,E)}function $s(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Bi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Xs(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Dn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ha=/[#\/\?@]/g,sc=/[#\?:]/g,ll=/[#\?]/g,Kr=/[#\?@]/g,ac=/#/g;function Yr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Nn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ba(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Yr.prototype,i.add=function(h,y){Nn(this),this.i=null,h=Qr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function oc(h,y){Nn(h),y=Qr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function ul(h,y){return Nn(h),y=Qr(h,y),h.g.has(y)}i.forEach=function(h,y){Nn(this),this.g.forEach(function(E,w){E.forEach(function(q){h.call(y,q,w,this)},this)},this)};function cl(h,y){Nn(h);let E=[];if(typeof y=="string")ul(h,y)&&(E=E.concat(h.g.get(Qr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return Nn(this),this.i=null,h=Qr(this,h),ul(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=cl(this,h),h.length>0?String(h[0]):y):y};function qa(h,y,E){oc(h,y),E.length>0&&(h.i=null,h.g.set(Qr(h,y),C(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const q=Sn(E);E=cl(this,E);for(let Q=0;Q<E.length;Q++){let oe=q;E[Q]!==""&&(oe+="="+Sn(E[Q])),h.push(oe)}}return this.i=h.join("&")};function lc(h){const y=new Yr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Qr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Fa(h,y){y&&!h.j&&(Nn(h),h.i=null,h.g.forEach(function(E,w){const q=w.toLowerCase();w!=q&&(oc(this,w),qa(this,q,E))},h)),h.j=y}function bi(h,y){const E=new xt;if(c.Image){const w=new Image;w.onload=_(ai,E,"TestLoadImage: loaded",!0,y,w),w.onerror=_(ai,E,"TestLoadImage: error",!1,y,w),w.onabort=_(ai,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=_(ai,E,"TestLoadImage: timeout",!1,y,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else y(!1)}function hl(h,y){const E=new xt,w=new AbortController,q=setTimeout(()=>{w.abort(),ai(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:w.signal}).then(Q=>{clearTimeout(q),Q.ok?ai(E,"TestPingServer: ok",!0,y):ai(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),ai(E,"TestPingServer: error",!1,y)})}function ai(h,y,E,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(E)}catch{}}function $r(){this.g=new Ys}function Hi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Hi,Hn),Hi.prototype.g=function(){return new Ws(this.i,this.h)};function Ws(h,y){ft.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ws,ft),i=Ws.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Si(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ga(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ga(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Xr(this):Si(this),this.readyState==3&&Ga(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Xr(this))},i.Na=function(h){this.g&&(this.response=h,Xr(this))},i.ga=function(){this.g&&Xr(this)};function Xr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Si(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function oi(h){let y="";return Ae(h,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Js(h,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=oi(E),typeof h=="string"?E!=null&&Sn(E):Ze(h,y,E))}function rt(h){ft.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(rt,ft);var qi=/^https?$/i,fl=["POST","PUT"];i=rt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bn.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Q){Zs(this,Q);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)E.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())E.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),q=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(fl,y,void 0)>=0)||w||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of E)this.g.setRequestHeader(Q,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Q){Zs(this,Q)}};function Zs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,dl(h),hr(h)}function dl(h){h.A||(h.A=!0,it(h,"complete"),it(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,it(this,"complete"),it(this,"abort"),hr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),rt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?ea(this):this.Xa())},i.Xa=function(){ea(this)};function ea(h){if(h.h&&typeof u<"u"){if(h.v&&wi(h)==4)setTimeout(h.Ca.bind(h),0);else if(it(h,"readystatechange"),wi(h)==4){h.h=!1;try{const Q=h.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=Q===0){let oe=String(h.D).match(rc)[1]||null;!oe&&c.self&&c.self.location&&(oe=c.self.location.protocol.slice(0,-1)),w=!qi.test(oe?oe.toLowerCase():"")}E=w}if(E)it(h,"complete"),it(h,"success");else{h.o=6;try{var q=wi(h)>2?h.g.statusText:""}catch{q=""}h.l=q+" ["+h.ca()+"]",dl(h)}}finally{hr(h)}}}}function hr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||it(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function wi(h){return h.g?h.g.readyState:0}i.ca=function(){try{return wi(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),lr(y)}};function tn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fr(h){const y={};h=(h.g&&wi(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(N(h[w]))continue;var E=Gn(h[w]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=y[q]||[];y[q]=Q,Q.push(E)}ue(y,function(w){return w.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Wr(h){this.za=0,this.i=[],this.j=new xt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,h),this.Za=Fi("retryDelaySeedMs",1e4,h),this.Ta=Fi("forwardChannelMaxRetries",2,h),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new nl(h&&h.concurrentRequestLimit),this.Ba=new $r,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Wr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,w){Ve(0),this.W=h,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=pc(this,null,this.W),Gi(this)};function ml(h){if(Ka(h),h.I==3){var y=h.V++,E=Ot(h.J);if(Ze(E,"SID",h.M),Ze(E,"RID",y),Ze(E,"TYPE","terminate"),ta(h,E),y=new en(h,h.j,y),y.M=2,y.A=$s(Ot(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=gc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Li(y)}mc(h)}function Jr(h){h.g&&(gl(h),h.g.cancel(),h.g=null)}function Ka(h){Jr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Qa(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Gi(h){if(!il(h.h)&&!h.m){h.m=!0;var y=h.Ea;he||A(),ce||(he(),ce=!0),R.add(y,h),h.D=0}}function Ya(h,y){return zi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=pt(g(h.Ea,h,y),dc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const q=new en(this,this.j,h);let Q=this.o;if(this.U&&(Q?(Q=k(Q),ne(Q,this.U)):Q=this.U),this.u!==null||this.R||(q.J=Q,Q=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=uc(this,q,y),E=Ot(this.J),Ze(E,"RID",h),Ze(E,"CVER",22),this.G&&Ze(E,"X-HTTP-Session-Id",this.G),ta(this,E),Q&&(this.R?y="headers="+Sn(oi(Q))+"&"+y:this.u&&Js(E,this.u,Q)),rl(this.h,q),this.Ra&&Ze(E,"TYPE","init"),this.S?(Ze(E,"$req",y),Ze(E,"SID","null"),q.U=!0,Vi(q,E,null)):Vi(q,E,y),this.I=2}}else this.I==3&&(h?pl(this,h):this.i.length==0||il(this.h)||pl(this))};function pl(h,y){var E;y?E=y.l:E=h.V++;const w=Ot(h.J);Ze(w,"SID",h.M),Ze(w,"RID",E),Ze(w,"AID",h.K),ta(h,w),h.u&&h.o&&Js(w,h.u,h.o),E=new en(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=uc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),rl(h.h,E),Vi(E,w,y)}function ta(h,y){h.H&&Ae(h.H,function(E,w){Ze(y,w,E)}),h.l&&Ae({},function(E,w){Ze(y,w,E)})}function uc(h,y,E){E=Math.min(h.i.length,E);const w=h.l?g(h.l.Ka,h.l,h):null;e:{var q=h.i;let Ie=-1;for(;;){const wt=["count="+E];Ie==-1?E>0?(Ie=q[0].g,wt.push("ofs="+Ie)):Ie=0:wt.push("ofs="+Ie);let $e=!0;for(let gt=0;gt<E;gt++){var Q=q[gt].g;const li=q[gt].map;if(Q-=Ie,Q<0)Ie=Math.max(0,q[gt].g-100),$e=!1;else try{Q="req"+Q+"_"||"";try{var oe=li instanceof Map?li:Object.entries(li);for(const[Yi,Ai]of oe){let Ri=Ai;m(Ai)&&(Ri=Tn(Ai)),wt.push(Q+Yi+"="+encodeURIComponent(Ri))}}catch(Yi){throw wt.push(Q+"type="+encodeURIComponent("_badmap")),Yi}}catch{w&&w(li)}}if($e){oe=wt.join("&");break e}}oe=void 0}return h=h.i.splice(0,E),y.G=h,oe}function cc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;he||A(),ce||(he(),ce=!0),R.add(y,h),h.A=0}}function na(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=pt(g(h.Da,h),dc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,hc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=pt(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ve(10),Jr(this),hc(this))};function gl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function hc(h){h.g=new en(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ot(h.na);Ze(y,"RID","rpc"),Ze(y,"SID",h.M),Ze(y,"AID",h.K),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(y,"TO",h.ia),Ze(y,"TYPE","xmlhttp"),ta(h,y),h.u&&h.o&&Js(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=$s(Ot(y)),E.u=null,E.R=!0,za(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Jr(this),na(this),Ve(19))};function Qa(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function fc(h,y){var E=null;if(h.g==y){Qa(h),gl(h),h.g=null;var w=2}else if(ji(h.h,y))E=y.G,sl(h.h,y),w=1;else return;if(h.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=h.D;w=ur(),it(w,new mt(w,E)),Gi(h)}else cc(h);else if(q=y.m,q==3||q==0&&y.X>0||!(w==1&&Ya(h,y)||w==2&&na(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),q){case 1:Ki(h,5);break;case 4:Ki(h,10);break;case 3:Ki(h,6);break;default:Ki(h,2)}}}function dc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Ki(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),w=h.Ua;const q=!w;w=new Yn(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xt(w,"https"),$s(w),q?bi(w.toString(),E):hl(w.toString(),E)}else Ve(2);h.I=0,h.l&&h.l.pa(y),mc(h),Ka(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ve(2)):(this.j.info("Failed to ping google.com"),Ve(1))};function mc(h){if(h.I=0,h.ja=[],h.l){const y=al(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ja,y),L(h.ja,h.i),h.h.i.length=0,C(h.i),h.i.length=0),h.l.oa()}}function pc(h,y,E){var w=E instanceof Yn?Ot(E):new Yn(E);if(w.g!="")y&&(w.g=y+"."+w.g),Gr(w,w.u);else{var q=c.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const Q=new Yn(null);w&&Xt(Q,w),y&&(Q.g=y),q&&Gr(Q,q),E&&(Q.h=E),w=Q}return E=h.G,y=h.wa,E&&y&&Ze(w,E,y),Ze(w,"VER",h.ka),ta(h,w),w}function gc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new rt(new Hi({ab:E})):new rt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function yc(){}i=yc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Zr(){}Zr.prototype.g=function(h,y){return new An(h,y)};function An(h,y){ft.call(this),this.g=new Wr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new dr(this)}T(An,ft),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){ml(this.g)},An.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Tn(h),h=E);y.i.push(new Nt(y.Ya++,h)),y.I==3&&Gi(y)},An.prototype.N=function(){this.g.l=null,delete this.j,ml(this.g),delete this.g,An.Z.N.call(this)};function vc(h){jt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(vc,jt);function _c(){cn.call(this),this.status=1}T(_c,cn);function dr(h){this.g=h}T(dr,yc),dr.prototype.ra=function(){it(this.g,"a")},dr.prototype.qa=function(h){it(this.g,new vc(h))},dr.prototype.pa=function(h){it(this.g,new _c)},dr.prototype.oa=function(){it(this.g,"b")},Zr.prototype.createWebChannel=Zr.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,sS=function(){return new Zr},rS=function(){return ur()},iS=dt,_p={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fn.NO_ERROR=0,fn.TIMEOUT=8,fn.HTTP_ERROR=6,Uh=fn,dn.COMPLETE="complete",nS=dn,Qs.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ft.prototype.listen=ft.prototype.J,au=Qs,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,tS=rt}).apply(typeof Ah<"u"?Ah:typeof self<"u"?self:typeof window<"u"?window:{});const c0="@firebase/firestore",h0="4.9.3";class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let $o="12.7.0";const xa=new Yp("@firebase/firestore");function Io(){return xa.logLevel}function fe(i,...e){if(xa.logLevel<=Be.DEBUG){const n=e.map(ag);xa.debug(`Firestore (${$o}): ${i}`,...n)}}function Ur(i,...e){if(xa.logLevel<=Be.ERROR){const n=e.map(ag);xa.error(`Firestore (${$o}): ${i}`,...n)}}function zo(i,...e){if(xa.logLevel<=Be.WARN){const n=e.map(ag);xa.warn(`Firestore (${$o}): ${i}`,...n)}}function ag(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,aS(i,s,n)}function aS(i,e,n){let s=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ur(s),new Error(s)}function Je(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||aS(e,o,s)}function Ce(i,e){return i}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ms{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class oS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ON{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class MN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class kN{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ms,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ms)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string",31837,{l:s}),new oS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class VN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new VN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class f0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new f0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new f0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function UN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class og{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=UN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function He(i,e){return i<e?-1:i>e?1:0}function Ep(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Zm(o)===Zm(u)?He(o,u):Zm(o)?1:-1}return He(i.length,e.length)}const zN=55296,jN=57343;function Zm(i){const e=i.charCodeAt(0);return e>=zN&&e<=jN}function jo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const d0="__name__";class Ji{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ji.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return He(e.length,n.length)}static compareSegments(e,n){const s=Ji.isNumericId(e),o=Ji.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ji.extractNumericId(e).compare(Ji.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class vt extends Ji{construct(e,n,s){return new vt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const BN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Ji{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return BN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d0}static keyField(){return new ln([d0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(vt.fromString(e))}static fromName(e){return new Ee(vt.fromString(e).popFirst(5))}static empty(){return new Ee(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new vt(e.slice()))}}function HN(i,e,n){if(!n)throw new ge(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function qN(i,e,n,s){if(e===!0&&s===!0)throw new ge(re.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function m0(i){if(!Ee.isDocumentKey(i))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function lS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function lg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function ks(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lg(i);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ut(i,e){const n={typeString:i};return e&&(n.value=e),n}function Yu(i,e){if(!lS(i))throw new ge(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ge(re.INVALID_ARGUMENT,n);return!0}const p0=-62135596800,g0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*g0);return new ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<p0)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g0}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Yu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Ut("string",ht._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ht(0,0))}static max(){return new we(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const wu=-1;function FN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new ht(n+1,0):new ht(n,s));return new Ls(o,Ee.empty(),e)}function GN(i){return new Ls(i.readTime,i.key,wu)}class Ls{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ls(we.min(),Ee.empty(),wu)}static max(){return new Ls(we.max(),Ee.empty(),wu)}}function KN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(i.documentKey,e.documentKey),n!==0?n:He(i.largestBatchId,e.largestBatchId))}const YN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Xo(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==YN)throw i;fe("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((_=>{c[g]=_,++m,m===u&&s(c)}),(_=>o(_)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function $N(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(i){return i.name==="IndexedDbTransactionError"}class Af{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Af.ce=-1;const ug=-1;function Rf(i){return i==null}function tf(i){return i===0&&1/i==-1/0}function XN(i){return typeof i=="number"&&Number.isInteger(i)&&!tf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const uS="";function WN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=y0(e)),e=JN(i.get(n),e);return y0(e)}function JN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case uS:n+="";break;default:n+=u}}return n}function y0(i){return i+uS+""}function v0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ma(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function cS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class _t{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rh(this.root,e,this.comparator,!0)}}class Rh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new on(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _0(this.data.getIterator())}getIteratorFrom(e){return new _0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class _0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ni{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Ni([])}unionWith(e){let n=new Kt(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class hS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new hS("Invalid base64 string: "+u):u}})(e);return new un(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const ZN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ps(i){if(Je(!!i,39018),typeof i=="string"){let e=0;const n=ZN.exec(i);if(Je(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(i.seconds),nanos:Ct(i.nanos)}}function Ct(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Us(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}const fS="server_timestamp",dS="__type__",mS="__previous_value__",pS="__local_write_time__";function cg(i){return(i?.mapValue?.fields||{})[dS]?.stringValue===fS}function Cf(i){const e=i.mapValue.fields[mS];return cg(e)?Cf(e):e}function Au(i){const e=Ps(i.mapValue.fields[pS].timestampValue);return new ht(e.seconds,e.nanos)}class eO{constructor(e,n,s,o,u,c,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const nf="(default)";class Ru{constructor(e,n){this.projectId=e,this.database=n||nf}static empty(){return new Ru("","")}get isDefaultDatabase(){return this.database===nf}isEqual(e){return e instanceof Ru&&e.projectId===this.projectId&&e.database===this.database}}const gS="__type__",tO="__max__",Ch={mapValue:{}},yS="__vector__",rf="value";function zs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?cg(i)?4:iO(i)?9007199254740991:nO(i)?10:11:Se(28295,{value:i})}function rr(i,e){if(i===e)return!0;const n=zs(i);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Au(i).isEqual(Au(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Ps(o.timestampValue),m=Ps(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Us(o.bytesValue).isEqual(Us(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ct(o.doubleValue),m=Ct(u.doubleValue);return c===m?tf(c)===tf(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return jo(i.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(v0(c)!==v0(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!rr(c[p],m[p])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function Cu(i,e){return(i.values||[]).find((n=>rr(n,e)))!==void 0}function Bo(i,e){if(i===e)return 0;const n=zs(i),s=zs(e);if(n!==s)return He(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=Ct(u.integerValue||u.doubleValue),p=Ct(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return E0(i.timestampValue,e.timestampValue);case 4:return E0(Au(i),Au(e));case 5:return Ep(i.stringValue,e.stringValue);case 6:return(function(u,c){const m=Us(u),p=Us(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=He(m[g],p[g]);if(_!==0)return _}return He(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=He(Ct(u.latitude),Ct(c.latitude));return m!==0?m:He(Ct(u.longitude),Ct(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return T0(i.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[rf]?.arrayValue,_=p[rf]?.arrayValue,T=He(g?.values?.length||0,_?.values?.length||0);return T!==0?T:T0(g,_)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Ch.mapValue&&c===Ch.mapValue)return 0;if(u===Ch.mapValue)return 1;if(c===Ch.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const S=Ep(p[T],_[T]);if(S!==0)return S;const C=Bo(m[p[T]],g[_[T]]);if(C!==0)return C}return He(p.length,_.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function E0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return He(i,e);const n=Ps(i),s=Ps(e),o=He(n.seconds,s.seconds);return o!==0?o:He(n.nanos,s.nanos)}function T0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Bo(n[o],s[o]);if(u)return u}return He(n.length,s.length)}function Ho(i){return Tp(i)}function Tp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Ps(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Us(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Ee.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Tp(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${Tp(n.fields[c])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function zh(i){switch(zs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(i);return e?16+zh(e):16;case 5:return 2*i.stringValue.length;case 6:return Us(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+zh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return Ma(s.fields,((u,c)=>{o+=u.length+zh(c)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function bp(i){return!!i&&"integerValue"in i}function hg(i){return!!i&&"arrayValue"in i}function b0(i){return!!i&&"nullValue"in i}function S0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function jh(i){return!!i&&"mapValue"in i}function nO(i){return(i?.mapValue?.fields||{})[gS]?.stringValue===yS}function fu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ma(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=fu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fu(i.arrayValue.values[n]);return e}return{...i}}function iO(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===tO}class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!jh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(n)}setAll(e){let n=ln.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=fu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];jh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ma(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new vi(fu(this.value))}}function vS(i){const e=[];return Ma(i.fields,((n,s)=>{const o=new ln([n]);if(jh(s)){const u=vS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Ni(e)}class yn{constructor(e,n,s,o,u,c,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new yn(e,0,we.min(),we.min(),we.min(),vi.empty(),0)}static newFoundDocument(e,n,s,o){return new yn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new yn(e,2,n,we.min(),we.min(),vi.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,we.min(),we.min(),vi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sf{constructor(e,n){this.position=e,this.inclusive=n}}function w0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(c.referenceValue),n.key):s=Bo(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function A0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!rr(i.position[n],e.position[n]))return!1;return!0}class af{constructor(e,n="asc"){this.field=e,this.dir=n}}function rO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class _S{}class qt extends _S{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new aO(e,n,s):n==="array-contains"?new uO(e,s):n==="in"?new cO(e,s):n==="not-in"?new hO(e,s):n==="array-contains-any"?new fO(e,s):new qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new oO(e,s):new lO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Bo(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(Bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends _S{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new sr(e,n)}matches(e){return ES(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ES(i){return i.op==="and"}function TS(i){return sO(i)&&ES(i)}function sO(i){for(const e of i.filters)if(e instanceof sr)return!1;return!0}function Sp(i){if(i instanceof qt)return i.field.canonicalString()+i.op.toString()+Ho(i.value);if(TS(i))return i.filters.map((e=>Sp(e))).join(",");{const e=i.filters.map((n=>Sp(n))).join(",");return`${i.op}(${e})`}}function bS(i,e){return i instanceof qt?(function(s,o){return o instanceof qt&&s.op===o.op&&s.field.isEqual(o.field)&&rr(s.value,o.value)})(i,e):i instanceof sr?(function(s,o){return o instanceof sr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&bS(c,o.filters[m])),!0):!1})(i,e):void Se(19439)}function SS(i){return i instanceof qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ho(n.value)}`})(i):i instanceof sr?(function(n){return n.op.toString()+" {"+n.getFilters().map(SS).join(" ,")+"}"})(i):"Filter"}class aO extends qt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class oO extends qt{constructor(e,n){super(e,"in",n),this.keys=wS("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lO extends qt{constructor(e,n){super(e,"not-in",n),this.keys=wS("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function wS(i,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class uO extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hg(n)&&Cu(n.arrayValue,this.value)}}class cO extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Cu(this.value.arrayValue,n)}}class hO extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Cu(this.value.arrayValue,n)}}class fO extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Cu(this.value.arrayValue,s)))}}class dO{constructor(e,n=null,s=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function R0(i,e=null,n=[],s=[],o=null,u=null,c=null){return new dO(i,e,n,s,o,u,c)}function fg(i){const e=Ce(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Sp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Ho(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Ho(s))).join(",")),e.Te=n}return e.Te}function dg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!rO(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!bS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!A0(i.startAt,e.startAt)&&A0(i.endAt,e.endAt)}function wp(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class If{constructor(e,n=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mO(i,e,n,s,o,u,c,m){return new If(i,e,n,s,o,u,c,m)}function xf(i){return new If(i)}function C0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function pO(i){return i.collectionGroup!==null}function du(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Kt(ln.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new af(u,s))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new af(ln.keyField(),s))}return e.Ie}function er(i){const e=Ce(i);return e.Ee||(e.Ee=gO(e,du(i))),e.Ee}function gO(i,e){if(i.limitType==="F")return R0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new af(o.field,u)}));const n=i.endAt?new sf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new sf(i.startAt.position,i.startAt.inclusive):null;return R0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Ap(i,e,n){return new If(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Df(i,e){return dg(er(i),er(e))&&i.limitType===e.limitType}function AS(i){return`${fg(er(i))}|lt:${i.limitType}`}function xo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>SS(o))).join(", ")}]`),Rf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ho(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ho(o))).join(",")),`Target(${s})`})(er(i))}; limitType=${i.limitType})`}function Nf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of du(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=w0(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,du(s),o)||s.endAt&&!(function(c,m,p){const g=w0(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,du(s),o))})(i,e)}function yO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function RS(i){return(e,n)=>{let s=!1;for(const o of du(i)){const u=vO(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function vO(i,e,n){const s=i.field.isKeyField()?Ee.comparator(e.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Bo(p,g):Se(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return cS(this.inner)}size(){return this.innerSize}}const _O=new _t(Ee.comparator);function zr(){return _O}const CS=new _t(Ee.comparator);function ou(...i){let e=CS;for(const n of i)e=e.insert(n.key,n);return e}function IS(i){let e=CS;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Sa(){return mu()}function xS(){return mu()}function mu(){return new ka((i=>i.toString()),((i,e)=>i.isEqual(e)))}const EO=new _t(Ee.comparator),TO=new Kt(Ee.comparator);function qe(...i){let e=TO;for(const n of i)e=e.add(n);return e}const bO=new Kt(He);function SO(){return bO}function mg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(e)?"-0":e}}function DS(i){return{integerValue:""+i}}function wO(i,e){return XN(e)?DS(e):mg(i,e)}class Of{constructor(){this._=void 0}}function AO(i,e,n){return i instanceof of?(function(o,u){const c={fields:{[dS]:{stringValue:fS},[pS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&cg(u)&&(u=Cf(u)),u&&(c.fields[mS]=u),{mapValue:c}})(n,e):i instanceof Iu?OS(i,e):i instanceof xu?MS(i,e):(function(o,u){const c=NS(o,u),m=I0(c)+I0(o.Ae);return bp(c)&&bp(o.Ae)?DS(m):mg(o.serializer,m)})(i,e)}function RO(i,e,n){return i instanceof Iu?OS(i,e):i instanceof xu?MS(i,e):n}function NS(i,e){return i instanceof lf?(function(s){return bp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class of extends Of{}class Iu extends Of{constructor(e){super(),this.elements=e}}function OS(i,e){const n=kS(e);for(const s of i.elements)n.some((o=>rr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class xu extends Of{constructor(e){super(),this.elements=e}}function MS(i,e){let n=kS(e);for(const s of i.elements)n=n.filter((o=>!rr(o,s)));return{arrayValue:{values:n}}}class lf extends Of{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function I0(i){return Ct(i.integerValue||i.doubleValue)}function kS(i){return hg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function CO(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof Iu&&o instanceof Iu||s instanceof xu&&o instanceof xu?jo(s.elements,o.elements,rr):s instanceof lf&&o instanceof lf?rr(s.Ae,o.Ae):s instanceof of&&o instanceof of})(i.transform,e.transform)}class IO{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Mf{}function VS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new PS(i.key,kr.none()):new Qu(i.key,i.data,kr.none());{const n=i.data,s=vi.empty();let o=new Kt(ln.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Va(i.key,s,new Ni(o.toArray()),kr.none())}}function xO(i,e,n){i instanceof Qu?(function(o,u,c){const m=o.value.clone(),p=D0(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Va?(function(o,u,c){if(!Bh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=D0(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(LS(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function pu(i,e,n,s){return i instanceof Qu?(function(u,c,m,p){if(!Bh(u.precondition,c))return m;const g=u.value.clone(),_=N0(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Va?(function(u,c,m,p){if(!Bh(u.precondition,c))return m;const g=N0(u.fieldTransforms,p,c),_=c.data;return _.setAll(LS(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,c,m){return Bh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,n)}function DO(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=NS(s.transform,o||null);u!=null&&(n===null&&(n=vi.empty()),n.set(s.field,u))}return n||null}function x0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&jo(s,o,((u,c)=>CO(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Qu extends Mf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Va extends Mf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function LS(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function D0(i,e,n){const s=new Map;Je(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,m=e.data.field(u.field);s.set(u.field,RO(c,m,n[o]))}return s}function N0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);s.set(o.field,AO(u,c,e))}return s}class PS extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NO extends Mf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&xO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=pu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=pu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xS();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=VS(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),qe())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,((n,s)=>x0(n,s)))&&jo(this.baseMutations,e.baseMutations,((n,s)=>x0(n,s)))}}class pg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return EO})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new pg(e,n,s,o)}}class MO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kO{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,Ke;function VO(i){switch(i){case re.OK:return Se(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function US(i){if(i===void 0)return Ur("GRPC error has no .code"),re.UNKNOWN;switch(i){case Pt.OK:return re.OK;case Pt.CANCELLED:return re.CANCELLED;case Pt.UNKNOWN:return re.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return re.INTERNAL;case Pt.UNAVAILABLE:return re.UNAVAILABLE;case Pt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Pt.NOT_FOUND:return re.NOT_FOUND;case Pt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Pt.ABORTED:return re.ABORTED;case Pt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Pt.DATA_LOSS:return re.DATA_LOSS;default:return Se(39323,{code:i})}}(Ke=Pt||(Pt={}))[Ke.OK=0]="OK",Ke[Ke.CANCELLED=1]="CANCELLED",Ke[Ke.UNKNOWN=2]="UNKNOWN",Ke[Ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ke[Ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ke[Ke.NOT_FOUND=5]="NOT_FOUND",Ke[Ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ke[Ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ke[Ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ke[Ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ke[Ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ke[Ke.ABORTED=10]="ABORTED",Ke[Ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ke[Ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ke[Ke.INTERNAL=13]="INTERNAL",Ke[Ke.UNAVAILABLE=14]="UNAVAILABLE",Ke[Ke.DATA_LOSS=15]="DATA_LOSS";function LO(){return new TextEncoder}const PO=new Os([4294967295,4294967295],0);function O0(i){const e=LO().encode(i),n=new eS;return n.update(e),new Uint8Array(n.digest())}function M0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Os([n,s],0),new Os([o,u],0)]}class gg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new lu(`Invalid padding: ${n}`);if(s<0)throw new lu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new lu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Os.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Os.fromNumber(s)));return o.compare(PO)===1&&(o=new Os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=O0(e),[s,o]=M0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new gg(u,o,n);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=O0(e),[s,o]=M0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class kf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,$u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new kf(we.min(),o,new _t(He),zr(),qe())}}class $u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new $u(s,n,qe(),qe(),qe())}}class Hh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class zS{constructor(e,n){this.targetId=e,this.Ce=n}}class jS{constructor(e,n,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class k0{constructor(){this.ve=0,this.Fe=V0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=qe(),n=qe(),s=qe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}})),new $u(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=V0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class UO{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=Ih(),this.He=Ih(),this.Ye=new _t(He)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(wp(u))if(s===0){const c=new Ee(u.path);this.et(n,c,yn.newNoDocument(c,we.min()))}else Je(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=Us(s).toUint8Array()}catch(p){if(p instanceof hS)return zo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new gg(c,o,u)}catch(p){return zo(p instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&wp(m.target)){const p=new Ee(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,yn.newNoDocument(p,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=qe();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new kf(e,n,this.Ye,this.je,s);return this.je=zr(),this.Je=Ih(),this.He=Ih(),this.Ye=new _t(He),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new k0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Kt(He),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Kt(He),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new k0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ih(){return new _t(Ee.comparator)}function V0(){return new _t(Ee.comparator)}const zO={asc:"ASCENDING",desc:"DESCENDING"},jO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BO={and:"AND",or:"OR"};class HO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rp(i,e){return i.useProto3Json||Rf(e)?e:{value:e}}function uf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function qO(i,e){return uf(i,e.toTimestamp())}function tr(i){return Je(!!i,49232),we.fromTimestamp((function(n){const s=Ps(n);return new ht(s.seconds,s.nanos)})(i))}function yg(i,e){return Cp(i,e).canonicalString()}function Cp(i,e){const n=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function HS(i){const e=vt.fromString(i);return Je(YS(e),10190,{key:e.toString()}),e}function Ip(i,e){return yg(i.databaseId,e.path)}function ep(i,e){const n=HS(e);if(n.get(1)!==i.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ee(FS(n))}function qS(i,e){return yg(i.databaseId,e)}function FO(i){const e=HS(i);return e.length===4?vt.emptyPath():FS(e)}function xp(i){return new vt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function FS(i){return Je(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function L0(i,e,n){return{name:Ip(i,e),fields:n.value.mapValue.fields}}function GO(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Je(_===void 0||typeof _=="string",58123),un.fromBase64String(_||"")):(Je(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),un.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?re.UNKNOWN:US(g.code);return new ge(_,g.message||"")})(c);n=new jS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ep(i,s.document.name),u=tr(s.document.updateTime),c=s.document.createTime?tr(s.document.createTime):we.min(),m=new vi({mapValue:{fields:s.document.fields}}),p=yn.newFoundDocument(o,u,c,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new Hh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ep(i,s.document),u=s.readTime?tr(s.readTime):we.min(),c=yn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Hh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ep(i,s.document),u=s.removedTargetIds||[];n=new Hh([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new kO(o,u),m=s.targetId;n=new zS(m,c)}}return n}function KO(i,e){let n;if(e instanceof Qu)n={update:L0(i,e.key,e.value)};else if(e instanceof PS)n={delete:Ip(i,e.key)};else if(e instanceof Va)n={update:L0(i,e.key,e.data),updateMask:tM(e.fieldMask)};else{if(!(e instanceof NO))return Se(16599,{Vt:e.type});n={verify:Ip(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof of)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Iu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof xu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof lf)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:qO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(i,e.precondition)),n}function YO(i,e){return i&&i.length>0?(Je(e!==void 0,14353),i.map((n=>(function(o,u){let c=o.updateTime?tr(o.updateTime):tr(u);return c.isEqual(we.min())&&(c=tr(u)),new IO(c,o.transformResults||[])})(n,e)))):[]}function QO(i,e){return{documents:[qS(i,e.path)]}}function $O(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=qS(i,o);const u=(function(g){if(g.length!==0)return KS(sr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:Do(S.field),direction:JO(S.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Rp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function XO(i){let e=FO(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Je(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(T){const S=GS(T);return S instanceof sr&&TS(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((S=>(function(L){return new af(No(L.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,Rf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,C=T.values||[];return new sf(C,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,C=T.values||[];return new sf(C,S)})(n.endAt)),mO(e,o,c,u,m,"F",p,g)}function WO(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GS(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=No(n.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=No(n.unaryFilter.field);return qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=No(n.unaryFilter.field);return qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=No(n.unaryFilter.field);return qt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(n){return qt.create(No(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return sr.create(n.compositeFilter.filters.map((s=>GS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(i):Se(30097,{filter:i})}function JO(i){return zO[i]}function ZO(i){return jO[i]}function eM(i){return BO[i]}function Do(i){return{fieldPath:i.canonicalString()}}function No(i){return ln.fromServerFormat(i.fieldPath)}function KS(i){return i instanceof qt?(function(n){if(n.op==="=="){if(S0(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NAN"}};if(b0(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S0(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NAN"}};if(b0(n.value))return{unaryFilter:{field:Do(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Do(n.field),op:ZO(n.op),value:n.value}}})(i):i instanceof sr?(function(n){const s=n.getFilters().map((o=>KS(o)));return s.length===1?s[0]:{compositeFilter:{op:eM(n.op),filters:s}}})(i):Se(54877,{filter:i})}function tM(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function YS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Is{constructor(e,n,s,o,u=we.min(),c=we.min(),m=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nM{constructor(e){this.yt=e}}function iM(i){const e=XO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ap(e,e.limit,"L"):e}class rM{constructor(){this.Cn=new sM}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Ls.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class sM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Kt(vt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Kt(vt.comparator)).toArray()}}const P0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QS=41943040;class Pn{static withCacheSize(e){return new Pn(e,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Pn.DEFAULT_COLLECTION_PERCENTILE=10,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pn.DEFAULT=new Pn(QS,Pn.DEFAULT_COLLECTION_PERCENTILE,Pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pn.DISABLED=new Pn(-1,0,0);class qo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qo(0)}static cr(){return new qo(-1)}}const U0="LruGarbageCollector",aM=1048576;function z0([i,e],[n,s]){const o=He(i,n);return o===0?He(e,s):o}class oM{constructor(e){this.Ir=e,this.buffer=new Kt(z0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();z0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lM{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(U0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?fe(U0,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Vr(3e5)}))}}class uM{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Af.ce);const s=new oM(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(P0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),P0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,c,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Io()<=Be.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function cM(i,e){return new uM(i,e)}class hM{constructor(){this.changes=new ka((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dM{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&pu(s.mutation,o,Ni.empty(),ht.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,qe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=qe()){const o=Sa();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let c=ou();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=Sa();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,qe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,s,o){let u=zr();const c=mu(),m=(function(){return mu()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Va)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),pu(_.mutation,g,_.mutation.getFieldMask(),ht.now())):c.set(g.key,Ni.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>m.set(g,new fM(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=mu();let o=new _t(((c,m)=>c-m)),u=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||Ni.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||qe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=xS();_.forEach((S=>{if(!u.has(S)){const C=VS(n.get(S),s.get(S));C!==null&&T.set(S,C),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ie.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return Ee.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):pO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Sa());let m=wu,p=u;return c.next((g=>ie.forEach(g,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?ie.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,qe()))).next((_=>({batchId:m,changes:IS(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let o=ou();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let c=ou();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(T,S){return new If(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,yn.newInvalidDocument(_)))}));let m=ou();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&pu(_.mutation,g,Ni.empty(),ht.now()),Nf(n,g)&&(m=m.insert(p,g))})),m}))}}class mM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:tr(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:iM(o.bundledQuery),readTime:tr(o.readTime)}})(n)),ie.resolve()}}class pM{constructor(){this.overlays=new _t(Ee.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Sa();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Sa(),u=n.length+1,c=new Ee(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new _t(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Sa(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new MO(n,s));let u=this.qr.get(n);u===void 0&&(u=qe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class gM{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class vg{constructor(){this.Qr=new Kt(Jt.$r),this.Ur=new Kt(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Ee(new vt([])),s=new Jt(n,e),o=new Jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Ee(new vt([])),s=new Jt(n,e),o=new Jt(n,e+1);let u=qe();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new Jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Ee.comparator(e.key,n.key)||He(e.Yr,n.Yr)}static Kr(e,n){return He(e.Yr,n.Yr)||Ee.comparator(e.key,n.key)}}class yM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Kt(Jt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new OO(u,n,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?ug:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Jt(n,0),o=new Jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Kt(He);return n.forEach((o=>{const u=new Jt(o,0),c=new Jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const c=new Jt(new Ee(u),0);let m=new Kt(He);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Je(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new Jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Jt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class vM{constructor(e){this.ri=e,this.docs=(function(){return new _t(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let s=zr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=zr();const c=n.path,m=new Ee(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||KN(GN(_),s)<=0||(o.has(_.key)||Nf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new _M(this)}getSize(e){return ie.resolve(this.size)}}class _M extends hM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class EM{constructor(e){this.persistence=e,this.si=new ka((n=>fg(n)),dg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new vg,this.targetCount=0,this.ai=qo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}class $S{constructor(e,n){this.ui={},this.overlays={},this.ci=new Af(0),this.li=!1,this.li=!0,this.hi=new gM,this.referenceDelegate=e(this),this.Pi=new EM(this),this.indexManager=new rM,this.remoteDocumentCache=(function(o){return new vM(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new nM(n),this.Ii=new mM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new yM(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new TM(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class TM extends QN{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Ri=new vg,this.Vi=null}static mi(e){return new _g(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=Ee.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class cf{constructor(e,n){this.persistence=e,this.pi=new ka((s=>WN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=cM(this,n)}static mi(e,n){return new cf(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(s++,u.removeEntry(c,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Eg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=qe(),o=qe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Eg(e,n.fromCache,s,o)}}class bM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class SM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return XI()?8:$N(_n())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new bM;return this.Ss(e,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Io()<=Be.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Io()<=Be.DEBUG&&fe("QueryEngine","Query:",xo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Io()<=Be.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):ie.resolve())}ys(e,n){if(C0(n))return ie.resolve(null);let s=er(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Ap(n,null,"F"),s=er(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=qe(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(e,Ap(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return C0(n)||o.isEqual(we.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?ie.resolve(null):(Io()<=Be.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(n)),this.vs(e,c,n,FN(o,wu)).next((m=>m)))}))}Ds(e,n){let s=new Kt(RS(e));return n.forEach(((o,u)=>{Nf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Io()<=Be.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",xo(n)),this.ps.getDocumentsMatchingQuery(e,n,Ls.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const Tg="LocalStore",wM=3e8;class AM{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new _t(He),this.xs=new ka((u=>fg(u)),dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function RM(i,e,n,s){return new AM(i,e,n,s)}async function XS(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=qe();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function CM(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const T=g.batch,S=T.keys();let C=ie.resolve();return S.forEach((L=>{C=C.next((()=>_.getEntry(p,L))).next((P=>{const z=g.docVersions.get(L);Je(z!==null,48541),P.version.compareTo(z)<0&&(T.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),_.addEntry(P)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=qe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function WS(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function IM(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((_,T)=>{const S=o.get(T);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,T))));let C=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(un.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,s)),o=o.insert(T,C),(function(P,z,Y){return P.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=wM?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0})(S,C,_)&&m.push(n.Pi.updateTargetData(u,C))}));let p=zr(),g=qe();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(xM(u,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(we.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(_)}return ie.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function xM(i,e,n){let s=qe(),o=qe();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let c=zr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):fe(Tg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function DM(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ug),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function NM(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new Is(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Dp(i,e,n){const s=Ce(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Wo(c))throw c;fe(Tg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function j0(i,e,n){const s=Ce(i);let o=we.min(),u=qe();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=Ce(p),S=T.xs.get(_);return S!==void 0?ie.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,_)})(s,c,er(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:we.min(),n?u:qe()))).next((m=>(OM(s,yO(e),m),{documents:m,Qs:u})))))}function OM(i,e,n){let s=i.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class B0{constructor(){this.activeTargetIds=SO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MM{constructor(){this.Mo=new B0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new B0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class kM{Oo(e){}shutdown(){}}const H0="ConnectivityMonitor";class q0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(H0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(H0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let xh=null;function Np(){return xh===null?xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():xh++,"0x"+xh.toString(16)}const tp="RestConnection",VM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===nf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const c=Np(),m=this.zo(e,n.toUriEncodedString());fe(tp,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=Ko(g);return this.Jo(e,m,p,s,_).then((T=>(fe(tp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw zo(tp,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,c){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$o})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=VM[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class PM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pn="WebChannelConnection";class UM extends LM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const c=Np();return new Promise(((m,p)=>{const g=new tS;g.setWithCredentials(!0),g.listenOnce(nS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Uh.NO_ERROR:const T=g.getResponseJson();fe(pn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case Uh.TIMEOUT:fe(pn,`RPC '${e}' ${c} timed out`),p(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case Uh.HTTP_ERROR:const S=g.getStatus();if(fe(pn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const L=C?.error;if(L&&L.status&&L.message){const P=(function(Y){const $=Y.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf($)>=0?$:re.UNKNOWN})(L.status);p(new ge(P,L.message))}else p(new ge(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(re.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(pn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);fe(pn,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=Np(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=sS(),m=rS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");fe(pn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=c.createWebChannel(_,p);this.I_(T);let S=!1,C=!1;const L=new PM({Yo:z=>{C?fe(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(fe(pn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),fe(pn,`RPC '${e}' stream ${o} sending:`,z),T.send(z))},Zo:()=>T.close()}),P=(z,Y,$)=>{z.listen(Y,(J=>{try{$(J)}catch(se){setTimeout((()=>{throw se}),0)}}))};return P(T,au.EventType.OPEN,(()=>{C||(fe(pn,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),P(T,au.EventType.CLOSE,(()=>{C||(C=!0,fe(pn,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(T))})),P(T,au.EventType.ERROR,(z=>{C||(C=!0,zo(pn,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),L.a_(new ge(re.UNAVAILABLE,"The operation could not be completed")))})),P(T,au.EventType.MESSAGE,(z=>{if(!C){const Y=z.data[0];Je(!!Y,16349);const $=Y,J=$?.error||$[0]?.error;if(J){fe(pn,`RPC '${e}' stream ${o} received error:`,J);const se=J.status;let he=(function(A){const D=Pt[A];if(D!==void 0)return US(D)})(se),ce=J.message;he===void 0&&(he=re.INTERNAL,ce="Unknown error status: "+se+" with message "+J.message),C=!0,L.a_(new ge(he,ce)),T.close()}else fe(pn,`RPC '${e}' stream ${o} received:`,Y),L.u_(Y)}})),P(m,iS.STAT_EVENT,(z=>{z.stat===_p.PROXY?fe(pn,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===_p.NOPROXY&&fe(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function np(){return typeof document<"u"?document:null}function Vf(i){return new HO(i,!0)}class JS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const F0="PersistentStream";class ZS{constructor(e,n,s,o,u,c,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ge(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(F0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(F0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class zM extends ZS{constructor(e,n,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=GO(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?tr(c.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=xp(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=wp(p)?{documents:QO(u,p)}:{query:$O(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=BS(u,c.resumeToken);const g=Rp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(we.min())>0){m.readTime=uf(u,c.snapshotVersion.toTimestamp());const g=Rp(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=WO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=xp(this.serializer),n.removeTarget=e,this.q_(n)}}class jM extends ZS{constructor(e,n,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=YO(e.writeResults,e.commitTime),s=tr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=xp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>KO(this.serializer,s)))};this.q_(n)}}class BM{}class HM extends BM{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,Cp(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(re.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,Cp(n,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ge(re.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class qM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ur(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Da="RemoteStore";class FM{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{La(this)&&(fe(Da,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await Xu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Lf(g)})(this))}))})),this.Ra=new qM(s,o)}}async function Lf(i){if(La(i))for(const e of i.da)await e(!0)}async function Xu(i){for(const e of i.da)await e(!1)}function e1(i,e){const n=Ce(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ag(n)?wg(n):Jo(n).O_()&&Sg(n,e))}function bg(i,e){const n=Ce(i),s=Jo(n);n.Ia.delete(e),s.O_()&&t1(n,e),n.Ia.size===0&&(s.O_()?s.L_():La(n)&&n.Ra.set("Unknown"))}function Sg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Jo(i).Y_(e)}function t1(i,e){i.Va.Ue(e),Jo(i).Z_(e)}function wg(i){i.Va=new UO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Jo(i).start(),i.Ra.ua()}function Ag(i){return La(i)&&!Jo(i).x_()&&i.Ia.size>0}function La(i){return Ce(i).Ea.size===0}function n1(i){i.Va=void 0}async function GM(i){i.Ra.set("Online")}async function KM(i){i.Ia.forEach(((e,n)=>{Sg(i,e)}))}async function YM(i,e){n1(i),Ag(i)?(i.Ra.ha(e),wg(i)):i.Ra.set("Unknown")}async function QM(i,e,n){if(i.Ra.set("Online"),e instanceof jS&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){fe(Da,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hf(i,s)}else if(e instanceof Hh?i.Va.Ze(e):e instanceof zS?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await WS(i.localStore);n.compareTo(s)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(un.EMPTY_BYTE_STRING,_.snapshotVersion)),t1(u,p);const T=new Is(_.target,p,g,_.sequenceNumber);Sg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){fe(Da,"Failed to raise snapshot:",s),await hf(i,s)}}async function hf(i,e,n){if(!Wo(e))throw e;i.Ea.add(1),await Xu(i),i.Ra.set("Offline"),n||(n=()=>WS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(Da,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Lf(i)}))}function i1(i,e){return e().catch((n=>hf(i,n,e)))}async function Pf(i){const e=Ce(i),n=js(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ug;for(;$M(e);)try{const o=await DM(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,XM(e,o)}catch(o){await hf(e,o)}r1(e)&&s1(e)}function $M(i){return La(i)&&i.Ta.length<10}function XM(i,e){i.Ta.push(e);const n=js(i);n.O_()&&n.X_&&n.ea(e.mutations)}function r1(i){return La(i)&&!js(i).x_()&&i.Ta.length>0}function s1(i){js(i).start()}async function WM(i){js(i).ra()}async function JM(i){const e=js(i);for(const n of i.Ta)e.ea(n.mutations)}async function ZM(i,e,n){const s=i.Ta.shift(),o=pg.from(s,e,n);await i1(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Pf(i)}async function e4(i,e){e&&js(i).X_&&await(async function(s,o){if((function(c){return VO(c)&&c!==re.ABORTED})(o.code)){const u=s.Ta.shift();js(s).B_(),await i1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Pf(s)}})(i,e),r1(i)&&s1(i)}async function G0(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),fe(Da,"RemoteStore received new credentials");const s=La(n);n.Ea.add(3),await Xu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Lf(n)}async function t4(i,e){const n=Ce(i);e?(n.Ea.delete(2),await Lf(n)):e||(n.Ea.add(2),await Xu(n),n.Ra.set("Unknown"))}function Jo(i){return i.ma||(i.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new zM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:GM.bind(null,i),t_:KM.bind(null,i),r_:YM.bind(null,i),H_:QM.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Ag(i)?wg(i):i.Ra.set("Unknown")):(await i.ma.stop(),n1(i))}))),i.ma}function js(i){return i.fa||(i.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new jM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:WM.bind(null,i),r_:e4.bind(null,i),ta:JM.bind(null,i),na:ZM.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Pf(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(Da,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Rg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const c=Date.now()+s,m=new Rg(e,n,c,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(i,e){if(Ur("AsyncQueue",`${e}: ${i}`),Wo(i))return new ge(re.UNAVAILABLE,`${e}: ${i}`);throw i}class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=ou(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Vo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class K0{constructor(){this.ga=new _t(Ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Fo{constructor(e,n,s,o,u,c,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Fo(e,n,Vo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class n4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class i4{constructor(){this.queries=Y0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=Y0(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ge(re.ABORTED,"Firestore shutting down"))}}function Y0(){return new ka((i=>AS(i)),Df)}async function a1(i,e){const n=Ce(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new n4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=Cg(c,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ig(n)}async function o1(i,e){const n=Ce(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function r4(i,e){const n=Ce(i);let s=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&Ig(n)}function s4(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Ig(i){i.Ca.forEach((e=>{e.next()}))}var Op,Q0;(Q0=Op||(Op={})).Ma="default",Q0.Cache="cache";class l1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Fo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Op.Cache}}class u1{constructor(e){this.key=e}}class c1{constructor(e){this.key=e}}class a4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qe(),this.mutatedKeys=qe(),this.eu=RS(e),this.tu=new Vo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new K0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const S=o.get(_),C=Nf(this.query,T)?T:null,L=!!S&&this.mutatedKeys.has(S.key),P=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let z=!1;S&&C?S.data.isEqual(C.data)?L!==P&&(s.track({type:3,doc:C}),z=!0):this.su(S,C)||(s.track({type:2,doc:C}),z=!0,(p&&this.eu(C,p)>0||g&&this.eu(C,g)<0)&&(m=!0)):!S&&C?(s.track({type:0,doc:C}),z=!0):S&&!C&&(s.track({type:1,doc:S}),z=!0,(p||g)&&(m=!0)),z&&(C?(c=c.add(C),u=P?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,T)=>(function(C,L){const P=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:z})}};return P(C)-P(L)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Fo(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new K0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=qe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new c1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new u1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=qe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Fo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const xg="SyncEngine";class o4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class l4{constructor(e){this.key=e,this.hu=!1}}class u4{constructor(e,n,s,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new ka((m=>AS(m)),Df),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Ee.comparator),this.Au=new Map,this.Ru=new vg,this.Vu={},this.mu=new Map,this.fu=qo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c4(i,e,n=!0){const s=g1(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await h1(s,e,n,!0),o}async function h4(i,e){const n=g1(i);await h1(n,e,!0,!1)}async function h1(i,e,n,s){const o=await NM(i.localStore,er(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await f4(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&e1(i.remoteStore,o),m}async function f4(i,e,n,s,o){i.pu=(T,S,C)=>(async function(P,z,Y,$){let J=z.view.ru(Y);J.Cs&&(J=await j0(P.localStore,z.query,!1).then((({documents:R})=>z.view.ru(R,J))));const se=$&&$.targetChanges.get(z.targetId),he=$&&$.targetMismatches.get(z.targetId)!=null,ce=z.view.applyChanges(J,P.isPrimaryClient,se,he);return X0(P,z.targetId,ce.au),ce.snapshot})(i,T,S,C);const u=await j0(i.localStore,e,!0),c=new a4(e,u.Qs),m=c.ru(u.documents),p=$u.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);X0(i,n,g.au);const _=new o4(e,n,c);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function d4(i,e,n){const s=Ce(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Df(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Dp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&bg(s.remoteStore,o.targetId),Mp(s,o.targetId)})).catch(Xo)):(Mp(s,o.targetId),await Dp(s.localStore,o.targetId,!0))}async function m4(i,e){const n=Ce(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bg(n.remoteStore,s.targetId))}async function p4(i,e,n){const s=b4(i);try{const o=await(function(c,m){const p=Ce(c),g=ht.now(),_=m.reduce(((C,L)=>C.add(L.key)),qe());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let L=zr(),P=qe();return p.Ns.getEntries(C,_).next((z=>{L=z,L.forEach(((Y,$)=>{$.isValidDocument()||(P=P.add(Y))}))})).next((()=>p.localDocuments.getOverlayedDocuments(C,L))).next((z=>{T=z;const Y=[];for(const $ of m){const J=DO($,T.get($.key).overlayedDocument);J!=null&&Y.push(new Va($.key,J,vS(J.value.mapValue),kr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,g,Y,m)})).next((z=>{S=z;const Y=z.applyToLocalDocumentSet(T,P);return p.documentOverlayCache.saveOverlays(C,z.batchId,Y)}))})).then((()=>({batchId:S.batchId,changes:IS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new _t(He)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Wu(s,o.changes),await Pf(s.remoteStore)}catch(o){const u=Cg(o,"Failed to persist write");n.reject(u)}}async function f1(i,e){const n=Ce(i);try{const s=await IM(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Je(c.hu,14607):o.removedDocuments.size>0&&(Je(c.hu,42227),c.hu=!1))})),await Wu(n,s,e)}catch(s){await Xo(s)}}function $0(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ce(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,T)=>{for(const S of T.Sa)S.va(m)&&(g=!0)})),g&&Ig(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function g4(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new _t(Ee.comparator);c=c.insert(u,yn.newNoDocument(u,we.min()));const m=qe().add(u),p=new kf(we.min(),new Map,new _t(He),c,m);await f1(s,p),s.du=s.du.remove(u),s.Au.delete(e),Dg(s)}else await Dp(s.localStore,e,!1).then((()=>Mp(s,e,n))).catch(Xo)}async function y4(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await CM(n.localStore,e);m1(n,s,null),d1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Wu(n,o)}catch(o){await Xo(o)}}async function v4(i,e,n){const s=Ce(i);try{const o=await(function(c,m){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Je(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);m1(s,e,n),d1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Wu(s,o)}catch(o){await Xo(o)}}function d1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function m1(i,e,n){const s=Ce(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Mp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||p1(i,s)}))}function p1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(bg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Dg(i))}function X0(i,e,n){for(const s of n)s instanceof u1?(i.Ru.addReference(s.key,e),_4(i,s)):s instanceof c1?(fe(xg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||p1(i,s.key)):Se(19791,{wu:s})}function _4(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(fe(xg,"New document in limbo: "+n),i.Eu.add(s),Dg(i))}function Dg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Ee(vt.fromString(e)),s=i.fu.next();i.Au.set(s,new l4(n)),i.du=i.du.insert(n,s),e1(i.remoteStore,new Is(er(xf(n.path)),s,"TargetPurposeLimboResolution",Af.ce))}}async function Wu(i,e,n){const s=Ce(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Eg.As(p.targetId,g);u.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(g,(S=>ie.forEach(S.Es,(C=>_.persistence.referenceDelegate.addReference(T,S.targetId,C))).next((()=>ie.forEach(S.ds,(C=>_.persistence.referenceDelegate.removeReference(T,S.targetId,C)))))))))}catch(T){if(!Wo(T))throw T;fe(Tg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const C=_.Ms.get(S),L=C.snapshotVersion,P=C.withLastLimboFreeSnapshotVersion(L);_.Ms=_.Ms.insert(S,P)}}})(s.localStore,u))}async function E4(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){fe(xg,"User change. New user:",e.toKey());const s=await XS(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ge(re.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wu(n,s.Ls)}}function T4(i,e){const n=Ce(i),s=n.Au.get(e);if(s&&s.hu)return qe().add(s.key);{let o=qe();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function g1(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=f1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=T4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g4.bind(null,e),e.Pu.H_=r4.bind(null,e.eventManager),e.Pu.yu=s4.bind(null,e.eventManager),e}function b4(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=v4.bind(null,e),e}class ff{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RM(this.persistence,new SM,e.initialUser,this.serializer)}Cu(e){return new $S(_g.mi,this.serializer)}Du(e){return new MM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ff.provider={build:()=>new ff};class S4 extends ff{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof cf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lM(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pn.withCacheSize(this.cacheSizeBytes):Pn.DEFAULT;return new $S((s=>cf.mi(s,n)),this.serializer)}}class kp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>$0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=E4.bind(null,this.syncEngine),await t4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new i4})()}createDatastore(e){const n=Vf(e.databaseInfo.databaseId),s=(function(u){return new UM(u)})(e.databaseInfo);return(function(u,c,m,p){return new HM(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,c,m){return new FM(s,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>$0(this.syncEngine,n,0)),(function(){return q0.v()?new q0:new kM})())}createSyncEngine(e,n){return(function(o,u,c,m,p,g,_){const T=new u4(o,u,c,m,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);fe(Da,"RemoteStore shutting down."),s.Ea.add(5),await Xu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}kp.provider={build:()=>new kp};class y1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const Bs="FirestoreClient";class w4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=og.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{fe(Bs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(fe(Bs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Cg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function ip(i,e){i.asyncQueue.verifyOperationInProgress(),fe(Bs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await XS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function W0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await A4(i);fe(Bs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>G0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>G0(e.remoteStore,o))),i._onlineComponents=e}async function A4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(Bs,"Using user provided OfflineComponentProvider");try{await ip(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await ip(i,new ff)}}else fe(Bs,"Using default OfflineComponentProvider"),await ip(i,new S4(void 0));return i._offlineComponents}async function v1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(Bs,"Using user provided OnlineComponentProvider"),await W0(i,i._uninitializedComponentsProvider._online)):(fe(Bs,"Using default OnlineComponentProvider"),await W0(i,new kp))),i._onlineComponents}function R4(i){return v1(i).then((e=>e.syncEngine))}async function Vp(i){const e=await v1(i),n=e.eventManager;return n.onListen=c4.bind(null,e.syncEngine),n.onUnlisten=d4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=h4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=m4.bind(null,e.syncEngine),n}function C4(i,e,n={}){const s=new Ms;return i.asyncQueue.enqueueAndForget((async()=>(function(u,c,m,p,g){const _=new y1({next:S=>{_.Nu(),c.enqueueAndForget((()=>o1(u,T)));const C=S.docs.has(m);!C&&S.fromCache?g.reject(new ge(re.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&S.fromCache&&p&&p.source==="server"?g.reject(new ge(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),T=new l1(xf(m.path),_,{includeMetadataChanges:!0,qa:!0});return a1(u,T)})(await Vp(i),i.asyncQueue,e,n,s))),s.promise}function _1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const J0=new Map;const E1="firestore.googleapis.com",Z0=!0;class eT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E1,this.ssl=Z0}else this.host=e.host,this.ssl=e.ssl??Z0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aM)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ng{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new ON;switch(s.type){case"firstParty":return new LN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=J0.get(n);s&&(fe("ComponentProvider","Removing Datastore"),J0.delete(n),s.terminate())})(this),Promise.resolve()}}function I4(i,e,n,s={}){i=ks(i,Ng);const o=Ko(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(db(`https://${m}`),mb("Firestore",!0)),u.host!==E1&&u.host!==m&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Aa(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=gn.MOCK_USER;else{g=BI(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new gn(T)}i._authCredentials=new MN(new oS(g,_))}}class Uf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Uf(this.firestore,e,this._query)}}class Ft{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Yu(n,Ft._jsonSchema))return new Ft(e,s||null,new Ee(vt.fromString(n.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Ut("string",Ft._jsonSchemaVersion),referencePath:Ut("string")};class Du extends Uf{constructor(e,n,s){super(e,n,xf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new Ee(e))}withConverter(e){return new Du(this.firestore,e,this._path)}}function Ea(i,e,...n){if(i=Un(i),arguments.length===1&&(e=og.newId()),HN("doc","path",e),i instanceof Ng){const s=vt.fromString(e,...n);return m0(s),new Ft(i,null,new Ee(s))}{if(!(i instanceof Ft||i instanceof Du))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(vt.fromString(e,...n));return m0(s),new Ft(i.firestore,i instanceof Du?i.converter:null,new Ee(s))}}const tT="AsyncQueue";class nT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JS(this,"async_queue_retry"),this._c=()=>{const s=np();s&&fe(tT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=np();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ms;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wo(e))throw e;fe(tT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ur("INTERNAL UNHANDLED ERROR: ",iT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Rg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:iT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function iT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function rT(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Nu extends Ng{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new nT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nT(e),this._firestoreClient=void 0,await e}}}function x4(i,e){const n=typeof i=="object"?i:vb(),s=typeof i=="string"?i:nf,o=$p(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=zI("firestore");u&&I4(o,...u)}return o}function Og(i){if(i._terminated)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||D4(i),i._firestoreClient}function D4(i){const e=i._freezeSettings(),n=(function(o,u,c,m){return new eO(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,_1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new w4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class _i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _i(un.fromBase64String(e))}catch(n){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _i(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Yu(e,_i._jsonSchema))return _i.fromBase64String(e.bytes)}}_i._jsonSchemaVersion="firestore/bytes/1.0",_i._jsonSchema={type:Ut("string",_i._jsonSchemaVersion),bytes:Ut("string")};class Mg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class T1{constructor(e){this._methodName=e}}class nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(Yu(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:Ut("string",nr._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class ir{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Yu(e,ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ir(e.vectorValues);throw new ge(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:Ut("string",ir._jsonSchemaVersion),vectorValues:Ut("object")};const N4=/^__.*__$/;class O4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Va(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qu(e,this.data,n,this.fieldTransforms)}}function b1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:i})}}class kg{constructor(e,n,s,o,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return df(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(b1(this.Ac)&&N4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class M4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Vf(e)}Cc(e,n,s,o=!1){return new kg({Ac:e,methodName:n,Dc:s,path:ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k4(i){const e=i._freezeSettings(),n=Vf(i._databaseId);return new M4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function V4(i,e,n,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);R1("Data must be an object, but it was:",c,s);const m=w1(s,c);let p,g;if(u.merge)p=new Ni(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=L4(e,T,n);if(!c.contains(S))throw new ge(re.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);U4(_,S)||_.push(S)}p=new Ni(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new O4(new vi(m),p,g)}function S1(i,e){if(A1(i=Un(i)))return R1("Unsupported field value:",e,i),w1(i,e);if(i instanceof T1)return(function(s,o){if(!b1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=S1(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Un(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return wO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ht.fromDate(s);return{timestampValue:uf(o.serializer,u)}}if(s instanceof ht){const u=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uf(o.serializer,u)}}if(s instanceof nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _i)return{bytesValue:BS(o.serializer,s._byteString)};if(s instanceof Ft){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ir)return(function(c,m){return{mapValue:{fields:{[gS]:{stringValue:yS},[rf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return mg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${lg(s)}`)})(i,e)}function w1(i,e){const n={};return cS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(i,((s,o)=>{const u=S1(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function A1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ht||i instanceof nr||i instanceof _i||i instanceof Ft||i instanceof T1||i instanceof ir)}function R1(i,e,n){if(!A1(n)||!lS(n)){const s=lg(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function L4(i,e,n){if((e=Un(e))instanceof Mg)return e._internalPath;if(typeof e=="string")return C1(i,e);throw df("Field path arguments must be of type string or ",i,!1,void 0,n)}const P4=new RegExp("[~\\*/\\[\\]]");function C1(i,e,n){if(e.search(P4)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Mg(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function df(i,e,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ge(re.INVALID_ARGUMENT,m+i+p)}function U4(i,e){return i.some((n=>n.isEqual(e)))}class I1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new z4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(x1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class z4 extends I1{data(){return super.data()}}function x1(i,e){return typeof e=="string"?C1(i,e):e instanceof Mg?e._internalPath:e._delegate._internalPath}function j4(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B4{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ma(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[rf].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new ir(n)}convertGeoPoint(e){return new nr(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Cf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Au(e));default:return null}}convertTimestamp(e){const n=Ps(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=vt.fromString(e);Je(YS(s),9688,{name:e});const o=new Ru(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||Ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function H4(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class uu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wa extends I1{constructor(e,n,s,o,u,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(x1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wa._jsonSchemaVersion="firestore/documentSnapshot/1.0",wa._jsonSchema={type:Ut("string",wa._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class qh extends wa{data(e={}){return super.data(e)}}class Lo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new uu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new qh(this._firestore,this._userDataWriter,s.key,s,new uu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new qh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:q4(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=og.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}function F4(i){i=ks(i,Ft);const e=ks(i.firestore,Nu);return C4(Og(e),i._key).then((n=>N1(e,i,n)))}Lo._jsonSchemaVersion="firestore/querySnapshot/1.0",Lo._jsonSchema={type:Ut("string",Lo._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class D1 extends B4{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function Ro(i,e,n){i=ks(i,Ft);const s=ks(i.firestore,Nu),o=H4(i.converter,e,n);return K4(s,[V4(k4(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,kr.none())])}function G4(i,...e){i=Un(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||rT(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(rT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,c,m;if(i instanceof Ft)c=ks(i.firestore,Nu),m=xf(i._key.path),u={next:p=>{e[s]&&e[s](N1(c,i,p))},error:e[s+1],complete:e[s+2]};else{const p=ks(i,Uf);c=ks(p.firestore,Nu),m=p._query;const g=new D1(c);u={next:_=>{e[s]&&e[s](new Lo(c,g,p,_))},error:e[s+1],complete:e[s+2]},j4(i._query)}return(function(g,_,T,S){const C=new y1(S),L=new l1(_,C,T);return g.asyncQueue.enqueueAndForget((async()=>a1(await Vp(g),L))),()=>{C.Nu(),g.asyncQueue.enqueueAndForget((async()=>o1(await Vp(g),L)))}})(Og(c),m,o,u)}function K4(i,e){return(function(s,o){const u=new Ms;return s.asyncQueue.enqueueAndForget((async()=>p4(await R4(s),o,u))),u.promise})(Og(i),e)}function N1(i,e,n){const s=n.docs.get(e._key),o=new D1(i);return new wa(i,o,e._key,s,new uu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){$o=o})(Yo),Uo(new Ra("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new Nu(new kN(s.getProvider("auth-internal")),new PN(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ru(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ns(c0,h0,e),Ns(c0,h0,"esm2020")})();const Y4={apiKey:"AIzaSyCD-mvqF5tLbSSuXTds0rCekyDe4os4OOY",authDomain:"karatas-bora.firebaseapp.com",projectId:"karatas-bora",storageBucket:"karatas-bora.firebasestorage.app",messagingSenderId:"159808672944",appId:"1:159808672944:web:19abeee8bfbc92a8ca9775",measurementId:"G-678JXR6S0T"},O1=yb(Y4),nu=IN(O1),Ta=x4(O1),M1=x.createContext();function Vg(){return x.useContext(M1)}function Q4({children:i}){const[e,n]=x.useState(null),[s,o]=x.useState(!0);function u(_,T){return fD(nu,_,T)}function c(_,T){return dD(nu,_,T)}function m(){const _=new xr;return PD(nu,_)}function p(){return yD(nu)}x.useEffect(()=>gD(nu,T=>{n(T),o(!1)}),[]);const g={currentUser:e,signup:u,login:c,googleLogin:m,logout:p};return I.jsx(M1.Provider,{value:g,children:!s&&i})}function $4({apiKey:i,setApiKey:e,history:n,loadFromHistory:s,clearHistory:o,onLoginClick:u,currentActivity:c,deleteHistoryItem:m,moveHistoryItem:p}){const g="/arc/",{currentUser:_,logout:T}=Vg(),S=async()=>{try{await T()}catch(C){console.error("Failed to log out",C)}};return I.jsxs("aside",{className:"sidebar flex flex-col h-full",children:[I.jsx("div",{className:"brand mb-6",children:I.jsx("img",{src:`${g}arc-emerge.svg`,alt:"arc",style:{height:"38px"}})}),I.jsxs("div",{className:"input-wrapper",style:{marginBottom:"2rem"},children:[I.jsxs("label",{className:"input-label",style:{display:"flex",alignItems:"center",gap:"6px",color:"var(--sb-text-muted)"},children:[I.jsx(QC,{size:12,style:{color:"var(--sb-text-muted)"}})," API Key"]}),I.jsx("input",{className:"input-field",type:"password",value:i,onChange:C=>e(C.target.value),placeholder:"sk-...",style:{fontFamily:"monospace",fontSize:"0.8rem",background:"var(--sb-hover)",border:"1px solid var(--sb-border)",color:"var(--sb-text-main)"}})]}),I.jsxs("div",{className:"history-list flex-grow overflow-y-auto mb-4",children:[I.jsxs("div",{style:{fontSize:"0.7rem",fontWeight:"600",marginBottom:"10px",textTransform:"uppercase",letterSpacing:"0.05em",opacity:.6,color:"var(--sb-text-muted)"},children:["Library ",_?"(Cloud)":"(Local)"]}),n.length===0&&I.jsx("div",{className:"text-xs text-slate-500 italic p-2 text-center opacity-50",children:"No history yet."}),n.map((C,L)=>I.jsxs("div",{className:`history-item group ${c&&c.id===C.id?"active":""}`,onClick:()=>s(C),style:{position:"relative",paddingLeft:"36px"},children:[I.jsxs("div",{className:"item-actions",onClick:P=>P.stopPropagation(),style:{position:"absolute",left:"4px",top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",gap:"4px",opacity:.4,transition:"opacity 0.2s"},children:[I.jsxs("div",{className:"relocate-actions",style:{display:"flex",flexDirection:"column",gap:"2px"},children:[L>0&&I.jsx("button",{onClick:P=>{P.stopPropagation(),p(C.id,"up")},title:"Move Up",className:"action-btn",style:{padding:0,height:"12px",display:"flex",alignItems:"center"},children:I.jsx(kC,{size:12})}),L<n.length-1&&I.jsx("button",{onClick:P=>{P.stopPropagation(),p(C.id,"down")},title:"Move Down",className:"action-btn",style:{padding:0,height:"12px",display:"flex",alignItems:"center"},children:I.jsx(OC,{size:12})})]}),I.jsx("button",{onClick:P=>{P.stopPropagation(),m(C.id)},title:"Delete",className:"action-btn delete-btn",style:{padding:"2px"},children:I.jsx(up,{size:14,color:"#ef4444"})})]}),I.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center",flex:1,minWidth:0},children:I.jsxs("div",{style:{overflow:"hidden",flex:1},children:[I.jsx("span",{className:"history-title",children:C.title}),I.jsx("div",{className:"history-meta",children:(C.meta?.level||"B1").toUpperCase()})]})})]},C.id))]}),I.jsxs("div",{className:"mt-auto space-y-2",children:[I.jsxs("button",{onClick:o,className:"btn-clear-history w-full flex items-center gap-2 justify-center",children:[I.jsx(up,{size:14})," Clear History"]}),_?I.jsxs("div",{className:"user-profile-card",children:[I.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",overflow:"hidden"},children:[I.jsx("div",{className:"user-avatar-placeholder",children:I.jsx(ab,{size:16})}),I.jsxs("div",{className:"user-info",children:[I.jsx("span",{className:"user-email",title:_.email,children:_.email}),I.jsx("span",{className:"user-badge",children:"Premium"})]})]}),I.jsx("button",{onClick:S,className:"btn-logout-icon",title:"Log out",children:I.jsx(iI,{size:16})})]}):I.jsxs("button",{onClick:u,className:"btn-premium-gradient",children:[I.jsx(tI,{size:16}),I.jsx("span",{children:"Sign In"})]})]}),I.jsxs("a",{href:"https://karatasbora.github.io/me",target:"_blank",rel:"noopener noreferrer",className:"sidebar-footer mt-4",style:{textDecoration:"none"},children:[I.jsx("img",{src:`${g}bora-logo.svg`,alt:"Bora Karata",className:"dev-logo"}),I.jsx("span",{className:"dev-name",children:"Bora Karata"})]})]})}function X4({transcript:i,setTranscript:e,activityType:n,setActivityType:s,cefrLevel:o,setCefrLevel:u,isScaffolded:c,setIsScaffolded:m,length:p,setLength:g,audience:_,setAudience:T,visualStyle:S,setVisualStyle:C,mascotPref:L,setMascotPref:P,model:z,setModel:Y,loading:$,onGenerate:J}){return I.jsxs("div",{className:"editor-panel",children:[I.jsxs("div",{className:"panel-header",children:[I.jsx("div",{className:"panel-icon",children:I.jsx(jC,{size:20,color:"var(--cyan-100)"})}),I.jsxs("div",{children:[I.jsx("h2",{className:"panel-title",children:"Configuration"}),I.jsx("p",{className:"panel-subtitle",children:"Customize your material parameters"})]})]}),I.jsx("div",{className:"config-section",children:I.jsxs("div",{className:"input-wrapper",children:[I.jsx("label",{className:"input-label",htmlFor:"source-material",children:"Source Material / Topic"}),I.jsx("textarea",{id:"source-material",className:"input-field",placeholder:"Paste text or describe a topic (e.g., 'The history of the internet' or 'Quantum Physics for kids')...",value:i,onChange:se=>e(se.target.value),rows:3})]})}),I.jsxs("div",{className:"config-section",children:[I.jsxs("div",{className:"section-title",children:[I.jsx(mI,{size:14})," ",I.jsx("span",{children:"Structure"})]}),I.jsxs("div",{className:"grid-2",children:[I.jsxs("div",{className:"input-wrapper",children:[I.jsx("label",{className:"input-label",htmlFor:"model-select",children:"Model"}),I.jsxs("select",{id:"model-select",className:"input-field",value:z,onChange:se=>Y(se.target.value),children:[I.jsx("option",{value:"gemini-2.5-flash",children:"Gemini 2.5 Flash"}),I.jsx("option",{value:"gemini-2.5-pro",children:"Gemini 2.5 Pro"}),I.jsx("option",{value:"gemini-2.0-flash",children:"Gemini 2.0 Flash"}),I.jsx("option",{value:"gemini-flash-latest",children:"Gemini Flash"})]})]}),I.jsxs("div",{className:"input-wrapper",children:[I.jsx("label",{className:"input-label",htmlFor:"focus-select",children:"Focus"}),I.jsxs("select",{id:"focus-select",className:"input-field",value:n,onChange:se=>s(se.target.value),children:[I.jsx("option",{value:"comprehension",children:"Comprehension"}),I.jsx("option",{value:"vocabulary",children:"Vocabulary"}),I.jsx("option",{value:"grammar",children:"Grammar"}),I.jsx("option",{value:"discussion",children:"Discussion"})]})]})]}),I.jsxs("div",{className:"grid-2",children:[I.jsxs("div",{className:"input-wrapper",children:[I.jsx("label",{className:"input-label",htmlFor:"level-select",children:"Level (CEFR)"}),I.jsxs("select",{id:"level-select",className:"input-field",value:o,onChange:se=>u(se.target.value),children:[I.jsx("option",{children:"A1"}),I.jsx("option",{children:"A2"}),I.jsx("option",{children:"B1"}),I.jsx("option",{children:"B2"}),I.jsx("option",{children:"C1"})]})]}),I.jsxs("div",{className:"input-wrapper",children:[I.jsx("label",{className:"input-label",htmlFor:"length-select",children:"Length"}),I.jsxs("select",{id:"length-select",className:"input-field",value:p,onChange:se=>g(se.target.value),children:[I.jsx("option",{value:"short",children:"Short (5 Qs)"}),I.jsx("option",{value:"medium",children:"Medium (10 Qs)"}),I.jsx("option",{value:"long",children:"Long (15 Qs)"})]})]})]})]}),I.jsxs("div",{className:"config-section",children:[I.jsxs("div",{className:"section-title",children:[I.jsx(RI,{size:14})," ",I.jsx("span",{children:"Audience"})]}),I.jsxs("div",{className:"audience-grid",children:[I.jsxs("div",{className:"input-wrapper",children:[I.jsx("label",{className:"input-label",htmlFor:"audience-select",children:"Target Group"}),I.jsxs("select",{id:"audience-select",className:"input-field",value:_,onChange:se=>T(se.target.value),children:[I.jsx("option",{value:"kids",children:"Kids (Playful)"}),I.jsx("option",{value:"teens",children:"Teens (Relatable)"}),I.jsx("option",{value:"adults",children:"Adults (Standard)"}),I.jsx("option",{value:"professionals",children:"Professionals (Formal)"})]})]}),I.jsxs("div",{className:`toggle-card ${c?"active":""}`,onClick:()=>m(!c),children:[I.jsx("span",{className:"scaffolding-label",children:"Scaffolding"}),c?I.jsx(EI,{size:20,style:{color:"var(--cf-accent)"}}):I.jsx(vI,{size:20,color:"var(--cf-text-muted)"})]})]})]}),I.jsxs("div",{className:"config-section",children:[I.jsxs("div",{className:"section-title",children:[I.jsx(sb,{size:14})," ",I.jsx("span",{children:"Visual Design"})]}),I.jsxs("div",{className:"grid-2",children:[I.jsxs("div",{className:"input-wrapper",children:[I.jsx("label",{className:"input-label",htmlFor:"visual-style-select",children:"Art Style"}),I.jsxs("select",{id:"visual-style-select",className:"input-field",value:S,onChange:se=>C(se.target.value),children:[I.jsx("option",{value:"minimal vector line art",children:"Minimal Line Art"}),I.jsx("option",{value:"clay 3d render style",children:"Clay 3D"}),I.jsx("option",{value:"watercolor painting style",children:"Watercolor"}),I.jsx("option",{value:"pixel art style",children:"Pixel Art"}),I.jsx("option",{value:"cyberpunk digital art",children:"Cyberpunk"}),I.jsx("option",{value:"childrens book illustration",children:"Storybook"})]})]}),I.jsxs("div",{className:"input-wrapper",children:[I.jsx("label",{className:"input-label",htmlFor:"mascot-input",children:"Mascot Focus"}),I.jsx("input",{id:"mascot-input",type:"text",className:"input-field",placeholder:"e.g. Robot",value:L,onChange:se=>P(se.target.value)})]})]})]}),I.jsx("div",{className:"action-footer",children:I.jsx("button",{className:"btn-primary",onClick:J,disabled:$,children:$?I.jsxs(I.Fragment,{children:[I.jsx(JC,{size:18,className:"animate-spin"}),I.jsx("span",{children:"Architecting..."})]}):I.jsxs(I.Fragment,{children:[I.jsx(gI,{size:18}),I.jsx("span",{children:"Generate Material"})]})})})]})}function W4(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return x.useMemo(()=>s=>{e.forEach(o=>o(s))},e)}const zf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Zo(i){const e=Object.prototype.toString.call(i);return e==="[object Window]"||e==="[object global]"}function Lg(i){return"nodeType"in i}function zn(i){var e,n;return i?Zo(i)?i:Lg(i)&&(e=(n=i.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function Pg(i){const{Document:e}=zn(i);return i instanceof e}function Ju(i){return Zo(i)?!1:i instanceof zn(i).HTMLElement}function k1(i){return i instanceof zn(i).SVGElement}function el(i){return i?Zo(i)?i.document:Lg(i)?Pg(i)?i:Ju(i)||k1(i)?i.ownerDocument:document:document:document}const ar=zf?x.useLayoutEffect:x.useEffect;function Ug(i){const e=x.useRef(i);return ar(()=>{e.current=i}),x.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e.current==null?void 0:e.current(...s)},[])}function J4(){const i=x.useRef(null),e=x.useCallback((s,o)=>{i.current=setInterval(s,o)},[]),n=x.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[e,n]}function Ou(i,e){e===void 0&&(e=[i]);const n=x.useRef(i);return ar(()=>{n.current!==i&&(n.current=i)},e),n}function Zu(i,e){const n=x.useRef();return x.useMemo(()=>{const s=i(n.current);return n.current=s,s},[...e])}function mf(i){const e=Ug(i),n=x.useRef(null),s=x.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,s]}function Lp(i){const e=x.useRef();return x.useEffect(()=>{e.current=i},[i]),e.current}let rp={};function ec(i,e){return x.useMemo(()=>{if(e)return e;const n=rp[i]==null?0:rp[i]+1;return rp[i]=n,i+"-"+n},[i,e])}function V1(i){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((u,c)=>{const m=Object.entries(c);for(const[p,g]of m){const _=u[p];_!=null&&(u[p]=_+i*g)}return u},{...e})}}const Po=V1(1),Mu=V1(-1);function Z4(i){return"clientX"in i&&"clientY"in i}function zg(i){if(!i)return!1;const{KeyboardEvent:e}=zn(i.target);return e&&i instanceof e}function ek(i){if(!i)return!1;const{TouchEvent:e}=zn(i.target);return e&&i instanceof e}function Pp(i){if(ek(i)){if(i.touches&&i.touches.length){const{clientX:e,clientY:n}=i.touches[0];return{x:e,y:n}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:e,clientY:n}=i.changedTouches[0];return{x:e,y:n}}}return Z4(i)?{x:i.clientX,y:i.clientY}:null}const ku=Object.freeze({Translate:{toString(i){if(!i)return;const{x:e,y:n}=i;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:e,scaleY:n}=i;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(i){if(i)return[ku.Translate.toString(i),ku.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:e,duration:n,easing:s}=i;return e+" "+n+"ms "+s}}}),sT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function tk(i){return i.matches(sT)?i:i.querySelector(sT)}const nk={display:"none"};function ik(i){let{id:e,value:n}=i;return Cn.createElement("div",{id:e,style:nk},n)}function rk(i){let{id:e,announcement:n,ariaLiveType:s="assertive"}=i;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Cn.createElement("div",{id:e,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function sk(){const[i,e]=x.useState("");return{announce:x.useCallback(s=>{s!=null&&e(s)},[]),announcement:i}}const L1=x.createContext(null);function ak(i){const e=x.useContext(L1);x.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(i)},[i,e])}function ok(){const[i]=x.useState(()=>new Set),e=x.useCallback(s=>(i.add(s),()=>i.delete(s)),[i]);return[x.useCallback(s=>{let{type:o,event:u}=s;i.forEach(c=>{var m;return(m=c[o])==null?void 0:m.call(c,u)})},[i]),e]}const lk={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},uk={onDragStart(i){let{active:e}=i;return"Picked up draggable item "+e.id+"."},onDragOver(i){let{active:e,over:n}=i;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(i){let{active:e,over:n}=i;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(i){let{active:e}=i;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function ck(i){let{announcements:e=uk,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=lk}=i;const{announce:u,announcement:c}=sk(),m=ec("DndLiveRegion"),[p,g]=x.useState(!1);if(x.useEffect(()=>{g(!0)},[]),ak(x.useMemo(()=>({onDragStart(T){let{active:S}=T;u(e.onDragStart({active:S}))},onDragMove(T){let{active:S,over:C}=T;e.onDragMove&&u(e.onDragMove({active:S,over:C}))},onDragOver(T){let{active:S,over:C}=T;u(e.onDragOver({active:S,over:C}))},onDragEnd(T){let{active:S,over:C}=T;u(e.onDragEnd({active:S,over:C}))},onDragCancel(T){let{active:S,over:C}=T;u(e.onDragCancel({active:S,over:C}))}}),[u,e])),!p)return null;const _=Cn.createElement(Cn.Fragment,null,Cn.createElement(ik,{id:s,value:o.draggable}),Cn.createElement(rk,{id:m,announcement:c}));return n?iu.createPortal(_,n):_}var Ht;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(Ht||(Ht={}));function pf(){}function aT(i,e){return x.useMemo(()=>({sensor:i,options:e??{}}),[i,e])}function hk(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return x.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const ki=Object.freeze({x:0,y:0});function P1(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function U1(i,e){let{data:{value:n}}=i,{data:{value:s}}=e;return n-s}function fk(i,e){let{data:{value:n}}=i,{data:{value:s}}=e;return s-n}function oT(i){let{left:e,top:n,height:s,width:o}=i;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+s},{x:e+o,y:n+s}]}function z1(i,e){if(!i||i.length===0)return null;const[n]=i;return n[e]}function lT(i,e,n){return e===void 0&&(e=i.left),n===void 0&&(n=i.top),{x:e+i.width*.5,y:n+i.height*.5}}const dk=i=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=i;const o=lT(e,e.left,e.top),u=[];for(const c of s){const{id:m}=c,p=n.get(m);if(p){const g=P1(lT(p),o);u.push({id:m,data:{droppableContainer:c,value:g}})}}return u.sort(U1)},mk=i=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=i;const o=oT(e),u=[];for(const c of s){const{id:m}=c,p=n.get(m);if(p){const g=oT(p),_=o.reduce((S,C,L)=>S+P1(g[L],C),0),T=Number((_/4).toFixed(4));u.push({id:m,data:{droppableContainer:c,value:T}})}}return u.sort(U1)};function pk(i,e){const n=Math.max(e.top,i.top),s=Math.max(e.left,i.left),o=Math.min(e.left+e.width,i.left+i.width),u=Math.min(e.top+e.height,i.top+i.height),c=o-s,m=u-n;if(s<o&&n<u){const p=e.width*e.height,g=i.width*i.height,_=c*m,T=_/(p+g-_);return Number(T.toFixed(4))}return 0}const gk=i=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=i;const o=[];for(const u of s){const{id:c}=u,m=n.get(c);if(m){const p=pk(m,e);p>0&&o.push({id:c,data:{droppableContainer:u,value:p}})}}return o.sort(fk)};function yk(i,e,n){return{...i,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function j1(i,e){return i&&e?{x:i.left-e.left,y:i.top-e.top}:ki}function vk(i){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return o.reduce((c,m)=>({...c,top:c.top+i*m.y,bottom:c.bottom+i*m.y,left:c.left+i*m.x,right:c.right+i*m.x}),{...n})}}const _k=vk(1);function Ek(i){if(i.startsWith("matrix3d(")){const e=i.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(i.startsWith("matrix(")){const e=i.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function Tk(i,e,n){const s=Ek(e);if(!s)return i;const{scaleX:o,scaleY:u,x:c,y:m}=s,p=i.left-c-(1-o)*parseFloat(n),g=i.top-m-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),_=o?i.width/o:i.width,T=u?i.height/u:i.height;return{width:_,height:T,top:g,right:p+_,bottom:g+T,left:p}}const bk={ignoreTransform:!1};function tl(i,e){e===void 0&&(e=bk);let n=i.getBoundingClientRect();if(e.ignoreTransform){const{transform:g,transformOrigin:_}=zn(i).getComputedStyle(i);g&&(n=Tk(n,g,_))}const{top:s,left:o,width:u,height:c,bottom:m,right:p}=n;return{top:s,left:o,width:u,height:c,bottom:m,right:p}}function uT(i){return tl(i,{ignoreTransform:!0})}function Sk(i){const e=i.innerWidth,n=i.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function wk(i,e){return e===void 0&&(e=zn(i).getComputedStyle(i)),e.position==="fixed"}function Ak(i,e){e===void 0&&(e=zn(i).getComputedStyle(i));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=e[o];return typeof u=="string"?n.test(u):!1})}function jf(i,e){const n=[];function s(o){if(e!=null&&n.length>=e||!o)return n;if(Pg(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Ju(o)||k1(o)||n.includes(o))return n;const u=zn(i).getComputedStyle(o);return o!==i&&Ak(o,u)&&n.push(o),wk(o,u)?n:s(o.parentNode)}return i?s(i):n}function B1(i){const[e]=jf(i,1);return e??null}function sp(i){return!zf||!i?null:Zo(i)?i:Lg(i)?Pg(i)||i===el(i).scrollingElement?window:Ju(i)?i:null:null}function H1(i){return Zo(i)?i.scrollX:i.scrollLeft}function q1(i){return Zo(i)?i.scrollY:i.scrollTop}function Up(i){return{x:H1(i),y:q1(i)}}var Zt;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(Zt||(Zt={}));function F1(i){return!zf||!i?!1:i===document.scrollingElement}function G1(i){const e={x:0,y:0},n=F1(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},s={x:i.scrollWidth-n.width,y:i.scrollHeight-n.height},o=i.scrollTop<=e.y,u=i.scrollLeft<=e.x,c=i.scrollTop>=s.y,m=i.scrollLeft>=s.x;return{isTop:o,isLeft:u,isBottom:c,isRight:m,maxScroll:s,minScroll:e}}const Rk={x:.2,y:.2};function Ck(i,e,n,s,o){let{top:u,left:c,right:m,bottom:p}=n;s===void 0&&(s=10),o===void 0&&(o=Rk);const{isTop:g,isBottom:_,isLeft:T,isRight:S}=G1(i),C={x:0,y:0},L={x:0,y:0},P={height:e.height*o.y,width:e.width*o.x};return!g&&u<=e.top+P.height?(C.y=Zt.Backward,L.y=s*Math.abs((e.top+P.height-u)/P.height)):!_&&p>=e.bottom-P.height&&(C.y=Zt.Forward,L.y=s*Math.abs((e.bottom-P.height-p)/P.height)),!S&&m>=e.right-P.width?(C.x=Zt.Forward,L.x=s*Math.abs((e.right-P.width-m)/P.width)):!T&&c<=e.left+P.width&&(C.x=Zt.Backward,L.x=s*Math.abs((e.left+P.width-c)/P.width)),{direction:C,speed:L}}function Ik(i){if(i===document.scrollingElement){const{innerWidth:u,innerHeight:c}=window;return{top:0,left:0,right:u,bottom:c,width:u,height:c}}const{top:e,left:n,right:s,bottom:o}=i.getBoundingClientRect();return{top:e,left:n,right:s,bottom:o,width:i.clientWidth,height:i.clientHeight}}function K1(i){return i.reduce((e,n)=>Po(e,Up(n)),ki)}function xk(i){return i.reduce((e,n)=>e+H1(n),0)}function Dk(i){return i.reduce((e,n)=>e+q1(n),0)}function Nk(i,e){if(e===void 0&&(e=tl),!i)return;const{top:n,left:s,bottom:o,right:u}=e(i);B1(i)&&(o<=0||u<=0||n>=window.innerHeight||s>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const Ok=[["x",["left","right"],xk],["y",["top","bottom"],Dk]];class jg{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=jf(n),o=K1(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[u,c,m]of Ok)for(const p of c)Object.defineProperty(this,p,{get:()=>{const g=m(s),_=o[u]-g;return this.rect[p]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class gu{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var o;(o=this.target)==null||o.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function Mk(i){const{EventTarget:e}=zn(i);return i instanceof e?i:el(i)}function ap(i,e){const n=Math.abs(i.x),s=Math.abs(i.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var yi;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(yi||(yi={}));function cT(i){i.preventDefault()}function kk(i){i.stopPropagation()}var Ge;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(Ge||(Ge={}));const Y1={start:[Ge.Space,Ge.Enter],cancel:[Ge.Esc],end:[Ge.Space,Ge.Enter,Ge.Tab]},Vk=(i,e)=>{let{currentCoordinates:n}=e;switch(i.code){case Ge.Right:return{...n,x:n.x+25};case Ge.Left:return{...n,x:n.x-25};case Ge.Down:return{...n,y:n.y+25};case Ge.Up:return{...n,y:n.y-25}}};class Bg{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new gu(el(n)),this.windowListeners=new gu(zn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(yi.Resize,this.handleCancel),this.windowListeners.add(yi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(yi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&Nk(s),n(ki)}handleKeyDown(e){if(zg(e)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:u=Y1,coordinateGetter:c=Vk,scrollBehavior:m="smooth"}=o,{code:p}=e;if(u.end.includes(p)){this.handleEnd(e);return}if(u.cancel.includes(p)){this.handleCancel(e);return}const{collisionRect:g}=s.current,_=g?{x:g.left,y:g.top}:ki;this.referenceCoordinates||(this.referenceCoordinates=_);const T=c(e,{active:n,context:s.current,currentCoordinates:_});if(T){const S=Mu(T,_),C={x:0,y:0},{scrollableAncestors:L}=s.current;for(const P of L){const z=e.code,{isTop:Y,isRight:$,isLeft:J,isBottom:se,maxScroll:he,minScroll:ce}=G1(P),R=Ik(P),A={x:Math.min(z===Ge.Right?R.right-R.width/2:R.right,Math.max(z===Ge.Right?R.left:R.left+R.width/2,T.x)),y:Math.min(z===Ge.Down?R.bottom-R.height/2:R.bottom,Math.max(z===Ge.Down?R.top:R.top+R.height/2,T.y))},D=z===Ge.Right&&!$||z===Ge.Left&&!J,V=z===Ge.Down&&!se||z===Ge.Up&&!Y;if(D&&A.x!==T.x){const O=P.scrollLeft+S.x,j=z===Ge.Right&&O<=he.x||z===Ge.Left&&O>=ce.x;if(j&&!S.y){P.scrollTo({left:O,behavior:m});return}j?C.x=P.scrollLeft-O:C.x=z===Ge.Right?P.scrollLeft-he.x:P.scrollLeft-ce.x,C.x&&P.scrollBy({left:-C.x,behavior:m});break}else if(V&&A.y!==T.y){const O=P.scrollTop+S.y,j=z===Ge.Down&&O<=he.y||z===Ge.Up&&O>=ce.y;if(j&&!S.x){P.scrollTo({top:O,behavior:m});return}j?C.y=P.scrollTop-O:C.y=z===Ge.Down?P.scrollTop-he.y:P.scrollTop-ce.y,C.y&&P.scrollBy({top:-C.y,behavior:m});break}}this.handleMove(e,Po(Mu(T,this.referenceCoordinates),C))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Bg.activators=[{eventName:"onKeyDown",handler:(i,e,n)=>{let{keyboardCodes:s=Y1,onActivation:o}=e,{active:u}=n;const{code:c}=i.nativeEvent;if(s.start.includes(c)){const m=u.activatorNode.current;return m&&i.target!==m?!1:(i.preventDefault(),o?.({event:i.nativeEvent}),!0)}return!1}}];function hT(i){return!!(i&&"distance"in i)}function fT(i){return!!(i&&"delay"in i)}class Hg{constructor(e,n,s){var o;s===void 0&&(s=Mk(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:u}=e,{target:c}=u;this.props=e,this.events=n,this.document=el(c),this.documentListeners=new gu(this.document),this.listeners=new gu(s),this.windowListeners=new gu(zn(c)),this.initialCoordinates=(o=Pp(u))!=null?o:ki,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(yi.Resize,this.handleCancel),this.windowListeners.add(yi.DragStart,cT),this.windowListeners.add(yi.VisibilityChange,this.handleCancel),this.windowListeners.add(yi.ContextMenu,cT),this.documentListeners.add(yi.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(fT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(hT(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:o}=this.props;o(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(yi.Click,kk,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(yi.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:o,props:u}=this,{onMove:c,options:{activationConstraint:m}}=u;if(!o)return;const p=(n=Pp(e))!=null?n:ki,g=Mu(o,p);if(!s&&m){if(hT(m)){if(m.tolerance!=null&&ap(g,m.tolerance))return this.handleCancel();if(ap(g,m.distance))return this.handleStart()}if(fT(m)&&ap(g,m.tolerance))return this.handleCancel();this.handlePending(m,g);return}e.cancelable&&e.preventDefault(),c(p)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ge.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Lk={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class qg extends Hg{constructor(e){const{event:n}=e,s=el(n.target);super(e,Lk,s)}}qg.activators=[{eventName:"onPointerDown",handler:(i,e)=>{let{nativeEvent:n}=i,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const Pk={move:{name:"mousemove"},end:{name:"mouseup"}};var zp;(function(i){i[i.RightClick=2]="RightClick"})(zp||(zp={}));class Uk extends Hg{constructor(e){super(e,Pk,el(e.event.target))}}Uk.activators=[{eventName:"onMouseDown",handler:(i,e)=>{let{nativeEvent:n}=i,{onActivation:s}=e;return n.button===zp.RightClick?!1:(s?.({event:n}),!0)}}];const op={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class zk extends Hg{constructor(e){super(e,op)}static setup(){return window.addEventListener(op.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(op.move.name,e)};function e(){}}}zk.activators=[{eventName:"onTouchStart",handler:(i,e)=>{let{nativeEvent:n}=i,{onActivation:s}=e;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var yu;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(yu||(yu={}));var gf;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(gf||(gf={}));function jk(i){let{acceleration:e,activator:n=yu.Pointer,canScroll:s,draggingRect:o,enabled:u,interval:c=5,order:m=gf.TreeOrder,pointerCoordinates:p,scrollableAncestors:g,scrollableAncestorRects:_,delta:T,threshold:S}=i;const C=Hk({delta:T,disabled:!u}),[L,P]=J4(),z=x.useRef({x:0,y:0}),Y=x.useRef({x:0,y:0}),$=x.useMemo(()=>{switch(n){case yu.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case yu.DraggableRect:return o}},[n,o,p]),J=x.useRef(null),se=x.useCallback(()=>{const ce=J.current;if(!ce)return;const R=z.current.x*Y.current.x,A=z.current.y*Y.current.y;ce.scrollBy(R,A)},[]),he=x.useMemo(()=>m===gf.TreeOrder?[...g].reverse():g,[m,g]);x.useEffect(()=>{if(!u||!g.length||!$){P();return}for(const ce of he){if(s?.(ce)===!1)continue;const R=g.indexOf(ce),A=_[R];if(!A)continue;const{direction:D,speed:V}=Ck(ce,A,$,e,S);for(const O of["x","y"])C[O][D[O]]||(V[O]=0,D[O]=0);if(V.x>0||V.y>0){P(),J.current=ce,L(se,c),z.current=V,Y.current=D;return}}z.current={x:0,y:0},Y.current={x:0,y:0},P()},[e,se,s,P,u,c,JSON.stringify($),JSON.stringify(C),L,g,he,_,JSON.stringify(S)])}const Bk={x:{[Zt.Backward]:!1,[Zt.Forward]:!1},y:{[Zt.Backward]:!1,[Zt.Forward]:!1}};function Hk(i){let{delta:e,disabled:n}=i;const s=Lp(e);return Zu(o=>{if(n||!s||!o)return Bk;const u={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Zt.Backward]:o.x[Zt.Backward]||u.x===-1,[Zt.Forward]:o.x[Zt.Forward]||u.x===1},y:{[Zt.Backward]:o.y[Zt.Backward]||u.y===-1,[Zt.Forward]:o.y[Zt.Forward]||u.y===1}}},[n,e,s])}function qk(i,e){const n=e!=null?i.get(e):void 0,s=n?n.node.current:null;return Zu(o=>{var u;return e==null?null:(u=s??o)!=null?u:null},[s,e])}function Fk(i,e){return x.useMemo(()=>i.reduce((n,s)=>{const{sensor:o}=s,u=o.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,s)}));return[...n,...u]},[]),[i,e])}var Vu;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Vu||(Vu={}));var jp;(function(i){i.Optimized="optimized"})(jp||(jp={}));const dT=new Map;function Gk(i,e){let{dragging:n,dependencies:s,config:o}=e;const[u,c]=x.useState(null),{frequency:m,measure:p,strategy:g}=o,_=x.useRef(i),T=z(),S=Ou(T),C=x.useCallback(function(Y){Y===void 0&&(Y=[]),!S.current&&c($=>$===null?Y:$.concat(Y.filter(J=>!$.includes(J))))},[S]),L=x.useRef(null),P=Zu(Y=>{if(T&&!n)return dT;if(!Y||Y===dT||_.current!==i||u!=null){const $=new Map;for(let J of i){if(!J)continue;if(u&&u.length>0&&!u.includes(J.id)&&J.rect.current){$.set(J.id,J.rect.current);continue}const se=J.node.current,he=se?new jg(p(se),se):null;J.rect.current=he,he&&$.set(J.id,he)}return $}return Y},[i,u,n,T,p]);return x.useEffect(()=>{_.current=i},[i]),x.useEffect(()=>{T||C()},[n,T]),x.useEffect(()=>{u&&u.length>0&&c(null)},[JSON.stringify(u)]),x.useEffect(()=>{T||typeof m!="number"||L.current!==null||(L.current=setTimeout(()=>{C(),L.current=null},m))},[m,T,C,...s]),{droppableRects:P,measureDroppableContainers:C,measuringScheduled:u!=null};function z(){switch(g){case Vu.Always:return!1;case Vu.BeforeDragging:return n;default:return!n}}}function Q1(i,e){return Zu(n=>i?n||(typeof e=="function"?e(i):i):null,[e,i])}function Kk(i,e){return Q1(i,e)}function Yk(i){let{callback:e,disabled:n}=i;const s=Ug(e),o=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,n]);return x.useEffect(()=>()=>o?.disconnect(),[o]),o}function Bf(i){let{callback:e,disabled:n}=i;const s=Ug(e),o=x.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[n]);return x.useEffect(()=>()=>o?.disconnect(),[o]),o}function Qk(i){return new jg(tl(i),i)}function mT(i,e,n){e===void 0&&(e=Qk);const[s,o]=x.useState(null);function u(){o(p=>{if(!i)return null;if(i.isConnected===!1){var g;return(g=p??n)!=null?g:null}const _=e(i);return JSON.stringify(p)===JSON.stringify(_)?p:_})}const c=Yk({callback(p){if(i)for(const g of p){const{type:_,target:T}=g;if(_==="childList"&&T instanceof HTMLElement&&T.contains(i)){u();break}}}}),m=Bf({callback:u});return ar(()=>{u(),i?(m?.observe(i),c?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),c?.disconnect())},[i]),s}function $k(i){const e=Q1(i);return j1(i,e)}const pT=[];function Xk(i){const e=x.useRef(i),n=Zu(s=>i?s&&s!==pT&&i&&e.current&&i.parentNode===e.current.parentNode?s:jf(i):pT,[i]);return x.useEffect(()=>{e.current=i},[i]),n}function Wk(i){const[e,n]=x.useState(null),s=x.useRef(i),o=x.useCallback(u=>{const c=sp(u.target);c&&n(m=>m?(m.set(c,Up(c)),new Map(m)):null)},[]);return x.useEffect(()=>{const u=s.current;if(i!==u){c(u);const m=i.map(p=>{const g=sp(p);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,Up(g)]):null}).filter(p=>p!=null);n(m.length?new Map(m):null),s.current=i}return()=>{c(i),c(u)};function c(m){m.forEach(p=>{const g=sp(p);g?.removeEventListener("scroll",o)})}},[o,i]),x.useMemo(()=>i.length?e?Array.from(e.values()).reduce((u,c)=>Po(u,c),ki):K1(i):ki,[i,e])}function gT(i,e){e===void 0&&(e=[]);const n=x.useRef(null);return x.useEffect(()=>{n.current=null},e),x.useEffect(()=>{const s=i!==ki;s&&!n.current&&(n.current=i),!s&&n.current&&(n.current=null)},[i]),n.current?Mu(i,n.current):ki}function Jk(i){x.useEffect(()=>{if(!zf)return;const e=i.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},i.map(e=>{let{sensor:n}=e;return n}))}function Zk(i,e){return x.useMemo(()=>i.reduce((n,s)=>{let{eventName:o,handler:u}=s;return n[o]=c=>{u(c,e)},n},{}),[i,e])}function $1(i){return x.useMemo(()=>i?Sk(i):null,[i])}const yT=[];function eV(i,e){e===void 0&&(e=tl);const[n]=i,s=$1(n?zn(n):null),[o,u]=x.useState(yT);function c(){u(()=>i.length?i.map(p=>F1(p)?s:new jg(e(p),p)):yT)}const m=Bf({callback:c});return ar(()=>{m?.disconnect(),c(),i.forEach(p=>m?.observe(p))},[i]),o}function tV(i){if(!i)return null;if(i.children.length>1)return i;const e=i.children[0];return Ju(e)?e:i}function nV(i){let{measure:e}=i;const[n,s]=x.useState(null),o=x.useCallback(g=>{for(const{target:_}of g)if(Ju(_)){s(T=>{const S=e(_);return T?{...T,width:S.width,height:S.height}:S});break}},[e]),u=Bf({callback:o}),c=x.useCallback(g=>{const _=tV(g);u?.disconnect(),_&&u?.observe(_),s(_?e(_):null)},[e,u]),[m,p]=mf(c);return x.useMemo(()=>({nodeRef:m,rect:n,setRef:p}),[n,m,p])}const iV=[{sensor:qg,options:{}},{sensor:Bg,options:{}}],rV={current:{}},Fh={draggable:{measure:uT},droppable:{measure:uT,strategy:Vu.WhileDragging,frequency:jp.Optimized},dragOverlay:{measure:tl}};class vu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const sV={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new vu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:pf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Fh,measureDroppableContainers:pf,windowRect:null,measuringScheduled:!1},aV={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pf,draggableNodes:new Map,over:null,measureDroppableContainers:pf},Hf=x.createContext(aV),X1=x.createContext(sV);function oV(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new vu}}}function lV(i,e){switch(e.type){case Ht.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Ht.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:e.coordinates.x-i.draggable.initialCoordinates.x,y:e.coordinates.y-i.draggable.initialCoordinates.y}}};case Ht.DragEnd:case Ht.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ht.RegisterDroppable:{const{element:n}=e,{id:s}=n,o=new vu(i.droppable.containers);return o.set(s,n),{...i,droppable:{...i.droppable,containers:o}}}case Ht.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=e,u=i.droppable.containers.get(n);if(!u||s!==u.key)return i;const c=new vu(i.droppable.containers);return c.set(n,{...u,disabled:o}),{...i,droppable:{...i.droppable,containers:c}}}case Ht.UnregisterDroppable:{const{id:n,key:s}=e,o=i.droppable.containers.get(n);if(!o||s!==o.key)return i;const u=new vu(i.droppable.containers);return u.delete(n),{...i,droppable:{...i.droppable,containers:u}}}default:return i}}function uV(i){let{disabled:e}=i;const{active:n,activatorEvent:s,draggableNodes:o}=x.useContext(Hf),u=Lp(s),c=Lp(n?.id);return x.useEffect(()=>{if(!e&&!s&&u&&c!=null){if(!zg(u)||document.activeElement===u.target)return;const m=o.get(c);if(!m)return;const{activatorNode:p,node:g}=m;if(!p.current&&!g.current)return;requestAnimationFrame(()=>{for(const _ of[p.current,g.current]){if(!_)continue;const T=tk(_);if(T){T.focus();break}}})}},[s,e,o,c,u]),null}function cV(i,e){let{transform:n,...s}=e;return i!=null&&i.length?i.reduce((o,u)=>u({transform:o,...s}),n):n}function hV(i){return x.useMemo(()=>({draggable:{...Fh.draggable,...i?.draggable},droppable:{...Fh.droppable,...i?.droppable},dragOverlay:{...Fh.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function fV(i){let{activeNode:e,measure:n,initialRect:s,config:o=!0}=i;const u=x.useRef(!1),{x:c,y:m}=typeof o=="boolean"?{x:o,y:o}:o;ar(()=>{if(!c&&!m||!e){u.current=!1;return}if(u.current||!s)return;const g=e?.node.current;if(!g||g.isConnected===!1)return;const _=n(g),T=j1(_,s);if(c||(T.x=0),m||(T.y=0),u.current=!0,Math.abs(T.x)>0||Math.abs(T.y)>0){const S=B1(g);S&&S.scrollBy({top:T.y,left:T.x})}},[e,c,m,s,n])}const W1=x.createContext({...ki,scaleX:1,scaleY:1});var Ss;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(Ss||(Ss={}));const dV=x.memo(function(e){var n,s,o,u;let{id:c,accessibility:m,autoScroll:p=!0,children:g,sensors:_=iV,collisionDetection:T=gk,measuring:S,modifiers:C,...L}=e;const P=x.useReducer(lV,void 0,oV),[z,Y]=P,[$,J]=ok(),[se,he]=x.useState(Ss.Uninitialized),ce=se===Ss.Initialized,{draggable:{active:R,nodes:A,translate:D},droppable:{containers:V}}=z,O=R!=null?A.get(R):null,j=x.useRef({initial:null,translated:null}),N=x.useMemo(()=>{var Ve;return R!=null?{id:R,data:(Ve=O?.data)!=null?Ve:rV,rect:j}:null},[R,O]),Oe=x.useRef(null),[nt,W]=x.useState(null),[ae,pe]=x.useState(null),Ae=Ou(L,Object.values(L)),ue=ec("DndDescribedBy",c),k=x.useMemo(()=>V.getEnabled(),[V]),H=hV(S),{droppableRects:ne,measureDroppableContainers:le,measuringScheduled:_e}=Gk(k,{dragging:ce,dependencies:[D.x,D.y],config:H.droppable}),ye=qk(A,R),De=x.useMemo(()=>ae?Pp(ae):null,[ae]),Me=cr(),Ue=Kk(ye,H.draggable.measure);fV({activeNode:R!=null?A.get(R):null,config:Me.layoutShiftCompensation,initialRect:Ue,measure:H.draggable.measure});const ke=mT(ye,H.draggable.measure,Ue),En=mT(ye?ye.parentElement:null),zt=x.useRef({activatorEvent:null,active:null,activeNode:ye,collisionRect:null,collisions:null,droppableRects:ne,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),jn=V.getNodeFor((n=zt.current.over)==null?void 0:n.id),It=nV({measure:H.dragOverlay.measure}),ni=(s=It.nodeRef.current)!=null?s:ye,In=ce?(o=It.rect)!=null?o:ke:null,Hr=!!(It.nodeRef.current&&It.rect),qr=$k(Hr?null:ke),ft=$1(ni?zn(ni):null),it=Xk(ce?jn??ye:null),Bn=eV(it),Fr=cV(C,{transform:{x:D.x-qr.x,y:D.y-qr.y,scaleX:1,scaleY:1},activatorEvent:ae,active:N,activeNodeRect:ke,containerNodeRect:En,draggingNodeRect:In,over:zt.current.over,overlayNodeRect:It.rect,scrollableAncestors:it,scrollableAncestorRects:Bn,windowRect:ft}),Gs=De?Po(De,D):null,Yt=Wk(it),or=gT(Yt),Ks=gT(Yt,[ke]),ii=Po(Fr,or),Tn=In?_k(In,Fr):null,lr=N&&Tn?T({active:N,collisionRect:Tn,droppableRects:ne,droppableContainers:k,pointerCoordinates:Gs}):null,Ys=z1(lr,"id"),[Hn,Qs]=x.useState(null),qn=Hr?Fr:Po(Fr,Ks),jt=yk(qn,(u=Hn?.rect)!=null?u:null,ke),cn=x.useRef(null),dt=x.useCallback((Ve,mt)=>{let{sensor:pt,options:xt}=mt;if(Oe.current==null)return;const hn=A.get(Oe.current);if(!hn)return;const Qt=Ve.nativeEvent,bt=new pt({active:Oe.current,activeNode:hn,event:Qt,options:xt,context:zt,onAbort(St){if(!A.get(St))return;const{onDragAbort:dn}=Ae.current,bn={id:St};dn?.(bn),$({type:"onDragAbort",event:bn})},onPending(St,fn,dn,bn){if(!A.get(St))return;const{onDragPending:Sn}=Ae.current,Gn={id:St,constraint:fn,initialCoordinates:dn,offset:bn};Sn?.(Gn),$({type:"onDragPending",event:Gn})},onStart(St){const fn=Oe.current;if(fn==null)return;const dn=A.get(fn);if(!dn)return;const{onDragStart:bn}=Ae.current,Fn={activatorEvent:Qt,active:{id:fn,data:dn.data,rect:j}};iu.unstable_batchedUpdates(()=>{bn?.(Fn),he(Ss.Initializing),Y({type:Ht.DragStart,initialCoordinates:St,active:fn}),$({type:"onDragStart",event:Fn}),W(cn.current),pe(Qt)})},onMove(St){Y({type:Ht.DragMove,coordinates:St})},onEnd:xn(Ht.DragEnd),onCancel:xn(Ht.DragCancel)});cn.current=bt;function xn(St){return async function(){const{active:dn,collisions:bn,over:Fn,scrollAdjustedTranslate:Sn}=zt.current;let Gn=null;if(dn&&Sn){const{cancelDrop:en}=Ae.current;Gn={activatorEvent:Qt,active:dn,collisions:bn,delta:Sn,over:Fn},St===Ht.DragEnd&&typeof en=="function"&&await Promise.resolve(en(Gn))&&(St=Ht.DragCancel)}Oe.current=null,iu.unstable_batchedUpdates(()=>{Y({type:St}),he(Ss.Uninitialized),Qs(null),W(null),pe(null),cn.current=null;const en=St===Ht.DragEnd?"onDragEnd":"onDragCancel";if(Gn){const wn=Ae.current[en];wn?.(Gn),$({type:en,event:Gn})}})}}},[A]),Pa=x.useCallback((Ve,mt)=>(pt,xt)=>{const hn=pt.nativeEvent,Qt=A.get(xt);if(Oe.current!==null||!Qt||hn.dndKit||hn.defaultPrevented)return;const bt={active:Qt};Ve(pt,mt.options,bt)===!0&&(hn.dndKit={capturedBy:mt.sensor},Oe.current=xt,dt(pt,mt))},[A,dt]),ur=Fk(_,Pa);Jk(_),ar(()=>{ke&&se===Ss.Initializing&&he(Ss.Initialized)},[ke,se]),x.useEffect(()=>{const{onDragMove:Ve}=Ae.current,{active:mt,activatorEvent:pt,collisions:xt,over:hn}=zt.current;if(!mt||!pt)return;const Qt={active:mt,activatorEvent:pt,collisions:xt,delta:{x:ii.x,y:ii.y},over:hn};iu.unstable_batchedUpdates(()=>{Ve?.(Qt),$({type:"onDragMove",event:Qt})})},[ii.x,ii.y]),x.useEffect(()=>{const{active:Ve,activatorEvent:mt,collisions:pt,droppableContainers:xt,scrollAdjustedTranslate:hn}=zt.current;if(!Ve||Oe.current==null||!mt||!hn)return;const{onDragOver:Qt}=Ae.current,bt=xt.get(Ys),xn=bt&&bt.rect.current?{id:bt.id,rect:bt.rect.current,data:bt.data,disabled:bt.disabled}:null,St={active:Ve,activatorEvent:mt,collisions:pt,delta:{x:hn.x,y:hn.y},over:xn};iu.unstable_batchedUpdates(()=>{Qs(xn),Qt?.(St),$({type:"onDragOver",event:St})})},[Ys]),ar(()=>{zt.current={activatorEvent:ae,active:N,activeNode:ye,collisionRect:Tn,collisions:lr,droppableRects:ne,draggableNodes:A,draggingNode:ni,draggingNodeRect:In,droppableContainers:V,over:Hn,scrollableAncestors:it,scrollAdjustedTranslate:ii},j.current={initial:In,translated:Tn}},[N,ye,lr,Tn,A,ni,In,ne,V,Hn,it,ii]),jk({...Me,delta:D,draggingRect:Tn,pointerCoordinates:Gs,scrollableAncestors:it,scrollableAncestorRects:Bn});const Ua=x.useMemo(()=>({active:N,activeNode:ye,activeNodeRect:ke,activatorEvent:ae,collisions:lr,containerNodeRect:En,dragOverlay:It,draggableNodes:A,droppableContainers:V,droppableRects:ne,over:Hn,measureDroppableContainers:le,scrollableAncestors:it,scrollableAncestorRects:Bn,measuringConfiguration:H,measuringScheduled:_e,windowRect:ft}),[N,ye,ke,ae,lr,En,It,A,V,ne,Hn,le,it,Bn,H,_e,ft]),ri=x.useMemo(()=>({activatorEvent:ae,activators:ur,active:N,activeNodeRect:ke,ariaDescribedById:{draggable:ue},dispatch:Y,draggableNodes:A,over:Hn,measureDroppableContainers:le}),[ae,ur,N,ke,Y,ue,A,Hn,le]);return Cn.createElement(L1.Provider,{value:J},Cn.createElement(Hf.Provider,{value:ri},Cn.createElement(X1.Provider,{value:Ua},Cn.createElement(W1.Provider,{value:jt},g)),Cn.createElement(uV,{disabled:m?.restoreFocus===!1})),Cn.createElement(ck,{...m,hiddenTextDescribedById:ue}));function cr(){const Ve=nt?.autoScrollEnabled===!1,mt=typeof p=="object"?p.enabled===!1:p===!1,pt=ce&&!Ve&&!mt;return typeof p=="object"?{...p,enabled:pt}:{enabled:pt}}}),mV=x.createContext(null),vT="button",pV="Draggable";function gV(i){let{id:e,data:n,disabled:s=!1,attributes:o}=i;const u=ec(pV),{activators:c,activatorEvent:m,active:p,activeNodeRect:g,ariaDescribedById:_,draggableNodes:T,over:S}=x.useContext(Hf),{role:C=vT,roleDescription:L="draggable",tabIndex:P=0}=o??{},z=p?.id===e,Y=x.useContext(z?W1:mV),[$,J]=mf(),[se,he]=mf(),ce=Zk(c,e),R=Ou(n);ar(()=>(T.set(e,{id:e,key:u,node:$,activatorNode:se,data:R}),()=>{const D=T.get(e);D&&D.key===u&&T.delete(e)}),[T,e]);const A=x.useMemo(()=>({role:C,tabIndex:P,"aria-disabled":s,"aria-pressed":z&&C===vT?!0:void 0,"aria-roledescription":L,"aria-describedby":_.draggable}),[s,C,P,z,L,_.draggable]);return{active:p,activatorEvent:m,activeNodeRect:g,attributes:A,isDragging:z,listeners:s?void 0:ce,node:$,over:S,setNodeRef:J,setActivatorNodeRef:he,transform:Y}}function yV(){return x.useContext(X1)}const vV="Droppable",_V={timeout:25};function EV(i){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:o}=i;const u=ec(vV),{active:c,dispatch:m,over:p,measureDroppableContainers:g}=x.useContext(Hf),_=x.useRef({disabled:n}),T=x.useRef(!1),S=x.useRef(null),C=x.useRef(null),{disabled:L,updateMeasurementsFor:P,timeout:z}={..._V,...o},Y=Ou(P??s),$=x.useCallback(()=>{if(!T.current){T.current=!0;return}C.current!=null&&clearTimeout(C.current),C.current=setTimeout(()=>{g(Array.isArray(Y.current)?Y.current:[Y.current]),C.current=null},z)},[z]),J=Bf({callback:$,disabled:L||!c}),se=x.useCallback((A,D)=>{J&&(D&&(J.unobserve(D),T.current=!1),A&&J.observe(A))},[J]),[he,ce]=mf(se),R=Ou(e);return x.useEffect(()=>{!J||!he.current||(J.disconnect(),T.current=!1,J.observe(he.current))},[he,J]),x.useEffect(()=>(m({type:Ht.RegisterDroppable,element:{id:s,key:u,disabled:n,node:he,rect:S,data:R}}),()=>m({type:Ht.UnregisterDroppable,key:u,id:s})),[s]),x.useEffect(()=>{n!==_.current.disabled&&(m({type:Ht.SetDroppableDisabled,id:s,key:u,disabled:n}),_.current.disabled=n)},[s,u,n,m]),{active:c,rect:S,isOver:p?.id===s,node:he,over:p,setNodeRef:ce}}function Fg(i,e,n){const s=i.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function TV(i,e){return i.reduce((n,s,o)=>{const u=e.get(s);return u&&(n[o]=u),n},Array(i.length))}function Dh(i){return i!==null&&i>=0}function bV(i,e){if(i===e)return!0;if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++)if(i[n]!==e[n])return!1;return!0}function SV(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const J1=i=>{let{rects:e,activeIndex:n,overIndex:s,index:o}=i;const u=Fg(e,s,n),c=e[o],m=u[o];return!m||!c?null:{x:m.left-c.left,y:m.top-c.top,scaleX:m.width/c.width,scaleY:m.height/c.height}},Nh={scaleX:1,scaleY:1},wV=i=>{var e;let{activeIndex:n,activeNodeRect:s,index:o,rects:u,overIndex:c}=i;const m=(e=u[n])!=null?e:s;if(!m)return null;if(o===n){const g=u[c];return g?{x:0,y:n<c?g.top+g.height-(m.top+m.height):g.top-m.top,...Nh}:null}const p=AV(u,o,n);return o>n&&o<=c?{x:0,y:-m.height-p,...Nh}:o<n&&o>=c?{x:0,y:m.height+p,...Nh}:{x:0,y:0,...Nh}};function AV(i,e,n){const s=i[e],o=i[e-1],u=i[e+1];return s?n<e?o?s.top-(o.top+o.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const Z1="Sortable",ew=Cn.createContext({activeIndex:-1,containerId:Z1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:J1,disabled:{draggable:!1,droppable:!1}});function RV(i){let{children:e,id:n,items:s,strategy:o=J1,disabled:u=!1}=i;const{active:c,dragOverlay:m,droppableRects:p,over:g,measureDroppableContainers:_}=yV(),T=ec(Z1,n),S=m.rect!==null,C=x.useMemo(()=>s.map(ce=>typeof ce=="object"&&"id"in ce?ce.id:ce),[s]),L=c!=null,P=c?C.indexOf(c.id):-1,z=g?C.indexOf(g.id):-1,Y=x.useRef(C),$=!bV(C,Y.current),J=z!==-1&&P===-1||$,se=SV(u);ar(()=>{$&&L&&_(C)},[$,C,L,_]),x.useEffect(()=>{Y.current=C},[C]);const he=x.useMemo(()=>({activeIndex:P,containerId:T,disabled:se,disableTransforms:J,items:C,overIndex:z,useDragOverlay:S,sortedRects:TV(C,p),strategy:o}),[P,T,se.draggable,se.droppable,J,C,z,p,S,o]);return Cn.createElement(ew.Provider,{value:he},e)}const CV=i=>{let{id:e,items:n,activeIndex:s,overIndex:o}=i;return Fg(n,s,o).indexOf(e)},IV=i=>{let{containerId:e,isSorting:n,wasDragging:s,index:o,items:u,newIndex:c,previousItems:m,previousContainerId:p,transition:g}=i;return!g||!s||m!==u&&o===c?!1:n?!0:c!==o&&e===p},xV={duration:200,easing:"ease"},tw="transform",DV=ku.Transition.toString({property:tw,duration:0,easing:"linear"}),NV={roleDescription:"sortable"};function OV(i){let{disabled:e,index:n,node:s,rect:o}=i;const[u,c]=x.useState(null),m=x.useRef(n);return ar(()=>{if(!e&&n!==m.current&&s.current){const p=o.current;if(p){const g=tl(s.current,{ignoreTransform:!0}),_={x:p.left-g.left,y:p.top-g.top,scaleX:p.width/g.width,scaleY:p.height/g.height};(_.x||_.y)&&c(_)}}n!==m.current&&(m.current=n)},[e,n,s,o]),x.useEffect(()=>{u&&c(null)},[u]),u}function MV(i){let{animateLayoutChanges:e=IV,attributes:n,disabled:s,data:o,getNewIndex:u=CV,id:c,strategy:m,resizeObserverConfig:p,transition:g=xV}=i;const{items:_,containerId:T,activeIndex:S,disabled:C,disableTransforms:L,sortedRects:P,overIndex:z,useDragOverlay:Y,strategy:$}=x.useContext(ew),J=kV(s,C),se=_.indexOf(c),he=x.useMemo(()=>({sortable:{containerId:T,index:se,items:_},...o}),[T,o,se,_]),ce=x.useMemo(()=>_.slice(_.indexOf(c)),[_,c]),{rect:R,node:A,isOver:D,setNodeRef:V}=EV({id:c,data:he,disabled:J.droppable,resizeObserverConfig:{updateMeasurementsFor:ce,...p}}),{active:O,activatorEvent:j,activeNodeRect:N,attributes:Oe,setNodeRef:nt,listeners:W,isDragging:ae,over:pe,setActivatorNodeRef:Ae,transform:ue}=gV({id:c,data:he,attributes:{...NV,...n},disabled:J.draggable}),k=W4(V,nt),H=!!O,ne=H&&!L&&Dh(S)&&Dh(z),le=!Y&&ae,_e=le&&ne?ue:null,De=ne?_e??(m??$)({rects:P,activeNodeRect:N,activeIndex:S,overIndex:z,index:se}):null,Me=Dh(S)&&Dh(z)?u({id:c,items:_,activeIndex:S,overIndex:z}):se,Ue=O?.id,ke=x.useRef({activeId:Ue,items:_,newIndex:Me,containerId:T}),En=_!==ke.current.items,zt=e({active:O,containerId:T,isDragging:ae,isSorting:H,id:c,index:se,items:_,newIndex:ke.current.newIndex,previousItems:ke.current.items,previousContainerId:ke.current.containerId,transition:g,wasDragging:ke.current.activeId!=null}),jn=OV({disabled:!zt,index:se,node:A,rect:R});return x.useEffect(()=>{H&&ke.current.newIndex!==Me&&(ke.current.newIndex=Me),T!==ke.current.containerId&&(ke.current.containerId=T),_!==ke.current.items&&(ke.current.items=_)},[H,Me,T,_]),x.useEffect(()=>{if(Ue===ke.current.activeId)return;if(Ue!=null&&ke.current.activeId==null){ke.current.activeId=Ue;return}const ni=setTimeout(()=>{ke.current.activeId=Ue},50);return()=>clearTimeout(ni)},[Ue]),{active:O,activeIndex:S,attributes:Oe,data:he,rect:R,index:se,newIndex:Me,items:_,isOver:D,isSorting:H,isDragging:ae,listeners:W,node:A,overIndex:z,over:pe,setNodeRef:k,setActivatorNodeRef:Ae,setDroppableNodeRef:V,setDraggableNodeRef:nt,transform:jn??De,transition:It()};function It(){if(jn||En&&ke.current.newIndex===se)return DV;if(!(le&&!zg(j)||!g)&&(H||zt))return ku.Transition.toString({...g,property:tw})}}function kV(i,e){var n,s;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(n=i?.draggable)!=null?n:e.draggable,droppable:(s=i?.droppable)!=null?s:e.droppable}}function yf(i){if(!i)return!1;const e=i.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const VV=[Ge.Down,Ge.Right,Ge.Up,Ge.Left],LV=(i,e)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:u,over:c,scrollableAncestors:m}}=e;if(VV.includes(i.code)){if(i.preventDefault(),!n||!s)return;const p=[];u.getEnabled().forEach(T=>{if(!T||T!=null&&T.disabled)return;const S=o.get(T.id);if(S)switch(i.code){case Ge.Down:s.top<S.top&&p.push(T);break;case Ge.Up:s.top>S.top&&p.push(T);break;case Ge.Left:s.left>S.left&&p.push(T);break;case Ge.Right:s.left<S.left&&p.push(T);break}});const g=mk({collisionRect:s,droppableRects:o,droppableContainers:p});let _=z1(g,"id");if(_===c?.id&&g.length>1&&(_=g[1].id),_!=null){const T=u.get(n.id),S=u.get(_),C=S?o.get(S.id):null,L=S?.node.current;if(L&&C&&T&&S){const z=jf(L).some((ce,R)=>m[R]!==ce),Y=nw(T,S),$=PV(T,S),J=z||!Y?{x:0,y:0}:{x:$?s.width-C.width:0,y:$?s.height-C.height:0},se={x:C.left,y:C.top};return J.x&&J.y?se:Mu(se,J)}}}};function nw(i,e){return!yf(i)||!yf(e)?!1:i.data.current.sortable.containerId===e.data.current.sortable.containerId}function PV(i,e){return!yf(i)||!yf(e)||!nw(i,e)?!1:i.data.current.sortable.index<e.data.current.sortable.index}const iw=i=>{if(!i)return{label:"detail",icon:I.jsx(NE,{size:10}),class:"badge-detail"};const e=i.toLowerCase();return e.includes("where")||e.includes("place")?{label:"location",icon:I.jsx(oI,{size:10}),class:"badge-zinc"}:e.includes("who")?{label:"character",icon:I.jsx(ab,{size:10}),class:"badge-zinc"}:e.includes("what")&&(e.includes("eat")||e.includes("food"))?{label:"food",icon:I.jsx(II,{size:10}),class:"badge-zinc"}:e.includes("when")||e.includes("time")?{label:"time",icon:I.jsx(UC,{size:10}),class:"badge-zinc"}:{label:"detail",icon:I.jsx(NE,{size:10}),class:"badge-detail"}};function UV({id:i,q:e,index:n,isScaffolded:s,onEdit:o,onDelete:u}){const{attributes:c,listeners:m,setNodeRef:p,transform:g,transition:_,isDragging:T}=MV({id:i}),S={transform:ku.Transform.toString(g),transition:_,marginBottom:"30px",position:"relative",opacity:T?.5:1,touchAction:"none"},C=iw(e.question_text);return I.jsxs("div",{ref:p,style:S,className:"sortable-item",children:[I.jsxs("div",{className:"drag-controls",style:{position:"absolute",left:"-40px",top:"0",display:"flex",flexDirection:"column",gap:"8px",opacity:.4,transition:"opacity 0.2s",height:"100%"},children:[I.jsx("div",{...c,...m,style:{cursor:"grab",padding:"4px"},title:"Drag to reorder",children:I.jsx(FC,{size:20})}),I.jsx("button",{onClick:()=>u(n),style:{border:"none",background:"transparent",cursor:"pointer",padding:"4px"},title:"Delete Question",children:I.jsx(up,{size:18,color:"#ef4444"})})]}),I.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:I.jsxs("span",{className:C.class,children:[C.icon," ",C.label]})}),I.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px",alignItems:"flex-start"},children:[I.jsx("span",{style:{color:"var(--slate-300)",fontSize:"1rem",fontWeight:"600",flexShrink:0,marginTop:"8px"},children:n+1}),I.jsx("textarea",{rows:1,value:e.question_text||"",onChange:L=>o(n,"question_text",L.target.value),placeholder:"Enter question...",style:{fontSize:"1.1rem",fontWeight:"500",lineHeight:"1.5",color:"var(--slate-900)",width:"100%",border:"1px solid transparent",background:"transparent",padding:"6px",borderRadius:"6px",fontFamily:"inherit",resize:"none",overflow:"hidden",minHeight:"38px"},onFocus:L=>{L.target.style.border="1px solid var(--slate-300)",L.target.style.background="white"},onBlur:L=>{L.target.style.border="1px solid transparent",L.target.style.background="transparent"},className:"editable-textarea"})]}),I.jsx("div",{style:{paddingLeft:"24px"},children:e.options?I.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"8px"},children:e.options.map((L,P)=>I.jsxs("div",{style:{padding:"6px 12px",border:"1px solid var(--slate-100)",borderRadius:"6px",fontSize:"0.9rem",color:"var(--slate-600)",display:"flex",gap:"12px",alignItems:"center"},children:[I.jsx("div",{style:{width:"14px",height:"14px",border:"1px solid var(--slate-300)",borderRadius:"50%",flexShrink:0}}),I.jsx("input",{type:"text",value:L||"",onChange:z=>{const Y=[...e.options];Y[P]=z.target.value,o(n,"options",Y)},placeholder:`Option ${P+1}`,style:{width:"100%",border:"none",background:"transparent",outline:"none",color:"inherit",fontSize:"inherit",fontFamily:"inherit"}})]},P))}):I.jsx("div",{style:{borderBottom:"1px solid var(--slate-100)",height:"30px",width:"100%"}})}),e.hint&&s&&I.jsxs("div",{style:{marginTop:"12px",marginLeft:"24px",color:"#d97706",fontSize:"0.8rem",display:"flex",gap:"6px",alignItems:"center"},children:[I.jsx(SI,{size:12}),I.jsx("input",{type:"text",value:e.hint||"",onChange:L=>o(n,"hint",L.target.value),style:{border:"none",background:"transparent",outline:"none",color:"#d97706",fontStyle:"italic",width:"100%"}})]})]})}function zV({activity:i,mascotUrl:e,isScaffolded:n,onDownload:s,onUpdate:o,onSave:u}){x.useEffect(()=>{if(i?.student_worksheet?.questions&&i.student_worksheet.questions.some(P=>!P.uid)){const P=i.student_worksheet.questions.map(z=>({...z,uid:z.uid||Math.random().toString(36).substr(2,9)}));o({...i,student_worksheet:{...i.student_worksheet,questions:P}})}},[i,o]);const c=hk(aT(qg),aT(Bg,{coordinateGetter:LV})),m=L=>{const{active:P,over:z}=L;if(P.id!==z.id){const Y=i.student_worksheet.questions.findIndex(se=>se.uid===P.id),$=i.student_worksheet.questions.findIndex(se=>se.uid===z.id),J=Fg(i.student_worksheet.questions,Y,$);o({...i,student_worksheet:{...i.student_worksheet,questions:J}})}},p=(L,P,z)=>{const Y=[...i.student_worksheet.questions];Y[L]={...Y[L],[P]:z},o({...i,student_worksheet:{...i.student_worksheet,questions:Y}})},g=L=>{if(confirm("Delete this question?")){const P=i.student_worksheet.questions.filter((z,Y)=>Y!==L);o({...i,student_worksheet:{...i.student_worksheet,questions:P}})}},_=(L,P)=>{L==="instructions"?o({...i,student_worksheet:{...i.student_worksheet,instructions:P}}):L==="title"&&o({...i,title:P})},T=()=>{if(u){u(i);const L=document.getElementById("save-btn");if(L){const P=L.innerHTML;L.innerHTML="Saved!",setTimeout(()=>L.innerHTML=P,2e3)}}};if(!i)return I.jsx("div",{className:"preview-panel",children:I.jsxs("div",{className:"flex-column-center",style:{height:"100%",opacity:.6,color:"var(--slate-400)"},children:[I.jsx("div",{className:"flex-column-center shadow-soft",style:{background:"white",padding:"30px",borderRadius:"50%",marginBottom:"20px",boxShadow:"var(--shadow-md)"},children:I.jsx(sb,{size:48,strokeWidth:1,color:"var(--slate-900)"})}),I.jsx("h3",{style:{fontSize:"1.2rem",color:"var(--slate-900)",marginBottom:"8px",fontWeight:600},children:"Start Your Blueprint"}),I.jsx("p",{style:{maxWidth:"300px",textAlign:"center",fontSize:"0.9rem"},children:"Configure the material parameters and click Generate to construct a new material plan."})]})});const S=i.student_worksheet?.questions||[];return S.every(L=>L.uid)?I.jsx("div",{className:"preview-panel",children:I.jsxs("div",{className:"paper",children:[I.jsx("div",{style:{marginBottom:"40px",borderBottom:"1px solid var(--slate-200)",paddingBottom:"20px"},children:I.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[I.jsxs("div",{style:{flex:1,paddingRight:"20px"},children:[I.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",width:"100%",gap:"20px"},children:[I.jsx("input",{type:"text",value:i.title||"",onChange:L=>_("title",L.target.value),style:{margin:0,fontSize:"2rem",letterSpacing:"-0.03em",lineHeight:"1.2",width:"100%",border:"none",background:"transparent",fontWeight:700,fontFamily:"inherit",outline:"none"},className:"editable-title"}),I.jsxs("button",{id:"save-btn",onClick:T,className:"download-btn",style:{background:"var(--slate-800)",border:"1px solid var(--slate-900)",color:"white",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.85rem",fontWeight:500,flexShrink:0,boxShadow:"var(--shadow-sm)",marginTop:"4px"},title:"Save Changes",children:[I.jsx(cI,{size:16})," ",I.jsx("span",{children:"Save"})]}),I.jsxs("button",{onClick:s,className:"download-btn",style:{background:"white",border:"1px solid var(--slate-200)",color:"var(--slate-950)",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.85rem",fontWeight:500,flexShrink:0,boxShadow:"var(--shadow-sm)",marginTop:"4px"},title:"Export as PDF",children:[I.jsx(HC,{size:16})," ",I.jsx("span",{children:"PDF"})]})]}),I.jsxs("div",{style:{marginTop:"10px",display:"flex",gap:"10px",color:"var(--slate-500)",fontSize:"0.8rem",fontWeight:600},children:[I.jsx("span",{style:{border:"1px solid var(--slate-200)",padding:"2px 8px",borderRadius:"4px"},children:i.meta?.level}),I.jsx("span",{style:{border:"1px solid var(--slate-200)",padding:"2px 8px",borderRadius:"4px"},children:i.meta?.type?.toUpperCase()})]})]}),e&&I.jsx("img",{src:e,alt:"Material Mascot",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"8px",filter:"grayscale(100%)"}})]})}),I.jsxs("div",{style:{marginBottom:"30px"},children:[I.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"var(--slate-400)",marginBottom:"8px",textTransform:"uppercase"},children:"Instructions"}),I.jsx("textarea",{value:i.student_worksheet?.instructions||"",onChange:L=>_("instructions",L.target.value),style:{fontSize:"0.95rem",lineHeight:"1.6",width:"100%",border:"1px solid transparent",background:"transparent",borderRadius:"4px",resize:"vertical",fontFamily:"inherit",padding:"4px"},onFocus:L=>{L.target.style.border="1px solid var(--slate-300)",L.target.style.background="white"},onBlur:L=>{L.target.style.border="1px solid transparent",L.target.style.background="transparent"}})]}),I.jsx("div",{className:"questions-list",children:I.jsx(dV,{sensors:c,collisionDetection:dk,onDragEnd:m,children:I.jsx(RV,{items:S.map(L=>L.uid),strategy:wV,children:S.map((L,P)=>I.jsx(UV,{id:L.uid,q:L,index:P,isScaffolded:n,onEdit:p,onDelete:g,getCategoryBadge:iw},L.uid))})})}),i.student_worksheet?.glossary&&i.student_worksheet.glossary.length>0&&I.jsxs("div",{style:{marginTop:"40px",paddingTop:"20px",borderTop:"1px solid var(--slate-100)"},children:[I.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"var(--slate-400)",marginBottom:"15px",textTransform:"uppercase"},children:"Key Vocabulary"}),I.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:i.student_worksheet.glossary.map((L,P)=>I.jsxs("div",{style:{background:"var(--slate-50)",padding:"15px",borderRadius:"8px",border:"1px solid var(--slate-100)"},children:[I.jsx("input",{type:"text",value:L.word||"",onChange:z=>{const Y=[...i.student_worksheet.glossary];Y[P]={...Y[P],word:z.target.value},o({...i,student_worksheet:{...i.student_worksheet,glossary:Y}})},style:{fontWeight:"700",fontSize:"0.95rem",color:"var(--slate-900)",marginBottom:"4px",width:"100%",background:"transparent",border:"none",outline:"none"},placeholder:"Word"}),I.jsx("textarea",{rows:2,value:L.definition||"",onChange:z=>{const Y=[...i.student_worksheet.glossary];Y[P]={...Y[P],definition:z.target.value},o({...i,student_worksheet:{...i.student_worksheet,glossary:Y}})},style:{fontSize:"0.9rem",color:"var(--slate-600)",lineHeight:"1.4",width:"100%",background:"transparent",border:"none",outline:"none",resize:"none",fontFamily:"inherit"},placeholder:"Definition"})]},P))})]})]},i.id)}):I.jsx("div",{className:"preview-panel",children:I.jsx("div",{className:"flex-column-center",style:{height:"100%"},children:I.jsx("div",{className:"animate-spin",style:{width:"24px",height:"24px",border:"2px solid var(--slate-200)",borderTopColor:"var(--slate-600)",borderRadius:"50%"}})})})}var _T;(function(i){i.STRING="string",i.NUMBER="number",i.INTEGER="integer",i.BOOLEAN="boolean",i.ARRAY="array",i.OBJECT="object"})(_T||(_T={}));var ET;(function(i){i.LANGUAGE_UNSPECIFIED="language_unspecified",i.PYTHON="python"})(ET||(ET={}));var TT;(function(i){i.OUTCOME_UNSPECIFIED="outcome_unspecified",i.OUTCOME_OK="outcome_ok",i.OUTCOME_FAILED="outcome_failed",i.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(TT||(TT={}));const bT=["user","model","function","system"];var ST;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(ST||(ST={}));var wT;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(wT||(wT={}));var AT;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(AT||(AT={}));var RT;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER"})(RT||(RT={}));var _u;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.OTHER="OTHER"})(_u||(_u={}));var CT;(function(i){i.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",i.RETRIEVAL_QUERY="RETRIEVAL_QUERY",i.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",i.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",i.CLASSIFICATION="CLASSIFICATION",i.CLUSTERING="CLUSTERING"})(CT||(CT={}));var IT;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(IT||(IT={}));var xT;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(xT||(xT={}));class vn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class Co extends vn{constructor(e,n){super(e),this.response=n}}class rw extends vn{constructor(e,n,s,o){super(e),this.status=n,this.statusText=s,this.errorDetails=o}}class Vs extends vn{}class sw extends vn{}const jV="https://generativelanguage.googleapis.com",BV="v1beta",HV="0.24.1",qV="genai-js";var Na;(function(i){i.GENERATE_CONTENT="generateContent",i.STREAM_GENERATE_CONTENT="streamGenerateContent",i.COUNT_TOKENS="countTokens",i.EMBED_CONTENT="embedContent",i.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Na||(Na={}));class FV{constructor(e,n,s,o,u){this.model=e,this.task=n,this.apiKey=s,this.stream=o,this.requestOptions=u}toString(){var e,n;const s=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||BV;let u=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||jV}/${s}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function GV(i){const e=[];return i?.apiClient&&e.push(i.apiClient),e.push(`${qV}/${HV}`),e.join(" ")}async function KV(i){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",GV(i.requestOptions)),n.append("x-goog-api-key",i.apiKey);let s=(e=i.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(o){throw new Vs(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${o.message}`)}for(const[o,u]of s.entries()){if(o==="x-goog-api-key")throw new Vs(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new Vs(`Header name ${o} can only be set using the apiClient field`);n.append(o,u)}}return n}async function YV(i,e,n,s,o,u){const c=new FV(i,e,n,s,u);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},WV(u)),{method:"POST",headers:await KV(c),body:o})}}async function tc(i,e,n,s,o,u={},c=fetch){const{url:m,fetchOptions:p}=await YV(i,e,n,s,o,u);return QV(m,p,c)}async function QV(i,e,n=fetch){let s;try{s=await n(i,e)}catch(o){$V(o,i)}return s.ok||await XV(s,i),s}function $V(i,e){let n=i;throw n.name==="AbortError"?(n=new sw(`Request aborted when fetching ${e.toString()}: ${i.message}`),n.stack=i.stack):i instanceof rw||i instanceof Vs||(n=new vn(`Error fetching from ${e.toString()}: ${i.message}`),n.stack=i.stack),n}async function XV(i,e){let n="",s;try{const o=await i.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,s=o.error.details)}catch{}throw new rw(`Error fetching from ${e.toString()}: [${i.status} ${i.statusText}] ${n}`,i.status,i.statusText,s)}function WV(i){const e={};if(i?.signal!==void 0||i?.timeout>=0){const n=new AbortController;i?.timeout>=0&&setTimeout(()=>n.abort(),i.timeout),i?.signal&&i.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function Gg(i){return i.text=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Gh(i.candidates[0]))throw new Co(`${ws(i)}`,i);return JV(i)}else if(i.promptFeedback)throw new Co(`Text not available. ${ws(i)}`,i);return""},i.functionCall=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Gh(i.candidates[0]))throw new Co(`${ws(i)}`,i);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),DT(i)[0]}else if(i.promptFeedback)throw new Co(`Function call not available. ${ws(i)}`,i)},i.functionCalls=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Gh(i.candidates[0]))throw new Co(`${ws(i)}`,i);return DT(i)}else if(i.promptFeedback)throw new Co(`Function call not available. ${ws(i)}`,i)},i}function JV(i){var e,n,s,o;const u=[];if(!((n=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const c of(o=(s=i.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)c.text&&u.push(c.text),c.executableCode&&u.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&u.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function DT(i){var e,n,s,o;const u=[];if(!((n=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const c of(o=(s=i.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)c.functionCall&&u.push(c.functionCall);if(u.length>0)return u}const ZV=[_u.RECITATION,_u.SAFETY,_u.LANGUAGE];function Gh(i){return!!i.finishReason&&ZV.includes(i.finishReason)}function ws(i){var e,n,s;let o="";if((!i.candidates||i.candidates.length===0)&&i.promptFeedback)o+="Response was blocked",!((e=i.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${i.promptFeedback.blockReason}`),!((n=i.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${i.promptFeedback.blockReasonMessage}`);else if(!((s=i.candidates)===null||s===void 0)&&s[0]){const u=i.candidates[0];Gh(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function Lu(i){return this instanceof Lu?(this.v=i,this):new Lu(i)}function e3(i,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(i,e||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(S){s[S]&&(o[S]=function(C){return new Promise(function(L,P){u.push([S,C,L,P])>1||m(S,C)})})}function m(S,C){try{p(s[S](C))}catch(L){T(u[0][3],L)}}function p(S){S.value instanceof Lu?Promise.resolve(S.value.v).then(g,_):T(u[0][2],S)}function g(S){m("next",S)}function _(S){m("throw",S)}function T(S,C){S(C),u.shift(),u.length&&m(u[0][0],u[0][1])}}const NT=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function t3(i){const e=i.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=r3(e),[s,o]=n.tee();return{stream:i3(s),response:n3(o)}}async function n3(i){const e=[],n=i.getReader();for(;;){const{done:s,value:o}=await n.read();if(s)return Gg(s3(e));e.push(o)}}function i3(i){return e3(this,arguments,function*(){const n=i.getReader();for(;;){const{value:s,done:o}=yield Lu(n.read());if(o)break;yield yield Lu(Gg(s))}})}function r3(i){const e=i.getReader();return new ReadableStream({start(s){let o="";return u();function u(){return e.read().then(({value:c,done:m})=>{if(m){if(o.trim()){s.error(new vn("Failed to parse stream"));return}s.close();return}o+=c;let p=o.match(NT),g;for(;p;){try{g=JSON.parse(p[1])}catch{s.error(new vn(`Error parsing JSON response: "${p[1]}"`));return}s.enqueue(g),o=o.substring(p[0].length),p=o.match(NT)}return u()}).catch(c=>{let m=c;throw m.stack=c.stack,m.name==="AbortError"?m=new sw("Request aborted when reading from the stream"):m=new vn("Error reading from the stream"),m})}}})}function s3(i){const e=i[i.length-1],n={promptFeedback:e?.promptFeedback};for(const s of i){if(s.candidates){let o=0;for(const u of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=u.citationMetadata,n.candidates[o].groundingMetadata=u.groundingMetadata,n.candidates[o].finishReason=u.finishReason,n.candidates[o].finishMessage=u.finishMessage,n.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){n.candidates[o].content||(n.candidates[o].content={role:u.content.role||"user",parts:[]});const c={};for(const m of u.content.parts)m.text&&(c.text=m.text),m.functionCall&&(c.functionCall=m.functionCall),m.executableCode&&(c.executableCode=m.executableCode),m.codeExecutionResult&&(c.codeExecutionResult=m.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),n.candidates[o].content.parts.push(c)}o++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}async function aw(i,e,n,s){const o=await tc(e,Na.STREAM_GENERATE_CONTENT,i,!0,JSON.stringify(n),s);return t3(o)}async function ow(i,e,n,s){const u=await(await tc(e,Na.GENERATE_CONTENT,i,!1,JSON.stringify(n),s)).json();return{response:Gg(u)}}function lw(i){if(i!=null){if(typeof i=="string")return{role:"system",parts:[{text:i}]};if(i.text)return{role:"system",parts:[i]};if(i.parts)return i.role?i:{role:"system",parts:i.parts}}}function Pu(i){let e=[];if(typeof i=="string")e=[{text:i}];else for(const n of i)typeof n=="string"?e.push({text:n}):e.push(n);return a3(e)}function a3(i){const e={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,o=!1;for(const u of i)"functionResponse"in u?(n.parts.push(u),o=!0):(e.parts.push(u),s=!0);if(s&&o)throw new vn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!o)throw new vn("No content is provided for sending chat message.");return s?e:n}function o3(i,e){var n;let s={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=i.generateContentRequest!=null;if(i.contents){if(o)throw new Vs("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=i.contents}else if(o)s=Object.assign(Object.assign({},s),i.generateContentRequest);else{const u=Pu(i);s.contents=[u]}return{generateContentRequest:s}}function OT(i){let e;return i.contents?e=i:e={contents:[Pu(i)]},i.systemInstruction&&(e.systemInstruction=lw(i.systemInstruction)),e}function l3(i){return typeof i=="string"||Array.isArray(i)?{content:Pu(i)}:i}const MT=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],u3={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function c3(i){let e=!1;for(const n of i){const{role:s,parts:o}=n;if(!e&&s!=="user")throw new vn(`First content should be with role 'user', got ${s}`);if(!bT.includes(s))throw new vn(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(bT)}`);if(!Array.isArray(o))throw new vn("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new vn("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const m of o)for(const p of MT)p in m&&(u[p]+=1);const c=u3[s];for(const m of MT)if(!c.includes(m)&&u[m]>0)throw new vn(`Content with role '${s}' can't contain '${m}' part`);e=!0}}function kT(i){var e;if(i.candidates===void 0||i.candidates.length===0)return!1;const n=(e=i.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}const VT="SILENT_ERROR";class h3{constructor(e,n,s,o={}){this.model=n,this.params=s,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,s?.history&&(c3(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var s,o,u,c,m,p;await this._sendPromise;const g=Pu(e),_={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},T=Object.assign(Object.assign({},this._requestOptions),n);let S;return this._sendPromise=this._sendPromise.then(()=>ow(this._apiKey,this.model,_,T)).then(C=>{var L;if(kT(C.response)){this._history.push(g);const P=Object.assign({parts:[],role:"model"},(L=C.response.candidates)===null||L===void 0?void 0:L[0].content);this._history.push(P)}else{const P=ws(C.response);P&&console.warn(`sendMessage() was unsuccessful. ${P}. Inspect response object for details.`)}S=C}).catch(C=>{throw this._sendPromise=Promise.resolve(),C}),await this._sendPromise,S}async sendMessageStream(e,n={}){var s,o,u,c,m,p;await this._sendPromise;const g=Pu(e),_={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},T=Object.assign(Object.assign({},this._requestOptions),n),S=aw(this._apiKey,this.model,_,T);return this._sendPromise=this._sendPromise.then(()=>S).catch(C=>{throw new Error(VT)}).then(C=>C.response).then(C=>{if(kT(C)){this._history.push(g);const L=Object.assign({},C.candidates[0].content);L.role||(L.role="model"),this._history.push(L)}else{const L=ws(C);L&&console.warn(`sendMessageStream() was unsuccessful. ${L}. Inspect response object for details.`)}}).catch(C=>{C.message!==VT&&console.error(C)}),S}}async function f3(i,e,n,s){return(await tc(e,Na.COUNT_TOKENS,i,!1,JSON.stringify(n),s)).json()}async function d3(i,e,n,s){return(await tc(e,Na.EMBED_CONTENT,i,!1,JSON.stringify(n),s)).json()}async function m3(i,e,n,s){const o=n.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await tc(e,Na.BATCH_EMBED_CONTENTS,i,!1,JSON.stringify({requests:o}),s)).json()}class LT{constructor(e,n,s={}){this.apiKey=e,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=lw(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var s;const o=OT(e),u=Object.assign(Object.assign({},this._requestOptions),n);return ow(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}async generateContentStream(e,n={}){var s;const o=OT(e),u=Object.assign(Object.assign({},this._requestOptions),n);return aw(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}startChat(e){var n;return new h3(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const s=o3(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return f3(this.apiKey,this.model,s,o)}async embedContent(e,n={}){const s=l3(e),o=Object.assign(Object.assign({},this._requestOptions),n);return d3(this.apiKey,this.model,s,o)}async batchEmbedContents(e,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return m3(this.apiKey,this.model,e,s)}}class p3{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new vn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new LT(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,s){if(!e.name)throw new Vs("Cached content must contain a `name` field.");if(!e.model)throw new Vs("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const c of o)if(n?.[c]&&e[c]&&n?.[c]!==e[c]){if(c==="model"){const m=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,p=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(m===p)continue}throw new Vs(`Different value for "${c}" specified in modelParams (${n[c]}) and cachedContent (${e[c]})`)}const u=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new LT(this.apiKey,u,s)}}function g3(){const{currentUser:i}=Vg(),[e,n]=x.useState(()=>{try{return localStorage.getItem("gemini_key")||""}catch{return""}}),[s,o]=x.useState(""),[u,c]=x.useState("comprehension"),[m,p]=x.useState("B1"),[g,_]=x.useState(!1),[T,S]=x.useState("medium"),[C,L]=x.useState("adults"),[P,z]=x.useState("minimal vector line art"),[Y,$]=x.useState(""),[J,se]=x.useState("gemini-flash-latest"),[he,ce]=x.useState(!1),[R,A]=x.useState(null),[D,V]=x.useState([]),[O,j]=x.useState(null);x.useEffect(()=>{if(i){const ue=Ea(Ta,"users",i.uid),k=G4(ue,H=>{if(H.exists()){const ne=H.data();ne.history&&V(ne.history)}else Ro(ue,{history:[]},{merge:!0})});return()=>k()}else try{const ue=JSON.parse(localStorage.getItem("material_history")||"[]");Array.isArray(ue)&&V(ue)}catch{localStorage.setItem("material_history","[]")}},[i]),x.useEffect(()=>{localStorage.setItem("gemini_key",e)},[e]);const N=async(ue,k)=>{const ne=[{date:new Date().toLocaleDateString(),...ue,visuals:k},...D];if(V(ne),i){const le=Ea(Ta,"users",i.uid);await Ro(le,{history:ne},{merge:!0})}else localStorage.setItem("material_history",JSON.stringify(ne))};return{apiKey:e,setApiKey:n,transcript:s,setTranscript:o,activityType:u,setActivityType:c,cefrLevel:m,setCefrLevel:p,isScaffolded:g,setIsScaffolded:_,length:T,setLength:S,audience:C,setAudience:L,visualStyle:P,setVisualStyle:z,mascotPref:Y,setMascotPref:$,model:J,setModel:se,loading:he,activity:R,history:D,mascotUrl:O,loadFromHistory:ue=>{if(!ue||!ue.student_worksheet)return alert("Invalid saved material.");if(A(ue),ue.visuals&&j(ue.visuals.mascotUrl),ue.meta&&(p(ue.meta.level||"B1"),c(ue.meta.type||"comprehension")),ue.student_worksheet?.questions&&ue.student_worksheet.questions.some(k=>!k.uid)){const k=ue.student_worksheet.questions.map(H=>({...H,uid:H.uid||Math.random().toString(36).substr(2,9)}));A({...ue,student_worksheet:{...ue.student_worksheet,questions:k}})}},clearHistory:async()=>{if(console.log("clearHistory called"),window.confirm("Clear all saved materials?"))if(console.log("User confirmed clear history"),V([]),A(null),i){console.log("Clearing firestore history");const ue=Ea(Ta,"users",i.uid);await Ro(ue,{history:[]},{merge:!0})}else console.log("Clearing local storage history"),localStorage.setItem("material_history","[]");else console.log("User cancelled clear history")},handleGenerate:async()=>{if(console.log("handleGenerate called. API Key:",e),!e)return alert("Please enter API Key");if(ce(!0),A(null),j(null),console.log("Checking DEBUG mode. Key:",e.trim().toUpperCase()),e.trim().toUpperCase()==="DEBUG"){console.log("Entering DEBUG mode block");try{await new Promise(H=>setTimeout(H,1500));const ue={title:"Debug Mode: Quantum Physics",meta:{level:m,type:u,duration:"20m"},visual_theme:{primary_color:"#14b8a6",mascot_prompt:"A futuristic robot scientist"},student_worksheet:{instructions:"Read the following text and answer the questions. (DEBUG MODE)",questions:[{question_text:"What is a quantum?",options:["A small packet of energy","A type of fruit"],hint:"Think small."},{question_text:"Is light a particle or a wave?",options:["Particle","Wave","Both"],hint:"It's tricky!"}],glossary:[{word:"Quantum",definition:"The smallest amount of a physical quantity."}]}};ue.id=Date.now(),ue.student_worksheet.questions=ue.student_worksheet.questions.map(H=>({...H,uid:Math.random().toString(36).substr(2,9)})),A(ue);const k="https://placehold.co/400x400/14b8a6/white?text=DEBUG+Mascot";j(k),await N(ue,{mascotUrl:k,themeColors:{primary:"#14b8a6"}})}catch(ue){alert("Debug Error: "+ue.message)}finally{ce(!1)}return}console.log("Proceeding to REAL API call with key:",e);try{const k=new p3(e).getGenerativeModel({model:J});let H=10;T==="short"&&(H=5),T==="long"&&(H=15);let ne="";switch(u){case"vocabulary":ne=`FOCUS: VOCABULARY. Extract ${H} difficult words. Create matching questions.`;break;case"grammar":ne="FOCUS: GRAMMAR. Identify tense/structures. Create fill-in-the-blanks.";break;case"true_false":ne=`FOCUS: TRUE/FALSE. Create ${H} statements.`;break;case"discussion":ne="FOCUS: SPEAKING. Create discussion prompts.";break;default:ne="FOCUS: COMPREHENSION. Standard open questions."}const _e=`
        You are "arc", an advanced Material Architect AI.
        TEXT: "${s}"
        CONFIG: ${ne} | Level: ${m} | Audience: ${C} | ${g?"SCAFFOLDING: ON. Hints, Multiple Choice.":"SCAFFOLDING: OFF."}
        
        TASK:
        1. Create content tailored for ${C}.
        2. DESIGN A VISUAL THEME (primary_color, mascot_prompt).
        
        OUTPUT JSON ONLY:
        {
          "title": "Title",
          "meta": { "level": "${m}", "type": "${u}", "duration": "20m" },
          "visual_theme": { "primary_color": "#hex", "mascot_prompt": "desc" },
          "student_worksheet": {
            "instructions": "...",
            "questions": [{ "question_text": "...", "options": ["A","B"], "hint": "..." }],
            "glossary": [{ "word": "...", "definition": "..." }]
          }
        }
      `,De=(await k.generateContent(_e)).response.text().replace(/```json/g,"").replace(/```/g,"").trim(),Me=JSON.parse(De);if(!Me.student_worksheet)throw new Error("Invalid AI response");Me.id=Date.now(),Me.student_worksheet?.questions&&(Me.student_worksheet.questions=Me.student_worksheet.questions.map(zt=>({...zt,uid:Math.random().toString(36).substr(2,9)}))),A(Me);const Ue=Y||Me.visual_theme?.mascot_prompt||"abstract concept",En=`https://image.pollinations.ai/prompt/${encodeURIComponent(Ue+" "+P+", white background")}?width=400&height=400&nologo=true&seed=${Math.floor(Math.random()*1e3)}`;j(En),await N(Me,{mascotUrl:En,themeColors:{primary:"#09090b"}})}catch(ue){alert("Error: "+ue.message)}finally{ce(!1)}},setActivity:A,updateHistoryItem:async ue=>{const k=D.map(H=>H.id===ue.id?{...H,...ue}:H);if(V(k),A(ue),i){const H=Ea(Ta,"users",i.uid);await Ro(H,{history:k},{merge:!0})}else localStorage.setItem("material_history",JSON.stringify(k))},deleteHistoryItem:async ue=>{if(!window.confirm("Delete this item?"))return;const k=D.filter(H=>H.id!==ue);if(V(k),R&&R.id===ue&&(A(null),j(null)),i){const H=Ea(Ta,"users",i.uid);await Ro(H,{history:k},{merge:!0})}else localStorage.setItem("material_history",JSON.stringify(k))},moveHistoryItem:async(ue,k)=>{const H=D.findIndex(le=>le.id===ue);if(H===-1)return;const ne=[...D];if(k==="up"&&H>0)[ne[H],ne[H-1]]=[ne[H-1],ne[H]];else if(k==="down"&&H<ne.length-1)[ne[H],ne[H+1]]=[ne[H+1],ne[H]];else return;if(V(ne),i){const le=Ea(Ta,"users",i.uid);await Ro(le,{history:ne},{merge:!0})}else localStorage.setItem("material_history",JSON.stringify(ne))}}}function y3({isOpen:i,onClose:e}){const n=x.useRef(),s=x.useRef(),{login:o,signup:u,googleLogin:c}=Vg(),[m,p]=x.useState(""),[g,_]=x.useState(!1),[T,S]=x.useState(!0),[C,L]=x.useState(!1),[P,z]=x.useState(""),[Y,$]=x.useState("");if(!i)return null;async function J(R){R.preventDefault();try{p(""),_(!0),T?await o(n.current.value,s.current.value):await u(n.current.value,s.current.value),e()}catch(A){console.error(A),p("Failed to "+(T?"log in":"create an account")+": "+A.message)}_(!1)}async function se(){try{p(""),_(!0),await c(),e()}catch(R){console.error(R),p("Failed to log in with Google: "+R.message)}_(!1)}async function he(R){R.preventDefault(),_(!0),$("");try{const A=Ea(Ta,"settings","security"),D=await F4(A);if(D.exists()){const V=D.data().entryCode;P===V?L(!0):$("Invalid access code.")}else $("System configuration error: Security settings missing.")}catch(A){console.error("Verification error:",A),$("Verification failed. Check network or permissions.")}finally{_(!1)}}const ce=R=>{R.target===R.currentTarget&&e()};return I.jsx("div",{className:"modal-overlay",onClick:ce,children:I.jsxs("div",{className:"login-content",children:[I.jsx("div",{className:"login-header",children:C?I.jsxs(I.Fragment,{children:[I.jsx("div",{className:"brand-logo-container",children:I.jsx(KC,{size:32,strokeWidth:1.5})}),I.jsx("h1",{className:"login-title",children:T?"Welcome Back":"Join the Future"}),I.jsx("p",{className:"login-subtitle",children:T?"Sign in to sync your library across devices.":"Create an account to save your work."})]}):null}),I.jsxs("div",{className:"login-card",children:[I.jsx("button",{className:"btn-close-modal",onClick:e,title:"Close",children:I.jsx(DI,{size:20})}),C?I.jsxs(I.Fragment,{children:[m&&I.jsxs("div",{className:"error-alert",children:[I.jsx(DE,{size:20,className:"shrink-0"}),I.jsx("span",{children:m})]}),I.jsxs("form",{onSubmit:J,children:[I.jsxs("div",{className:"form-group",children:[I.jsx("label",{className:"form-label",children:"Email"}),I.jsxs("div",{className:"input-wrapper-login",children:[I.jsx(sI,{className:"input-icon"}),I.jsx("input",{type:"email",ref:n,required:!0,className:"login-input",placeholder:"name@example.com"})]})]}),I.jsxs("div",{className:"form-group",children:[I.jsx("label",{className:"form-label",children:"Password"}),I.jsxs("div",{className:"input-wrapper-login",children:[I.jsx(OE,{className:"input-icon"}),I.jsx("input",{type:"password",ref:s,required:!0,className:"login-input",placeholder:""})]})]}),I.jsx("button",{disabled:g,type:"submit",className:"btn-login",children:g?I.jsx(XC,{size:20,className:"animate-spin"}):I.jsxs(I.Fragment,{children:[T?"Sign In":"Create Account",I.jsx(xE,{size:16})]})})]}),I.jsx("div",{className:"divider",children:I.jsx("span",{className:"divider-text",children:"Or continue with"})}),I.jsx("div",{children:I.jsxs("button",{onClick:se,disabled:g,className:"btn-google",children:[I.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[I.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",color:"#4285F4"}),I.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",color:"#34A853"}),I.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",color:"#FBBC05"}),I.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",color:"#EA4335"})]}),"Google"]})}),I.jsxs("p",{className:"toggle-text",children:[T?"Don't have an account? ":"Already have an account? ",I.jsx("button",{onClick:()=>S(!T),className:"toggle-link",children:T?"Sign up":"Log in"})]})]}):I.jsxs("div",{className:"admin-verify-section",children:[I.jsxs("div",{className:"login-header",style:{marginBottom:"1.5rem"},children:[I.jsx("div",{className:"brand-logo-container",style:{color:"var(--amber-400)",borderColor:"var(--amber-900)"},children:I.jsx(fI,{size:32,strokeWidth:1.5})}),I.jsx("h2",{className:"login-title",style:{fontSize:"1.5rem"},children:"Admin Access"}),I.jsx("p",{className:"login-subtitle",children:"Enter admin code to proceed."})]}),Y&&I.jsxs("div",{className:"error-alert",children:[I.jsx(DE,{size:20,className:"shrink-0"}),I.jsx("span",{children:Y})]}),I.jsxs("form",{onSubmit:he,children:[I.jsxs("div",{className:"form-group",children:[I.jsx("label",{className:"form-label",children:"Admin Code"}),I.jsxs("div",{className:"input-wrapper-login",children:[I.jsx(OE,{className:"input-icon"}),I.jsx("input",{type:"password",value:P,onChange:R=>z(R.target.value),required:!0,className:"login-input",placeholder:"Enter code...",autoFocus:!0})]})]}),I.jsxs("button",{type:"submit",className:"btn-login",style:{background:"linear-gradient(to right, var(--amber-600), var(--amber-500))"},children:["Verify",I.jsx(xE,{size:16})]})]})]})]}),I.jsx("div",{className:"login-footer",children:I.jsxs("p",{children:[" ",new Date().getFullYear()," Bora Karata. All rights reserved."]})})]})})}function v3(){const{apiKey:i,setApiKey:e,transcript:n,setTranscript:s,activityType:o,setActivityType:u,cefrLevel:c,setCefrLevel:m,isScaffolded:p,setIsScaffolded:g,length:_,setLength:T,audience:S,setAudience:C,visualStyle:L,setVisualStyle:P,mascotPref:z,setMascotPref:Y,model:$,setModel:J,loading:se,activity:he,mascotUrl:ce,history:R,handleGenerate:A,loadFromHistory:D,clearHistory:V,deleteHistoryItem:O,moveHistoryItem:j,setActivity:N,updateHistoryItem:Oe}=g3(),[nt,W]=x.useState(!1),ae=()=>{window.print()};return I.jsxs("div",{className:"app-shell",children:[I.jsx($4,{apiKey:i,setApiKey:e,history:R,loadFromHistory:D,clearHistory:V,onLoginClick:()=>W(!0),currentActivity:he,deleteHistoryItem:O,moveHistoryItem:j}),I.jsxs("div",{className:"workspace",children:[I.jsx(X4,{transcript:n,setTranscript:s,activityType:o,setActivityType:u,cefrLevel:c,setCefrLevel:m,isScaffolded:p,setIsScaffolded:g,length:_,setLength:T,audience:S,setAudience:C,visualStyle:L,setVisualStyle:P,mascotPref:z,setMascotPref:Y,model:$,setModel:J,loading:se,onGenerate:A}),I.jsx(zV,{activity:he,mascotUrl:ce,loading:se,onUpdate:N,onSave:Oe,onDownload:ae,isScaffolded:p})]}),I.jsx(y3,{isOpen:nt,onClose:()=>W(!1)})]})}function _3(){return I.jsx(v3,{})}class E3 extends Cn.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?I.jsxs("div",{style:{padding:"20px",color:"red",fontFamily:"monospace"},children:[I.jsx("h1",{children:"Something went wrong."}),I.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),I.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}QA.createRoot(document.getElementById("root")).render(I.jsx(x.StrictMode,{children:I.jsx(E3,{children:I.jsx(pC,{basename:"/arc/",children:I.jsx(Q4,{children:I.jsx(_3,{})})})})}));
