(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Nw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Lm={exports:{}},Xl={};var uE;function Ow(){if(uE)return Xl;uE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:c,ref:o!==void 0?o:null,props:u}}return Xl.Fragment=e,Xl.jsx=n,Xl.jsxs=n,Xl}var cE;function Mw(){return cE||(cE=1,Lm.exports=Ow()),Lm.exports}var x=Mw(),Pm={exports:{}},Re={};var hE;function kw(){if(hE)return Re;hE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var L={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,U={};function K(k,X,oe){this.props=k,this.context=X,this.refs=U,this.updater=oe||L}K.prototype.isReactComponent={},K.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},K.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function $(){}$.prototype=K.prototype;function J(k,X,oe){this.props=k,this.context=X,this.refs=U,this.updater=oe||L}var se=J.prototype=new $;se.constructor=J,P(se,K.prototype),se.isPureReactComponent=!0;var he=Array.isArray;function ue(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function D(k,X,oe){var ce=oe.ref;return{$$typeof:i,type:k,key:X,ref:ce!==void 0?ce:null,props:oe}}function V(k,X){return D(k.type,X,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function j(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return X[oe]})}var N=/\/+/g;function Pe(k,X){return typeof k=="object"&&k!==null&&k.key!=null?j(""+k.key):X.toString(36)}function lt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ue,ue):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function W(k,X,oe,ce,Ee){var me=typeof k;(me==="undefined"||me==="boolean")&&(k=null);var xe=!1;if(k===null)xe=!0;else switch(me){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(k.$$typeof){case i:case e:xe=!0;break;case _:return xe=k._init,W(xe(k._payload),X,oe,ce,Ee)}}if(xe)return Ee=Ee(k),xe=ce===""?"."+Pe(k,0):ce,he(Ee)?(oe="",xe!=null&&(oe=xe.replace(N,"$&/")+"/"),W(Ee,X,oe,"",function(Oe){return Oe})):Ee!=null&&(M(Ee)&&(Ee=V(Ee,oe+(Ee.key==null||k&&k.key===Ee.key?"":(""+Ee.key).replace(N,"$&/")+"/")+xe)),X.push(Ee)),1;xe=0;var We=ce===""?".":ce+":";if(he(k))for(var Me=0;Me<k.length;Me++)ce=k[Me],me=We+Pe(ce,Me),xe+=W(ce,X,oe,me,Ee);else if(Me=I(k),typeof Me=="function")for(k=Me.call(k),Me=0;!(ce=k.next()).done;)ce=ce.value,me=We+Pe(ce,Me++),xe+=W(ce,X,oe,me,Ee);else if(me==="object"){if(typeof k.then=="function")return W(lt(k),X,oe,ce,Ee);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return xe}function ae(k,X,oe){if(k==null)return k;var ce=[],Ee=0;return W(k,ce,"","",function(me){return X.call(oe,me,Ee++)}),ce}function re(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var ge=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ye={map:ae,forEach:function(k,X,oe){ae(k,function(){X.apply(this,arguments)},oe)},count:function(k){var X=0;return ae(k,function(){X++}),X},toArray:function(k){return ae(k,function(X){return X})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Re.Activity=T,Re.Children=ye,Re.Component=K,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=J,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Re.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},Re.cache=function(k){return function(){return k.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(k,X,oe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ce=P({},k.props),Ee=k.key;if(X!=null)for(me in X.key!==void 0&&(Ee=""+X.key),X)!w.call(X,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&X.ref===void 0||(ce[me]=X[me]);var me=arguments.length-2;if(me===1)ce.children=oe;else if(1<me){for(var xe=Array(me),We=0;We<me;We++)xe[We]=arguments[We+2];ce.children=xe}return D(k.type,Ee,ce)},Re.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Re.createElement=function(k,X,oe){var ce,Ee={},me=null;if(X!=null)for(ce in X.key!==void 0&&(me=""+X.key),X)w.call(X,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(Ee[ce]=X[ce]);var xe=arguments.length-2;if(xe===1)Ee.children=oe;else if(1<xe){for(var We=Array(xe),Me=0;Me<xe;Me++)We[Me]=arguments[Me+2];Ee.children=We}if(k&&k.defaultProps)for(ce in xe=k.defaultProps,xe)Ee[ce]===void 0&&(Ee[ce]=xe[ce]);return D(k,me,Ee)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:m,render:k}},Re.isValidElement=M,Re.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:re}},Re.memo=function(k,X){return{$$typeof:g,type:k,compare:X===void 0?null:X}},Re.startTransition=function(k){var X=C.T,oe={};C.T=oe;try{var ce=k(),Ee=C.S;Ee!==null&&Ee(oe,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(ue,ge)}catch(me){ge(me)}finally{X!==null&&oe.types!==null&&(X.types=oe.types),C.T=X}},Re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Re.use=function(k){return C.H.use(k)},Re.useActionState=function(k,X,oe){return C.H.useActionState(k,X,oe)},Re.useCallback=function(k,X){return C.H.useCallback(k,X)},Re.useContext=function(k){return C.H.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k,X){return C.H.useDeferredValue(k,X)},Re.useEffect=function(k,X){return C.H.useEffect(k,X)},Re.useEffectEvent=function(k){return C.H.useEffectEvent(k)},Re.useId=function(){return C.H.useId()},Re.useImperativeHandle=function(k,X,oe){return C.H.useImperativeHandle(k,X,oe)},Re.useInsertionEffect=function(k,X){return C.H.useInsertionEffect(k,X)},Re.useLayoutEffect=function(k,X){return C.H.useLayoutEffect(k,X)},Re.useMemo=function(k,X){return C.H.useMemo(k,X)},Re.useOptimistic=function(k,X){return C.H.useOptimistic(k,X)},Re.useReducer=function(k,X,oe){return C.H.useReducer(k,X,oe)},Re.useRef=function(k){return C.H.useRef(k)},Re.useState=function(k){return C.H.useState(k)},Re.useSyncExternalStore=function(k,X,oe){return C.H.useSyncExternalStore(k,X,oe)},Re.useTransition=function(){return C.H.useTransition()},Re.version="19.2.3",Re}var fE;function Up(){return fE||(fE=1,Pm.exports=kw()),Pm.exports}var R=Up();const Rn=Nw(R);var Um={exports:{}},Wl={},zm={exports:{}},jm={};var dE;function Vw(){return dE||(dE=1,(function(i){function e(W,ae){var re=W.length;W.push(ae);e:for(;0<re;){var ge=re-1>>>1,ye=W[ge];if(0<o(ye,ae))W[ge]=ae,W[re]=ye,re=ge;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ae=W[0],re=W.pop();if(re!==ae){W[0]=re;e:for(var ge=0,ye=W.length,k=ye>>>1;ge<k;){var X=2*(ge+1)-1,oe=W[X],ce=X+1,Ee=W[ce];if(0>o(oe,re))ce<ye&&0>o(Ee,oe)?(W[ge]=Ee,W[ce]=re,ge=ce):(W[ge]=oe,W[X]=re,ge=X);else if(ce<ye&&0>o(Ee,re))W[ge]=Ee,W[ce]=re,ge=ce;else break e}}return ae}function o(W,ae){var re=W.sortIndex-ae.sortIndex;return re!==0?re:W.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var p=[],g=[],_=1,T=null,S=3,I=!1,L=!1,P=!1,U=!1,K=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function se(W){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=W)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function he(W){if(P=!1,se(W),!L)if(n(p)!==null)L=!0,ue||(ue=!0,j());else{var ae=n(g);ae!==null&&lt(he,ae.startTime-W)}}var ue=!1,C=-1,w=5,D=-1;function V(){return U?!0:!(i.unstable_now()-D<w)}function M(){if(U=!1,ue){var W=i.unstable_now();D=W;var ae=!0;try{e:{L=!1,P&&(P=!1,$(C),C=-1),I=!0;var re=S;try{t:{for(se(W),T=n(p);T!==null&&!(T.expirationTime>W&&V());){var ge=T.callback;if(typeof ge=="function"){T.callback=null,S=T.priorityLevel;var ye=ge(T.expirationTime<=W);if(W=i.unstable_now(),typeof ye=="function"){T.callback=ye,se(W),ae=!0;break t}T===n(p)&&s(p),se(W)}else s(p);T=n(p)}if(T!==null)ae=!0;else{var k=n(g);k!==null&&lt(he,k.startTime-W),ae=!1}}break e}finally{T=null,S=re,I=!1}ae=void 0}}finally{ae?j():ue=!1}}}var j;if(typeof J=="function")j=function(){J(M)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Pe=N.port2;N.port1.onmessage=M,j=function(){Pe.postMessage(null)}}else j=function(){K(M,0)};function lt(W,ae){C=K(function(){W(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var re=S;S=ae;try{return W()}finally{S=re}},i.unstable_requestPaint=function(){U=!0},i.unstable_runWithPriority=function(W,ae){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var re=S;S=W;try{return ae()}finally{S=re}},i.unstable_scheduleCallback=function(W,ae,re){var ge=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ge+re:ge):re=ge,W){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=re+ye,W={id:_++,callback:ae,priorityLevel:W,startTime:re,expirationTime:ye,sortIndex:-1},re>ge?(W.sortIndex=re,e(g,W),n(p)===null&&W===n(g)&&(P?($(C),C=-1):P=!0,lt(he,re-ge))):(W.sortIndex=ye,e(p,W),L||I||(L=!0,ue||(ue=!0,j()))),W},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(W){var ae=S;return function(){var re=S;S=ae;try{return W.apply(this,arguments)}finally{S=re}}}})(jm)),jm}var mE;function Lw(){return mE||(mE=1,zm.exports=Vw()),zm.exports}var Bm={exports:{}},mn={};var pE;function Pw(){if(pE)return mn;pE=1;var i=Up();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,mn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},mn.flushSync=function(p){var g=c.T,_=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=_,s.d.f()}},mn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},mn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},mn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:I}):_==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},mn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},mn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},mn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},mn.requestFormReset=function(p){s.d.r(p)},mn.unstable_batchedUpdates=function(p,g){return p(g)},mn.useFormState=function(p,g,_){return c.H.useFormState(p,g,_)},mn.useFormStatus=function(){return c.H.useHostTransitionStatus()},mn.version="19.2.3",mn}var gE;function OT(){if(gE)return Bm.exports;gE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bm.exports=Pw(),Bm.exports}var yE;function Uw(){if(yE)return Wl;yE=1;var i=Lw(),e=Up(),n=OT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function c(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,b=f.child;b;){if(b===a){v=!0,a=f,l=d;break}if(b===l){v=!0,l=f,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=f;break}if(b===l){v=!0,l=d,a=f;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function _(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=_(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),J=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case K:return"Profiler";case U:return"StrictMode";case he:return"Suspense";case ue:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case L:return"Portal";case J:return t.displayName||"Context";case $:return(t._context.displayName||"Context")+".Consumer";case se:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return r=t.displayName||null,r!==null?r:Pe(t.type)||"Memo";case w:r=t._payload,t=t._init;try{return Pe(t(r))}catch{}}return null}var lt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ge=[],ye=-1;function k(t){return{current:t}}function X(t){0>ye||(t.current=ge[ye],ge[ye]=null,ye--)}function oe(t,r){ye++,ge[ye]=t.current,t.current=r}var ce=k(null),Ee=k(null),me=k(null),xe=k(null);function We(t,r){switch(oe(me,r),oe(Ee,t),oe(ce,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?O_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=O_(r),t=M_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(ce),oe(ce,t)}function Me(){X(ce),X(Ee),X(me)}function Oe(t){t.memoizedState!==null&&oe(xe,t);var r=ce.current,a=M_(r,t.type);r!==a&&(oe(Ee,t),oe(ce,a))}function ti(t){Ee.current===t&&(X(ce),X(Ee)),xe.current===t&&(X(xe),Kl._currentValue=re)}var Zt,zn;function It(t){if(Zt===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Zt=r&&r[1]||"",zn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zt+t+zn}var ni=!1;function Cn(t,r){if(!t||ni)return"";ni=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var G=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){G=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){G=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var O=v.split(`
`),F=b.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===F.length)for(l=O.length-1,f=F.length-1;1<=l&&0<=f&&O[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==F[f]){var Z=`
`+O[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=f);break}}}finally{ni=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?It(a):""}function Hr(t,r){switch(t.tag){case 26:case 27:case 5:return It(t.type);case 16:return It("Lazy");case 13:return t.child!==r&&r!==null?It("Suspense Fallback"):It("Suspense");case 19:return It("SuspenseList");case 0:case 15:return Cn(t.type,!1);case 11:return Cn(t.type.render,!1);case 1:return Cn(t.type,!0);case 31:return It("Activity");default:return""}}function qr(t){try{var r="",a=null;do r+=Hr(t,a),a=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ft=Object.prototype.hasOwnProperty,tt=i.unstable_scheduleCallback,jn=i.unstable_cancelCallback,Fr=i.unstable_shouldYield,qs=i.unstable_requestPaint,Gt=i.unstable_now,or=i.unstable_getCurrentPriorityLevel,Fs=i.unstable_ImmediatePriority,ii=i.unstable_UserBlockingPriority,En=i.unstable_NormalPriority,lr=i.unstable_LowPriority,Gs=i.unstable_IdlePriority,Bn=i.log,Ks=i.unstable_setDisableYieldValue,Hn=null,zt=null;function cn(t){if(typeof Bn=="function"&&Ks(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Hn,t)}catch{}}var dt=Math.clz32?Math.clz32:Va,ka=Math.log,ur=Math.LN2;function Va(t){return t>>>=0,t===0?32:31-(ka(t)/ur|0)|0}var ri=256,cr=262144,ke=4194304;function mt(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pt(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=mt(l):(v&=b,v!==0?f=mt(v):a||(a=b&~t,a!==0&&(f=mt(a))))):(b=l&~d,b!==0?f=mt(b):v!==0?f=mt(v):a||(a=l&~t,a!==0&&(f=mt(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Dt(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function hn(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kt(){var t=ke;return ke<<=1,(ke&62914560)===0&&(ke=4194304),t}function bt(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function In(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function St(t,r,a,l,f,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,O=t.expirationTimes,F=t.hiddenUpdates;for(a=v&~a;0<a;){var Z=31-dt(a),te=1<<Z;b[Z]=0,O[Z]=-1;var G=F[Z];if(G!==null)for(F[Z]=null,Z=0;Z<G.length;Z++){var Q=G[Z];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&fn(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function fn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-dt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function dn(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-dt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Tn(t,r){var a=r&-r;return a=(a&42)!==0?1:qn(a),(a&(t.suspendedLanes|r))!==0?0:a}function qn(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bn(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fn(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:nE(t.type))}function en(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var Sn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Sn,Yt="__reactProps$"+Sn,Vi="__reactContainer$"+Sn,La="__reactEvents$"+Sn,Hf="__reactListeners$"+Sn,Ju="__reactHandles$"+Sn,Zu="__reactResources$"+Sn,Li="__reactMarker$"+Sn;function Pa(t){delete t[xt],delete t[Yt],delete t[La],delete t[Hf],delete t[Ju]}function Pi(t){var r=t[xt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Vi]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=j_(t);t!==null;){if(a=t[xt])return a;t=j_(t)}return r}t=a,a=t.parentNode}return null}function si(t){if(t=t[xt]||t[Vi]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Gn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ui(t){var r=t[Zu];return r||(r=t[Zu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Nt(t){t[Li]=!0}var Zo=new Set,el={};function zi(t,r){ji(t,r),ji(t+"Capture",r)}function ji(t,r){for(el[t]=r,t=0;t<r.length;t++)Zo.add(r[t])}var tl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nl={},il={};function ec(t){return ft.call(il,t)?!0:ft.call(nl,t)?!1:tl.test(t)?il[t]=!0:(nl[t]=!0,!1)}function Ua(t,r,a){if(ec(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Kn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ot(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function Qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function rl(t,r,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Je(t){if(!t._valueTracker){var r=Gr(t)?"checked":"value";t._valueTracker=rl(t,r,""+t[r])}}function Ys(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Gr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Bi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Qs=/[\n"\\]/g;function Dn(t){return t.replace(Qs,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function za(t,r,a,l,f,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+Qt(r)):t.value!==""+Qt(r)&&(t.value=""+Qt(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?sl(t,v,Qt(r)):a!=null?sl(t,v,Qt(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Qt(b):t.removeAttribute("name")}function tc(t,r,a,l,f,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){Je(t);return}a=a!=null?""+Qt(a):"",r=r!=null?""+Qt(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Je(t)}function sl(t,r,a){r==="number"&&Bi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Kr(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Qt(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function nc(t,r,a){if(r!=null&&(r=""+Qt(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+Qt(a):""}function Yr(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(lt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=Qt(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Je(t)}function xn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ic=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ic.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function ol(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&al(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&al(t,d,r[d])}function ja(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ba(t){return Qr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function bi(){}var ll=null;function ai(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $r=null,Hi=null;function $s(t){var r=si(t);if(r&&(t=r.stateNode)){var a=t[Yt]||null;e:switch(t=r.stateNode,r.type){case"input":if(za(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dn(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[Yt]||null;if(!f)throw Error(s(90));za(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Ys(l)}break e;case"textarea":nc(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Kr(t,!!a.multiple,r,!1)}}}var Ha=!1;function Xr(t,r,a){if(Ha)return t(r,a);Ha=!0;try{var l=t(r);return l}finally{if(Ha=!1,($r!==null||Hi!==null)&&(Wc(),$r&&(r=$r,t=Hi,Hi=$r=null,$s(r),t)))for(r=0;r<t.length;r++)$s(t[r])}}function Si(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xs=!1;if(oi)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Xs=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{Xs=!1}var qi=null,ul=null,Ws=null;function cl(){if(Ws)return Ws;var t,r=ul,a=r.length,l,f="value"in qi?qi.value:qi.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===f[d-l];l++);return Ws=f.slice(t,1<l?1-l:void 0)}function Js(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function hr(){return!0}function Ai(){return!1}function tn(t){function r(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?hr:Ai,this.isPropagationStopped=Ai,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hr)},persist:function(){},isPersistent:hr}),r}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=tn(fr),Wr=T({},fr,{view:0,detail:0}),hl=tn(Wr),Jr,qa,Gi,Fa=T({},Wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gi&&(Gi&&t.type==="mousemove"?(Jr=t.screenX-Gi.screenX,qa=t.screenY-Gi.screenY):qa=Jr=0,Gi=t),Jr)},movementY:function(t){return"movementY"in t?t.movementY:qa}}),fl=tn(Fa),Zs=T({},Fa,{dataTransfer:0}),sc=tn(Zs),ac=T({},Wr,{relatedTarget:0}),ea=tn(ac),dl=T({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),oc=tn(dl),Ga=T({},fr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lc=tn(Ga),uc=T({},fr,{data:0}),Ki=tn(uc),cc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dc(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=fc[t])?!!r[t]:!1}function Zr(){return dc}var An=T({},Wr,{key:function(t){if(t.key){var r=cc[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Js(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zr,charCode:function(t){return t.type==="keypress"?Js(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Js(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mc=tn(An),pc=T({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dr=tn(pc),h=T({},Wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zr}),y=tn(h),E=T({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=tn(E),H=T({},Fa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=tn(H),le=T({},fr,{newState:0,oldState:0}),Ie=tn(le),At=[9,13,27,32],Qe=oi&&"CompositionEvent"in window,gt=null;oi&&"documentMode"in document&&(gt=document.documentMode);var li=oi&&"TextEvent"in window&&!gt,Yi=oi&&(!Qe||gt&&8<gt&&11>=gt),wi=" ",Ri=!1;function ta(t,r){switch(t){case"keyup":return At.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ka(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ya=!1;function tA(t,r){switch(t){case"compositionend":return Ka(r);case"keypress":return r.which!==32?null:(Ri=!0,wi);case"textInput":return t=r.data,t===wi&&Ri?null:t;default:return null}}function nA(t,r){if(Ya)return t==="compositionend"||!Qe&&ta(t,r)?(t=cl(),Ws=ul=qi=null,Ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Yi&&r.locale!=="ko"?null:r.data;default:return null}}var iA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!iA[t.type]:r==="textarea"}function Fg(t,r,a,l){$r?Hi?Hi.push(l):Hi=[l]:$r=l,r=rh(r,"onChange"),0<r.length&&(a=new Fi("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var ml=null,pl=null;function rA(t){R_(t,0)}function gc(t){var r=Gn(t);if(Ys(r))return t}function Gg(t,r){if(t==="change")return r}var Kg=!1;if(oi){var qf;if(oi){var Ff="oninput"in document;if(!Ff){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),Ff=typeof Yg.oninput=="function"}qf=Ff}else qf=!1;Kg=qf&&(!document.documentMode||9<document.documentMode)}function Qg(){ml&&(ml.detachEvent("onpropertychange",$g),pl=ml=null)}function $g(t){if(t.propertyName==="value"&&gc(pl)){var r=[];Fg(r,pl,t,ai(t)),Xr(rA,r)}}function sA(t,r,a){t==="focusin"?(Qg(),ml=r,pl=a,ml.attachEvent("onpropertychange",$g)):t==="focusout"&&Qg()}function aA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gc(pl)}function oA(t,r){if(t==="click")return gc(r)}function lA(t,r){if(t==="input"||t==="change")return gc(r)}function uA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Yn=typeof Object.is=="function"?Object.is:uA;function gl(t,r){if(Yn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ft.call(r,f)||!Yn(t[f],r[f]))return!1}return!0}function Xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wg(t,r){var a=Xg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xg(a)}}function Jg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Jg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Zg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Bi(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Bi(t.document)}return r}function Gf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var cA=oi&&"documentMode"in document&&11>=document.documentMode,Qa=null,Kf=null,yl=null,Yf=!1;function ey(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yf||Qa==null||Qa!==Bi(l)||(l=Qa,"selectionStart"in l&&Gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),yl&&gl(yl,l)||(yl=l,l=rh(Kf,"onSelect"),0<l.length&&(r=new Fi("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Qa)))}function na(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var $a={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},Qf={},ty={};oi&&(ty=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function ia(t){if(Qf[t])return Qf[t];if(!$a[t])return t;var r=$a[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in ty)return Qf[t]=r[a];return t}var ny=ia("animationend"),iy=ia("animationiteration"),ry=ia("animationstart"),hA=ia("transitionrun"),fA=ia("transitionstart"),dA=ia("transitioncancel"),sy=ia("transitionend"),ay=new Map,$f="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$f.push("scrollEnd");function Ci(t,r){ay.set(t,r),zi(r,[t])}var yc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ui=[],Xa=0,Xf=0;function vc(){for(var t=Xa,r=Xf=Xa=0;r<t;){var a=ui[r];ui[r++]=null;var l=ui[r];ui[r++]=null;var f=ui[r];ui[r++]=null;var d=ui[r];if(ui[r++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&oy(a,f,d)}}function _c(t,r,a,l){ui[Xa++]=t,ui[Xa++]=r,ui[Xa++]=a,ui[Xa++]=l,Xf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wf(t,r,a,l){return _c(t,r,a,l),Ec(t)}function ra(t,r){return _c(t,null,null,r),Ec(t)}function oy(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-dt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ec(t){if(50<zl)throw zl=0,am=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Wa={};function mA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,r,a,l){return new mA(t,r,a,l)}function Jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mr(t,r){var a=t.alternate;return a===null?(a=Qn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ly(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Tc(t,r,a,l,f,d){var v=0;if(l=t,typeof t=="function")Jf(t)&&(v=1);else if(typeof t=="string")v=_w(t,a,ce.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=Qn(31,a,r,f),t.elementType=D,t.lanes=d,t;case P:return sa(a.children,f,d,r);case U:v=8,f|=24;break;case K:return t=Qn(12,a,r,f|2),t.elementType=K,t.lanes=d,t;case he:return t=Qn(13,a,r,f),t.elementType=he,t.lanes=d,t;case ue:return t=Qn(19,a,r,f),t.elementType=ue,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:v=10;break e;case $:v=9;break e;case se:v=11;break e;case C:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=Qn(v,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function sa(t,r,a,l){return t=Qn(7,t,l,r),t.lanes=a,t}function Zf(t,r,a){return t=Qn(6,t,null,r),t.lanes=a,t}function uy(t){var r=Qn(18,null,null,0);return r.stateNode=t,r}function ed(t,r,a){return r=Qn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var cy=new WeakMap;function ci(t,r){if(typeof t=="object"&&t!==null){var a=cy.get(t);return a!==void 0?a:(r={value:t,source:r,stack:qr(r)},cy.set(t,r),r)}return{value:t,source:r,stack:qr(r)}}var Ja=[],Za=0,bc=null,vl=0,hi=[],fi=0,es=null,Qi=1,$i="";function pr(t,r){Ja[Za++]=vl,Ja[Za++]=bc,bc=t,vl=r}function hy(t,r,a){hi[fi++]=Qi,hi[fi++]=$i,hi[fi++]=es,es=t;var l=Qi;t=$i;var f=32-dt(l)-1;l&=~(1<<f),a+=1;var d=32-dt(r)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,Qi=1<<32-dt(r)+f|a<<f|l,$i=d+t}else Qi=1<<d|a<<f|l,$i=t}function td(t){t.return!==null&&(pr(t,1),hy(t,1,0))}function nd(t){for(;t===bc;)bc=Ja[--Za],Ja[Za]=null,vl=Ja[--Za],Ja[Za]=null;for(;t===es;)es=hi[--fi],hi[fi]=null,$i=hi[--fi],hi[fi]=null,Qi=hi[--fi],hi[fi]=null}function fy(t,r){hi[fi++]=Qi,hi[fi++]=$i,hi[fi++]=es,Qi=r.id,$i=r.overflow,es=t}var nn=null,ut=null,qe=!1,ts=null,di=!1,id=Error(s(519));function ns(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _l(ci(r,t)),id}function dy(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[xt]=t,r[Yt]=l,a){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Le(Bl[a],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),tc(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),Yr(r,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||x_(r.textContent,a)?(l.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),l.onScroll!=null&&Le("scroll",r),l.onScrollEnd!=null&&Le("scrollend",r),l.onClick!=null&&(r.onclick=bi),r=!0):r=!1,r||ns(t,!0)}function my(t){for(nn=t.return;nn;)switch(nn.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:nn=nn.return}}function eo(t){if(t!==nn)return!1;if(!qe)return my(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Tm(t.type,t.memoizedProps)),a=!a),a&&ut&&ns(t),my(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=z_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));ut=z_(t)}else r===27?(r=ut,gs(t.type)?(t=Rm,Rm=null,ut=t):ut=r):ut=nn?pi(t.stateNode.nextSibling):null;return!0}function aa(){ut=nn=null,qe=!1}function rd(){var t=ts;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),ts=null),t}function _l(t){ts===null?ts=[t]:ts.push(t)}var sd=k(null),oa=null,gr=null;function is(t,r,a){oe(sd,r._currentValue),r._currentValue=a}function yr(t){t._currentValue=sd.current,X(sd)}function ad(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function od(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var O=0;O<r.length;O++)if(b.context===r[O]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),ad(d.return,a,t),l||(v=null);break e}d=b.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),ad(v,a,t),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===t){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function to(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=f.type;Yn(f.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(f===xe.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Kl):t=[Kl])}f=f.return}t!==null&&od(r,t,a,l),r.flags|=262144}function Sc(t){for(t=t.firstContext;t!==null;){if(!Yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function la(t){oa=t,gr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function rn(t){return py(oa,t)}function Ac(t,r){return oa===null&&la(t),py(t,r)}function py(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},gr===null){if(t===null)throw Error(s(308));gr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else gr=gr.next=r;return a}var pA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},gA=i.unstable_scheduleCallback,yA=i.unstable_NormalPriority,Mt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new pA,data:new Map,refCount:0}}function El(t){t.refCount--,t.refCount===0&&gA(yA,function(){t.controller.abort()})}var Tl=null,ud=0,no=0,io=null;function vA(t,r){if(Tl===null){var a=Tl=[];ud=0,no=fm(),io={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ud++,r.then(gy,gy),r}function gy(){if(--ud===0&&Tl!==null){io!==null&&(io.status="fulfilled");var t=Tl;Tl=null,no=0,io=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function _A(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var yy=W.S;W.S=function(t,r){e_=Gt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&vA(t,r),yy!==null&&yy(t,r)};var ua=k(null);function cd(){var t=ua.current;return t!==null?t:ot.pooledCache}function wc(t,r){r===null?oe(ua,ua.current):oe(ua,r.pool)}function vy(){var t=cd();return t===null?null:{parent:Mt._currentValue,pool:t}}var ro=Error(s(460)),hd=Error(s(474)),Rc=Error(s(542)),Cc={then:function(){}};function _y(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ey(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(bi,bi),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,by(t),t;default:if(typeof r.status=="string")r.then(bi,bi);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,by(t),t}throw ha=r,ro}}function ca(t){try{var r=t._init;return r(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ha=a,ro):a}}var ha=null;function Ty(){if(ha===null)throw Error(s(459));var t=ha;return ha=null,t}function by(t){if(t===ro||t===Rc)throw Error(s(483))}var so=null,bl=0;function Ic(t){var r=bl;return bl+=1,so===null&&(so=[]),Ey(so,t,r)}function Sl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Dc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Sy(t){function r(B,z){if(t){var q=B.deletions;q===null?(B.deletions=[z],B.flags|=16):q.push(z)}}function a(B,z){if(!t)return null;for(;z!==null;)r(B,z),z=z.sibling;return null}function l(B){for(var z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function f(B,z){return B=mr(B,z),B.index=0,B.sibling=null,B}function d(B,z,q){return B.index=q,t?(q=B.alternate,q!==null?(q=q.index,q<z?(B.flags|=67108866,z):q):(B.flags|=67108866,z)):(B.flags|=1048576,z)}function v(B){return t&&B.alternate===null&&(B.flags|=67108866),B}function b(B,z,q,ee){return z===null||z.tag!==6?(z=Zf(q,B.mode,ee),z.return=B,z):(z=f(z,q),z.return=B,z)}function O(B,z,q,ee){var _e=q.type;return _e===P?Z(B,z,q.props.children,ee,q.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&ca(_e)===z.type)?(z=f(z,q.props),Sl(z,q),z.return=B,z):(z=Tc(q.type,q.key,q.props,null,B.mode,ee),Sl(z,q),z.return=B,z)}function F(B,z,q,ee){return z===null||z.tag!==4||z.stateNode.containerInfo!==q.containerInfo||z.stateNode.implementation!==q.implementation?(z=ed(q,B.mode,ee),z.return=B,z):(z=f(z,q.children||[]),z.return=B,z)}function Z(B,z,q,ee,_e){return z===null||z.tag!==7?(z=sa(q,B.mode,ee,_e),z.return=B,z):(z=f(z,q),z.return=B,z)}function te(B,z,q){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Zf(""+z,B.mode,q),z.return=B,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case I:return q=Tc(z.type,z.key,z.props,null,B.mode,q),Sl(q,z),q.return=B,q;case L:return z=ed(z,B.mode,q),z.return=B,z;case w:return z=ca(z),te(B,z,q)}if(lt(z)||j(z))return z=sa(z,B.mode,q,null),z.return=B,z;if(typeof z.then=="function")return te(B,Ic(z),q);if(z.$$typeof===J)return te(B,Ac(B,z),q);Dc(B,z)}return null}function G(B,z,q,ee){var _e=z!==null?z.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return _e!==null?null:b(B,z,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case I:return q.key===_e?O(B,z,q,ee):null;case L:return q.key===_e?F(B,z,q,ee):null;case w:return q=ca(q),G(B,z,q,ee)}if(lt(q)||j(q))return _e!==null?null:Z(B,z,q,ee,null);if(typeof q.then=="function")return G(B,z,Ic(q),ee);if(q.$$typeof===J)return G(B,z,Ac(B,q),ee);Dc(B,q)}return null}function Q(B,z,q,ee,_e){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return B=B.get(q)||null,b(z,B,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case I:return B=B.get(ee.key===null?q:ee.key)||null,O(z,B,ee,_e);case L:return B=B.get(ee.key===null?q:ee.key)||null,F(z,B,ee,_e);case w:return ee=ca(ee),Q(B,z,q,ee,_e)}if(lt(ee)||j(ee))return B=B.get(q)||null,Z(z,B,ee,_e,null);if(typeof ee.then=="function")return Q(B,z,q,Ic(ee),_e);if(ee.$$typeof===J)return Q(B,z,q,Ac(z,ee),_e);Dc(z,ee)}return null}function de(B,z,q,ee){for(var _e=null,Ke=null,pe=z,Ne=z=0,ze=null;pe!==null&&Ne<q.length;Ne++){pe.index>Ne?(ze=pe,pe=null):ze=pe.sibling;var Ye=G(B,pe,q[Ne],ee);if(Ye===null){pe===null&&(pe=ze);break}t&&pe&&Ye.alternate===null&&r(B,pe),z=d(Ye,z,Ne),Ke===null?_e=Ye:Ke.sibling=Ye,Ke=Ye,pe=ze}if(Ne===q.length)return a(B,pe),qe&&pr(B,Ne),_e;if(pe===null){for(;Ne<q.length;Ne++)pe=te(B,q[Ne],ee),pe!==null&&(z=d(pe,z,Ne),Ke===null?_e=pe:Ke.sibling=pe,Ke=pe);return qe&&pr(B,Ne),_e}for(pe=l(pe);Ne<q.length;Ne++)ze=Q(pe,B,Ne,q[Ne],ee),ze!==null&&(t&&ze.alternate!==null&&pe.delete(ze.key===null?Ne:ze.key),z=d(ze,z,Ne),Ke===null?_e=ze:Ke.sibling=ze,Ke=ze);return t&&pe.forEach(function(Ts){return r(B,Ts)}),qe&&pr(B,Ne),_e}function be(B,z,q,ee){if(q==null)throw Error(s(151));for(var _e=null,Ke=null,pe=z,Ne=z=0,ze=null,Ye=q.next();pe!==null&&!Ye.done;Ne++,Ye=q.next()){pe.index>Ne?(ze=pe,pe=null):ze=pe.sibling;var Ts=G(B,pe,Ye.value,ee);if(Ts===null){pe===null&&(pe=ze);break}t&&pe&&Ts.alternate===null&&r(B,pe),z=d(Ts,z,Ne),Ke===null?_e=Ts:Ke.sibling=Ts,Ke=Ts,pe=ze}if(Ye.done)return a(B,pe),qe&&pr(B,Ne),_e;if(pe===null){for(;!Ye.done;Ne++,Ye=q.next())Ye=te(B,Ye.value,ee),Ye!==null&&(z=d(Ye,z,Ne),Ke===null?_e=Ye:Ke.sibling=Ye,Ke=Ye);return qe&&pr(B,Ne),_e}for(pe=l(pe);!Ye.done;Ne++,Ye=q.next())Ye=Q(pe,B,Ne,Ye.value,ee),Ye!==null&&(t&&Ye.alternate!==null&&pe.delete(Ye.key===null?Ne:Ye.key),z=d(Ye,z,Ne),Ke===null?_e=Ye:Ke.sibling=Ye,Ke=Ye);return t&&pe.forEach(function(xw){return r(B,xw)}),qe&&pr(B,Ne),_e}function st(B,z,q,ee){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case I:e:{for(var _e=q.key;z!==null;){if(z.key===_e){if(_e=q.type,_e===P){if(z.tag===7){a(B,z.sibling),ee=f(z,q.props.children),ee.return=B,B=ee;break e}}else if(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===w&&ca(_e)===z.type){a(B,z.sibling),ee=f(z,q.props),Sl(ee,q),ee.return=B,B=ee;break e}a(B,z);break}else r(B,z);z=z.sibling}q.type===P?(ee=sa(q.props.children,B.mode,ee,q.key),ee.return=B,B=ee):(ee=Tc(q.type,q.key,q.props,null,B.mode,ee),Sl(ee,q),ee.return=B,B=ee)}return v(B);case L:e:{for(_e=q.key;z!==null;){if(z.key===_e)if(z.tag===4&&z.stateNode.containerInfo===q.containerInfo&&z.stateNode.implementation===q.implementation){a(B,z.sibling),ee=f(z,q.children||[]),ee.return=B,B=ee;break e}else{a(B,z);break}else r(B,z);z=z.sibling}ee=ed(q,B.mode,ee),ee.return=B,B=ee}return v(B);case w:return q=ca(q),st(B,z,q,ee)}if(lt(q))return de(B,z,q,ee);if(j(q)){if(_e=j(q),typeof _e!="function")throw Error(s(150));return q=_e.call(q),be(B,z,q,ee)}if(typeof q.then=="function")return st(B,z,Ic(q),ee);if(q.$$typeof===J)return st(B,z,Ac(B,q),ee);Dc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,z!==null&&z.tag===6?(a(B,z.sibling),ee=f(z,q),ee.return=B,B=ee):(a(B,z),ee=Zf(q,B.mode,ee),ee.return=B,B=ee),v(B)):a(B,z)}return function(B,z,q,ee){try{bl=0;var _e=st(B,z,q,ee);return so=null,_e}catch(pe){if(pe===ro||pe===Rc)throw pe;var Ke=Qn(29,pe,null,B.mode);return Ke.lanes=ee,Ke.return=B,Ke}}}var fa=Sy(!0),Ay=Sy(!1),rs=!1;function fd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ss(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function as(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Ec(t),oy(t,null,a),r}return _c(t,l,r,a),Ec(t)}function Al(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,dn(t,a)}}function md(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var pd=!1;function wl(){if(pd){var t=io;if(t!==null)throw t}}function Rl(t,r,a,l){pd=!1;var f=t.updateQueue;rs=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var O=b,F=O.next;O.next=null,v===null?d=F:v.next=F,v=O;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==v&&(b===null?Z.firstBaseUpdate=F:b.next=F,Z.lastBaseUpdate=O))}if(d!==null){var te=f.baseState;v=0,Z=F=O=null,b=d;do{var G=b.lane&-536870913,Q=G!==b.lane;if(Q?(Ue&G)===G:(l&G)===G){G!==0&&G===no&&(pd=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var de=t,be=b;G=r;var st=a;switch(be.tag){case 1:if(de=be.payload,typeof de=="function"){te=de.call(st,te,G);break e}te=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=be.payload,G=typeof de=="function"?de.call(st,te,G):de,G==null)break e;te=T({},te,G);break e;case 2:rs=!0}}G=b.callback,G!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(F=Z=Q,O=te):Z=Z.next=Q,v|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(O=te),f.baseState=O,f.firstBaseUpdate=F,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),hs|=v,t.lanes=v,t.memoizedState=te}}function wy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Ry(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wy(a[t],r)}var ao=k(null),xc=k(0);function Cy(t,r){t=Rr,oe(xc,t),oe(ao,r),Rr=t|r.baseLanes}function gd(){oe(xc,Rr),oe(ao,ao.current)}function yd(){Rr=xc.current,X(ao),X(xc)}var $n=k(null),mi=null;function os(t){var r=t.alternate;oe(wt,wt.current&1),oe($n,t),mi===null&&(r===null||ao.current!==null||r.memoizedState!==null)&&(mi=t)}function vd(t){oe(wt,wt.current),oe($n,t),mi===null&&(mi=t)}function Iy(t){t.tag===22?(oe(wt,wt.current),oe($n,t),mi===null&&(mi=t)):ls()}function ls(){oe(wt,wt.current),oe($n,$n.current)}function Xn(t){X($n),mi===t&&(mi=null),X(wt)}var wt=k(0);function Nc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Am(a)||wm(a)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var vr=0,De=null,it=null,kt=null,Oc=!1,oo=!1,da=!1,Mc=0,Cl=0,lo=null,EA=0;function Et(){throw Error(s(321))}function _d(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!Yn(t[a],r[a]))return!1;return!0}function Ed(t,r,a,l,f,d){return vr=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=t===null||t.memoizedState===null?hv:Vd,da=!1,d=a(l,f),da=!1,oo&&(d=xy(r,a,l,f)),Dy(t),d}function Dy(t){W.H=xl;var r=it!==null&&it.next!==null;if(vr=0,kt=it=De=null,Oc=!1,Cl=0,lo=null,r)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&Sc(t)&&(Vt=!0))}function xy(t,r,a,l){De=t;var f=0;do{if(oo&&(lo=null),Cl=0,oo=!1,25<=f)throw Error(s(301));if(f+=1,kt=it=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=fv,d=r(a,l)}while(oo);return d}function TA(){var t=W.H,r=t.useState()[0];return r=typeof r.then=="function"?Il(r):r,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(De.flags|=1024),r}function Td(){var t=Mc!==0;return Mc=0,t}function bd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Sd(t){if(Oc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Oc=!1}vr=0,kt=it=De=null,oo=!1,Cl=Mc=0,lo=null}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?De.memoizedState=kt=t:kt=kt.next=t,kt}function Rt(){if(it===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var r=kt===null?De.memoizedState:kt.next;if(r!==null)kt=r,it=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},kt===null?De.memoizedState=kt=t:kt=kt.next=t}return kt}function kc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var r=Cl;return Cl+=1,lo===null&&(lo=[]),t=Ey(lo,t,r),r=De,(kt===null?r.memoizedState:kt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?hv:Vd),t}function Vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===J)return rn(t)}throw Error(s(438,String(t)))}function Ad(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=kc(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=V;return r.index++,a}function _r(t,r){return typeof r=="function"?r(t):r}function Lc(t){var r=Rt();return wd(r,it,t)}function wd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var b=v=null,O=null,F=r,Z=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Ue&te)===te:(vr&te)===te){var G=F.revertLane;if(G===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===no&&(Z=!0);else if((vr&G)===G){F=F.next,G===no&&(Z=!0);continue}else te={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(b=O=te,v=d):O=O.next=te,De.lanes|=G,hs|=G;te=F.action,da&&a(d,te),d=F.hasEagerState?F.eagerState:a(d,te)}else G={lane:te,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},O===null?(b=O=G,v=d):O=O.next=G,De.lanes|=te,hs|=te;F=F.next}while(F!==null&&F!==r);if(O===null?v=d:O.next=b,!Yn(d,t.memoizedState)&&(Vt=!0,Z&&(a=io,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=O,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Rd(t){var r=Rt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=t(d,v.action),v=v.next;while(v!==f);Yn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Ny(t,r,a){var l=De,f=Rt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!Yn((it||f).memoizedState,a);if(v&&(f.memoizedState=a,Vt=!0),f=f.queue,Dd(ky.bind(null,l,f,t),[t]),f.getSnapshot!==r||v||kt!==null&&kt.memoizedState.tag&1){if(l.flags|=2048,uo(9,{destroy:void 0},My.bind(null,l,f,a,r),null),ot===null)throw Error(s(349));d||(vr&127)!==0||Oy(l,r,a)}return a}function Oy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=kc(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function My(t,r,a,l){r.value=a,r.getSnapshot=l,Vy(r)&&Ly(t)}function ky(t,r,a){return a(function(){Vy(r)&&Ly(t)})}function Vy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!Yn(t,a)}catch{return!0}}function Ly(t){var r=ra(t,2);r!==null&&Vn(r,t,2)}function Cd(t){var r=wn();if(typeof t=="function"){var a=t;if(t=a(),da){cn(!0);try{a()}finally{cn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:t},r}function Py(t,r,a,l){return t.baseState=a,wd(t,it,typeof l=="function"?l:_r)}function bA(t,r,a,l,f){if(zc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Uy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Uy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=W.T,v={};W.T=v;try{var b=a(f,l),O=W.S;O!==null&&O(v,b),zy(t,r,b)}catch(F){Id(t,r,F)}finally{d!==null&&v.types!==null&&(d.types=v.types),W.T=d}}else try{d=a(f,l),zy(t,r,d)}catch(F){Id(t,r,F)}}function zy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jy(t,r,l)},function(l){return Id(t,r,l)}):jy(t,r,a)}function jy(t,r,a){r.status="fulfilled",r.value=a,By(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Uy(t,a)))}function Id(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,By(r),r=r.next;while(r!==l)}t.action=null}function By(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Hy(t,r){return r}function qy(t,r){if(qe){var a=ot.formState;if(a!==null){e:{var l=De;if(qe){if(ut){t:{for(var f=ut,d=di;f.nodeType!==8;){if(!d){f=null;break t}if(f=pi(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ut=pi(f.nextSibling),l=f.data==="F!";break e}}ns(l)}l=!1}l&&(r=a[0])}}return a=wn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hy,lastRenderedState:r},a.queue=l,a=lv.bind(null,De,l),l.dispatch=a,l=Cd(!1),d=kd.bind(null,De,!1,l.queue),l=wn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=bA.bind(null,De,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Fy(t){var r=Rt();return Gy(r,it,t)}function Gy(t,r,a){if(r=wd(t,r,Hy)[0],t=Lc(_r)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Il(r)}catch(v){throw v===ro?Rc:v}else l=r;r=Rt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(De.flags|=2048,uo(9,{destroy:void 0},SA.bind(null,f,a),null)),[l,d,t]}function SA(t,r){t.action=r}function Ky(t){var r=Rt(),a=it;if(a!==null)return Gy(r,a,t);Rt(),r=r.memoizedState,a=Rt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function uo(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=kc(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Yy(){return Rt().memoizedState}function Pc(t,r,a,l){var f=wn();De.flags|=t,f.memoizedState=uo(1|r,{destroy:void 0},a,l===void 0?null:l)}function Uc(t,r,a,l){var f=Rt();l=l===void 0?null:l;var d=f.memoizedState.inst;it!==null&&l!==null&&_d(l,it.memoizedState.deps)?f.memoizedState=uo(r,d,a,l):(De.flags|=t,f.memoizedState=uo(1|r,d,a,l))}function Qy(t,r){Pc(8390656,8,t,r)}function Dd(t,r){Uc(2048,8,t,r)}function AA(t){De.flags|=4;var r=De.updateQueue;if(r===null)r=kc(),De.updateQueue=r,r.events=[t];else{var a=r.events;a===null?r.events=[t]:a.push(t)}}function $y(t){var r=Rt().memoizedState;return AA({ref:r,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function Xy(t,r){return Uc(4,2,t,r)}function Wy(t,r){return Uc(4,4,t,r)}function Jy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Zy(t,r,a){a=a!=null?a.concat([t]):null,Uc(4,4,Jy.bind(null,r,t),a)}function xd(){}function ev(t,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&_d(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function tv(t,r){var a=Rt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&_d(r,l[1]))return l[0];if(l=t(),da){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l}function Nd(t,r,a){return a===void 0||(vr&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=r:(t.memoizedState=a,t=n_(),De.lanes|=t,hs|=t,a)}function nv(t,r,a,l){return Yn(a,r)?a:ao.current!==null?(t=Nd(t,a,l),Yn(t,r)||(Vt=!0),t):(vr&42)===0||(vr&1073741824)!==0&&(Ue&261930)===0?(Vt=!0,t.memoizedState=a):(t=n_(),De.lanes|=t,hs|=t,r)}function iv(t,r,a,l,f){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=W.T,b={};W.T=b,kd(t,!1,r,a);try{var O=f(),F=W.S;if(F!==null&&F(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var Z=_A(O,l);Dl(t,r,Z,Zn(t))}else Dl(t,r,l,Zn(t))}catch(te){Dl(t,r,{then:function(){},status:"rejected",reason:te},Zn())}finally{ae.p=d,v!==null&&b.types!==null&&(v.types=b.types),W.T=v}}function wA(){}function Od(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=rv(t).queue;iv(t,f,r,re,a===null?wA:function(){return sv(t),a(l)})}function rv(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:re},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function sv(t){var r=rv(t);r.next===null&&(r=t.alternate.memoizedState),Dl(t,r.next.queue,{},Zn())}function Md(){return rn(Kl)}function av(){return Rt().memoizedState}function ov(){return Rt().memoizedState}function RA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Zn();t=ss(a);var l=as(r,t,a);l!==null&&(Vn(l,r,a),Al(l,r,a)),r={cache:ld()},t.payload=r;return}r=r.return}}function CA(t,r,a){var l=Zn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},zc(t)?uv(r,a):(a=Wf(t,r,a,l),a!==null&&(Vn(a,t,l),cv(a,r,l)))}function lv(t,r,a){var l=Zn();Dl(t,r,a,l)}function Dl(t,r,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(zc(t))uv(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,b=d(v,a);if(f.hasEagerState=!0,f.eagerState=b,Yn(b,v))return _c(t,r,f,0),ot===null&&vc(),!1}catch{}if(a=Wf(t,r,f,l),a!==null)return Vn(a,t,l),cv(a,r,l),!0}return!1}function kd(t,r,a,l){if(l={lane:2,revertLane:fm(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},zc(t)){if(r)throw Error(s(479))}else r=Wf(t,a,l,2),r!==null&&Vn(r,t,2)}function zc(t){var r=t.alternate;return t===De||r!==null&&r===De}function uv(t,r){oo=Oc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function cv(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,dn(t,a)}}var xl={readContext:rn,use:Vc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et};xl.useEffectEvent=Et;var hv={readContext:rn,use:Vc,useCallback:function(t,r){return wn().memoizedState=[t,r===void 0?null:r],t},useContext:rn,useEffect:Qy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Pc(4194308,4,Jy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Pc(4194308,4,t,r)},useInsertionEffect:function(t,r){Pc(4,2,t,r)},useMemo:function(t,r){var a=wn();r=r===void 0?null:r;var l=t();if(da){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=wn();if(a!==void 0){var f=a(r);if(da){cn(!0);try{a(r)}finally{cn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=CA.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=wn();return t={current:t},r.memoizedState=t},useState:function(t){t=Cd(t);var r=t.queue,a=lv.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:xd,useDeferredValue:function(t,r){var a=wn();return Nd(a,t,r)},useTransition:function(){var t=Cd(!1);return t=iv.bind(null,De,t.queue,!0,!1),wn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,f=wn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ot===null)throw Error(s(349));(Ue&127)!==0||Oy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Qy(ky.bind(null,l,d,t),[t]),l.flags|=2048,uo(9,{destroy:void 0},My.bind(null,l,d,a,r),null),a},useId:function(){var t=wn(),r=ot.identifierPrefix;if(qe){var a=$i,l=Qi;a=(l&~(1<<32-dt(l)-1)).toString(32)+a,r="_"+r+"R_"+a,a=Mc++,0<a&&(r+="H"+a.toString(32)),r+="_"}else a=EA++,r="_"+r+"r_"+a.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Md,useFormState:qy,useActionState:qy,useOptimistic:function(t){var r=wn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=kd.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:Ad,useCacheRefresh:function(){return wn().memoizedState=RA.bind(null,De)},useEffectEvent:function(t){var r=wn(),a={impl:t};return r.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Vd={readContext:rn,use:Vc,useCallback:ev,useContext:rn,useEffect:Dd,useImperativeHandle:Zy,useInsertionEffect:Xy,useLayoutEffect:Wy,useMemo:tv,useReducer:Lc,useRef:Yy,useState:function(){return Lc(_r)},useDebugValue:xd,useDeferredValue:function(t,r){var a=Rt();return nv(a,it.memoizedState,t,r)},useTransition:function(){var t=Lc(_r)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:Il(t),r]},useSyncExternalStore:Ny,useId:av,useHostTransitionStatus:Md,useFormState:Fy,useActionState:Fy,useOptimistic:function(t,r){var a=Rt();return Py(a,it,t,r)},useMemoCache:Ad,useCacheRefresh:ov};Vd.useEffectEvent=$y;var fv={readContext:rn,use:Vc,useCallback:ev,useContext:rn,useEffect:Dd,useImperativeHandle:Zy,useInsertionEffect:Xy,useLayoutEffect:Wy,useMemo:tv,useReducer:Rd,useRef:Yy,useState:function(){return Rd(_r)},useDebugValue:xd,useDeferredValue:function(t,r){var a=Rt();return it===null?Nd(a,t,r):nv(a,it.memoizedState,t,r)},useTransition:function(){var t=Rd(_r)[0],r=Rt().memoizedState;return[typeof t=="boolean"?t:Il(t),r]},useSyncExternalStore:Ny,useId:av,useHostTransitionStatus:Md,useFormState:Ky,useActionState:Ky,useOptimistic:function(t,r){var a=Rt();return it!==null?Py(a,it,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:ov};fv.useEffectEvent=$y;function Ld(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Pd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Zn(),f=ss(l);f.payload=r,a!=null&&(f.callback=a),r=as(t,f,l),r!==null&&(Vn(r,t,l),Al(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Zn(),f=ss(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=as(t,f,l),r!==null&&(Vn(r,t,l),Al(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Zn(),l=ss(a);l.tag=2,r!=null&&(l.callback=r),r=as(t,l,a),r!==null&&(Vn(r,t,a),Al(r,t,a))}};function dv(t,r,a,l,f,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!gl(a,l)||!gl(f,d):!0}function mv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Pd.enqueueReplaceState(r,r.state,null)}function ma(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}function pv(t){yc(t)}function gv(t){console.error(t)}function yv(t){yc(t)}function jc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function vv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ud(t,r,a){return a=ss(a),a.tag=3,a.payload={element:null},a.callback=function(){jc(t,r)},a}function _v(t){return t=ss(t),t.tag=3,t}function Ev(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){vv(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){vv(r,a,l),typeof f!="function"&&(fs===null?fs=new Set([this]):fs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function IA(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&to(r,a,f,!0),a=$n.current,a!==null){switch(a.tag){case 31:case 13:return mi===null?Jc():a.alternate===null&&Tt===0&&(Tt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Cc?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),um(t,l,f)),!1;case 22:return a.flags|=65536,l===Cc?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),um(t,l,f)),!1}throw Error(s(435,a.tag))}return um(t,l,f),Jc(),!1}if(qe)return r=$n.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==id&&(t=Error(s(422),{cause:l}),_l(ci(t,a)))):(l!==id&&(r=Error(s(423),{cause:l}),_l(ci(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=ci(l,a),f=Ud(t.stateNode,l,f),md(t,f),Tt!==4&&(Tt=2)),!1;var d=Error(s(520),{cause:l});if(d=ci(d,a),Ul===null?Ul=[d]:Ul.push(d),Tt!==4&&(Tt=2),r===null)return!0;l=ci(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Ud(a.stateNode,l,t),md(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(fs===null||!fs.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=_v(f),Ev(f,t,a,l),md(a,f),!1}a=a.return}while(a!==null);return!1}var zd=Error(s(461)),Vt=!1;function sn(t,r,a,l){r.child=t===null?Ay(r,null,a,l):fa(r,t.child,a,l)}function Tv(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return la(r),l=Ed(t,r,a,v,d,f),b=Td(),t!==null&&!Vt?(bd(t,r,f),Er(t,r,f)):(qe&&b&&td(r),r.flags|=1,sn(t,r,l,f),r.child)}function bv(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Jf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Sv(t,r,d,l,f)):(t=Tc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Yd(t,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:gl,a(v,l)&&t.ref===r.ref)return Er(t,r,f)}return r.flags|=1,t=mr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Sv(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(gl(d,l)&&t.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,Yd(t,f))(t.flags&131072)!==0&&(Vt=!0);else return r.lanes=t.lanes,Er(t,r,f)}return jd(t,r,a,l,f)}function Av(t,r,a,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return wv(t,r,d,a,l)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&wc(r,d!==null?d.cachePool:null),d!==null?Cy(r,d):gd(),Iy(r);else return l=r.lanes=536870912,wv(t,r,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(wc(r,d.cachePool),Cy(r,d),ls(),r.memoizedState=null):(t!==null&&wc(r,null),gd(),ls());return sn(t,r,f,a),r.child}function Nl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function wv(t,r,a,l,f){var d=cd();return d=d===null?null:{parent:Mt._currentValue,pool:d},r.memoizedState={baseLanes:a,cachePool:d},t!==null&&wc(r,null),gd(),Iy(r),t!==null&&to(t,r,l,!0),r.childLanes=f,null}function Bc(t,r){return r=qc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Rv(t,r,a){return fa(r,t.child,null,a),t=Bc(r,r.pendingProps),t.flags|=2,Xn(r),r.memoizedState=null,t}function DA(t,r,a){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=Bc(r,l),r.lanes=536870912,Nl(null,t);if(vd(r),(t=ut)?(t=U_(t,di),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:es!==null?{id:Qi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=uy(t),a.return=r,r.child=a,nn=r,ut=null)):t=null,t===null)throw ns(r);return r.lanes=536870912,null}return Bc(r,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(vd(r),f)if(r.flags&256)r.flags&=-257,r=Rv(t,r,a);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Vt||to(t,r,a,!1),f=(a&t.childLanes)!==0,Vt||f){if(l=ot,l!==null&&(v=Tn(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,ra(t,v),Vn(l,t,v),zd;Jc(),r=Rv(t,r,a)}else t=d.treeContext,ut=pi(v.nextSibling),nn=r,qe=!0,ts=null,di=!1,t!==null&&fy(r,t),r=Bc(r,l),r.flags|=4096;return r}return t=mr(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Hc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function jd(t,r,a,l,f){return la(r),a=Ed(t,r,a,l,void 0,f),l=Td(),t!==null&&!Vt?(bd(t,r,f),Er(t,r,f)):(qe&&l&&td(r),r.flags|=1,sn(t,r,a,f),r.child)}function Cv(t,r,a,l,f,d){return la(r),r.updateQueue=null,a=xy(r,l,a,f),Dy(t),l=Td(),t!==null&&!Vt?(bd(t,r,d),Er(t,r,d)):(qe&&l&&td(r),r.flags|=1,sn(t,r,a,d),r.child)}function Iv(t,r,a,l,f){if(la(r),r.stateNode===null){var d=Wa,v=a.contextType;typeof v=="object"&&v!==null&&(d=rn(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Pd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},fd(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?rn(v):Wa,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ld(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Pd.enqueueReplaceState(d,d.state,null),Rl(r,l,d,f),wl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,O=ma(a,b);d.props=O;var F=d.context,Z=a.contextType;v=Wa,typeof Z=="object"&&Z!==null&&(v=rn(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==v)&&mv(r,d,l,v),rs=!1;var G=r.memoizedState;d.state=G,Rl(r,l,d,f),wl(),F=r.memoizedState,b||G!==F||rs?(typeof te=="function"&&(Ld(r,a,te,l),F=r.memoizedState),(O=rs||dv(r,a,O,l,G,F,v))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=v,l=O):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,dd(t,r),v=r.memoizedProps,Z=ma(a,v),d.props=Z,te=r.pendingProps,G=d.context,F=a.contextType,O=Wa,typeof F=="object"&&F!==null&&(O=rn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==te||G!==O)&&mv(r,d,l,O),rs=!1,G=r.memoizedState,d.state=G,Rl(r,l,d,f),wl();var Q=r.memoizedState;v!==te||G!==Q||rs||t!==null&&t.dependencies!==null&&Sc(t.dependencies)?(typeof b=="function"&&(Ld(r,a,b,l),Q=r.memoizedState),(Z=rs||dv(r,a,Z,l,G,Q,O)||t!==null&&t.dependencies!==null&&Sc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,O),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,O)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=O,l=Z):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Hc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=fa(r,t.child,null,f),r.child=fa(r,null,a,f)):sn(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Er(t,r,f),t}function Dv(t,r,a,l){return aa(),r.flags|=256,sn(t,r,a,l),r.child}var Bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(t){return{baseLanes:t,cachePool:vy()}}function qd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Jn),t}function xv(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),v&&(f=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(f?os(r):ls(),(t=ut)?(t=U_(t,di),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:es!==null?{id:Qi,overflow:$i}:null,retryLane:536870912,hydrationErrors:null},a=uy(t),a.return=r,r.child=a,nn=r,ut=null)):t=null,t===null)throw ns(r);return wm(t)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(ls(),f=r.mode,b=qc({mode:"hidden",children:b},f),l=sa(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=Hd(a),l.childLanes=qd(t,v,a),r.memoizedState=Bd,Nl(null,l)):(os(r),Fd(r,b))}var O=t.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(d)r.flags&256?(os(r),r.flags&=-257,r=Gd(t,r,a)):r.memoizedState!==null?(ls(),r.child=t.child,r.flags|=128,r=null):(ls(),b=l.fallback,f=r.mode,l=qc({mode:"visible",children:l.children},f),b=sa(b,f,a,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,fa(r,t.child,null,a),l=r.child,l.memoizedState=Hd(a),l.childLanes=qd(t,v,a),r.memoizedState=Bd,r=Nl(null,l));else if(os(r),wm(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var F=v.dgst;v=F,l=Error(s(419)),l.stack="",l.digest=v,_l({value:l,source:null,stack:null}),r=Gd(t,r,a)}else if(Vt||to(t,r,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=ot,v!==null&&(l=Tn(v,a),l!==0&&l!==O.retryLane))throw O.retryLane=l,ra(t,l),Vn(v,t,l),zd;Am(b)||Jc(),r=Gd(t,r,a)}else Am(b)?(r.flags|=192,r.child=t.child,r=null):(t=O.treeContext,ut=pi(b.nextSibling),nn=r,qe=!0,ts=null,di=!1,t!==null&&fy(r,t),r=Fd(r,l.children),r.flags|=4096);return r}return f?(ls(),b=l.fallback,f=r.mode,O=t.child,F=O.sibling,l=mr(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,F!==null?b=mr(F,b):(b=sa(b,f,a,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,Nl(null,l),l=r.child,b=t.child.memoizedState,b===null?b=Hd(a):(f=b.cachePool,f!==null?(O=Mt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=vy(),b={baseLanes:b.baseLanes|a,cachePool:f}),l.memoizedState=b,l.childLanes=qd(t,v,a),r.memoizedState=Bd,Nl(t.child,l)):(os(r),a=t.child,t=a.sibling,a=mr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Fd(t,r){return r=qc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function qc(t,r){return t=Qn(22,t,null,r),t.lanes=0,t}function Gd(t,r,a){return fa(r,t.child,null,a),t=Fd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Nv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),ad(t.return,r,a)}function Kd(t,r,a,l,f,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=f,v.treeForkCount=d)}function Ov(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var v=wt.current,b=(v&2)!==0;if(b?(v=v&1|2,r.flags|=128):v&=1,oe(wt,v),sn(t,r,l,a),l=qe?vl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nv(t,a,r);else if(t.tag===19)Nv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&Nc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Kd(r,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Nc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Kd(r,!0,a,null,d,l);break;case"together":Kd(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Er(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),hs|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(to(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=mr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=mr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Yd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Sc(t)))}function xA(t,r,a){switch(r.tag){case 3:We(r,r.stateNode.containerInfo),is(r,Mt,t.memoizedState.cache),aa();break;case 27:case 5:Oe(r);break;case 4:We(r,r.stateNode.containerInfo);break;case 10:is(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,vd(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(os(r),r.flags|=128,null):(a&r.child.childLanes)!==0?xv(t,r,a):(os(r),t=Er(t,r,a),t!==null?t.sibling:null);os(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(to(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Ov(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),oe(wt,wt.current),l)break;return null;case 22:return r.lanes=0,Av(t,r,a,r.pendingProps);case 24:is(r,Mt,t.memoizedState.cache)}return Er(t,r,a)}function Mv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Vt=!0;else{if(!Yd(t,a)&&(r.flags&128)===0)return Vt=!1,xA(t,r,a);Vt=(t.flags&131072)!==0}else Vt=!1,qe&&(r.flags&1048576)!==0&&hy(r,vl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=ca(r.elementType),r.type=t,typeof t=="function")Jf(t)?(l=ma(t,l),r.tag=1,r=Iv(null,r,t,l,a)):(r.tag=0,r=jd(null,r,t,l,a));else{if(t!=null){var f=t.$$typeof;if(f===se){r.tag=11,r=Tv(null,r,t,l,a);break e}else if(f===C){r.tag=14,r=bv(null,r,t,l,a);break e}}throw r=Pe(t)||t,Error(s(306,r,""))}}return r;case 0:return jd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ma(l,r.pendingProps),Iv(t,r,l,f,a);case 3:e:{if(We(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,dd(t,r),Rl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,is(r,Mt,l),l!==d.cache&&od(r,[Mt],a,!0),wl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Dv(t,r,l,a);break e}else if(l!==f){f=ci(Error(s(424)),r),_l(f),r=Dv(t,r,l,a);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,ut=pi(t.firstChild),nn=r,qe=!0,ts=null,di=!0,a=Ay(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(aa(),l===f){r=Er(t,r,a);break e}sn(t,r,l,a)}r=r.child}return r;case 26:return Hc(t,r),t===null?(a=F_(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=sh(me.current).createElement(a),l[xt]=r,l[Yt]=t,an(l,a,t),Nt(l),r.stateNode=l):r.memoizedState=F_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Oe(r),t===null&&qe&&(l=r.stateNode=B_(r.type,r.pendingProps,me.current),nn=r,di=!0,f=ut,gs(r.type)?(Rm=f,ut=pi(l.firstChild)):ut=f),sn(t,r,r.pendingProps.children,a),Hc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((f=l=ut)&&(l=aw(l,r.type,r.pendingProps,di),l!==null?(r.stateNode=l,nn=r,ut=pi(l.firstChild),di=!1,f=!0):f=!1),f||ns(r)),Oe(r),f=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Tm(f,d)?l=null:v!==null&&Tm(f,v)&&(r.flags|=32),r.memoizedState!==null&&(f=Ed(t,r,TA,null,null,a),Kl._currentValue=f),Hc(t,r),sn(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=ut)&&(a=ow(a,r.pendingProps,di),a!==null?(r.stateNode=a,nn=r,ut=null,t=!0):t=!1),t||ns(r)),null;case 13:return xv(t,r,a);case 4:return We(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=fa(r,null,l,a):sn(t,r,l,a),r.child;case 11:return Tv(t,r,r.type,r.pendingProps,a);case 7:return sn(t,r,r.pendingProps,a),r.child;case 8:return sn(t,r,r.pendingProps.children,a),r.child;case 12:return sn(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,is(r,r.type,l.value),sn(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,la(r),f=rn(f),l=l(f),r.flags|=1,sn(t,r,l,a),r.child;case 14:return bv(t,r,r.type,r.pendingProps,a);case 15:return Sv(t,r,r.type,r.pendingProps,a);case 19:return Ov(t,r,a);case 31:return DA(t,r,a);case 22:return Av(t,r,a,r.pendingProps);case 24:return la(r),l=rn(Mt),t===null?(f=cd(),f===null&&(f=ot,d=ld(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},fd(r),is(r,Mt,f)):((t.lanes&a)!==0&&(dd(t,r),Rl(r,null,null,a),wl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),is(r,Mt,l)):(l=d.cache,is(r,Mt,l),l!==f.cache&&od(r,[Mt],a,!0))),sn(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Tr(t){t.flags|=4}function Qd(t,r,a,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(a_())t.flags|=8192;else throw ha=Cc,hd}else t.flags&=-16777217}function kv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!$_(r))if(a_())t.flags|=8192;else throw ha=Cc,hd}function Fc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Kt():536870912,t.lanes|=r,mo|=r)}function Ol(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function NA(t,r,a){var l=r.pendingProps;switch(nd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),yr(Mt),Me(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(eo(r)?Tr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,rd())),ct(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(Tr(r),d!==null?(ct(r),kv(r,d)):(ct(r),Qd(r,f,null,l,a))):d?d!==t.memoizedState?(Tr(r),ct(r),kv(r,d)):(ct(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&Tr(r),ct(r),Qd(r,f,t,l,a)),null;case 27:if(ti(r),a=me.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}t=ce.current,eo(r)?dy(r):(t=B_(f,l,a),r.stateNode=t,Tr(r))}return ct(r),null;case 5:if(ti(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Tr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(d=ce.current,eo(r))dy(r);else{var v=sh(me.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(f,{is:l.is}):v.createElement(f)}}d[xt]=r,d[Yt]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=d;e:switch(an(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Tr(r)}}return ct(r),Qd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,a),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Tr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=me.current,eo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=nn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[xt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(t.nodeValue,a)),t||ns(r,!0)}else t=sh(t).createTextNode(l),t[xt]=r,r.stateNode=t}return ct(r),null;case 31:if(a=r.memoizedState,t===null||t.memoizedState!==null){if(l=eo(r),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[xt]=r}else aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),t=!1}else a=rd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return r.flags&256?(Xn(r),r):(Xn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return ct(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=eo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xt]=r}else aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),f=!1}else f=rd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Xn(r),r):(Xn(r),null)}return Xn(r),(r.flags&128)!==0?(r.lanes=a,r):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==t&&a&&(r.child.flags|=8192),Fc(r,r.updateQueue),ct(r),null);case 4:return Me(),t===null&&gm(r.stateNode.containerInfo),ct(r),null;case 10:return yr(r.type),ct(r),null;case 19:if(X(wt),l=r.memoizedState,l===null)return ct(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)Ol(l,!1);else{if(Tt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=Nc(t),d!==null){for(r.flags|=128,Ol(l,!1),t=d.updateQueue,r.updateQueue=t,Fc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)ly(a,t),a=a.sibling;return oe(wt,wt.current&1|2),qe&&pr(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&Gt()>$c&&(r.flags|=128,f=!0,Ol(l,!1),r.lanes=4194304)}else{if(!f)if(t=Nc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Fc(r,t),Ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qe)return ct(r),null}else 2*Gt()-l.renderingStartTime>$c&&a!==536870912&&(r.flags|=128,f=!0,Ol(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Gt(),t.sibling=null,a=wt.current,oe(wt,f?a&1|2:a&1),qe&&pr(r,l.treeForkCount),t):(ct(r),null);case 22:case 23:return Xn(r),yd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&Fc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&X(ua),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),yr(Mt),ct(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function OA(t,r){switch(nd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return yr(Mt),Me(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ti(r),null;case 31:if(r.memoizedState!==null){if(Xn(r),r.alternate===null)throw Error(s(340));aa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Xn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));aa()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return X(wt),null;case 4:return Me(),null;case 10:return yr(r.type),null;case 22:case 23:return Xn(r),yd(),t!==null&&X(ua),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return yr(Mt),null;case 25:return null;default:return null}}function Vv(t,r){switch(nd(r),r.tag){case 3:yr(Mt),Me();break;case 26:case 27:case 5:ti(r);break;case 4:Me();break;case 31:r.memoizedState!==null&&Xn(r);break;case 13:Xn(r);break;case 19:X(wt);break;case 10:yr(r.type);break;case 22:case 23:Xn(r),yd(),t!==null&&X(ua);break;case 24:yr(Mt)}}function Ml(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(b){et(r,r.return,b)}}function us(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,f=r;var O=a,F=b;try{F()}catch(Z){et(f,O,Z)}}}l=l.next}while(l!==d)}}catch(Z){et(r,r.return,Z)}}function Lv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Ry(r,a)}catch(l){et(t,t.return,l)}}}function Pv(t,r,a){a.props=ma(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,r,l)}}function kl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){et(t,r,f)}}function Xi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){et(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){et(t,r,f)}else a.current=null}function Uv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){et(t,t.return,f)}}function $d(t,r,a){try{var l=t.stateNode;ew(l,t.type,a,r),l[Yt]=r}catch(f){et(t,t.return,f)}}function zv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&gs(t.type)||t.tag===4}function Xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=bi));else if(l!==4&&(l===27&&gs(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Wd(t,r,a),t=t.sibling;t!==null;)Wd(t,r,a),t=t.sibling}function Gc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&gs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Gc(t,r,a),t=t.sibling;t!==null;)Gc(t,r,a),t=t.sibling}function jv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);an(r,l,a),r[xt]=t,r[Yt]=a}catch(d){et(t,t.return,d)}}var br=!1,Lt=!1,Jd=!1,Bv=typeof WeakSet=="function"?WeakSet:Set,$t=null;function MA(t,r){if(t=t.containerInfo,_m=fh,t=Zg(t),Gf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,O=-1,F=0,Z=0,te=t,G=null;t:for(;;){for(var Q;te!==a||f!==0&&te.nodeType!==3||(b=v+f),te!==d||l!==0&&te.nodeType!==3||(O=v+l),te.nodeType===3&&(v+=te.nodeValue.length),(Q=te.firstChild)!==null;)G=te,te=Q;for(;;){if(te===t)break t;if(G===a&&++F===f&&(b=v),G===d&&++Z===l&&(O=v),(Q=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=Q}a=b===-1||O===-1?null:{start:b,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Em={focusedElem:t,selectionRange:a},fh=!1,$t=r;$t!==null;)if(r=$t,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,$t=t;else for(;$t!==null;){switch(r=$t,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)f=t[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=ma(a.type,f);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){et(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)Sm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Sm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,$t=t;break}$t=r.return}}function Hv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ar(t,a),l&4&&Ml(5,a);break;case 1:if(Ar(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var f=ma(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&Lv(a),l&512&&kl(a,a.return);break;case 3:if(Ar(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ry(t,r)}catch(v){et(a,a.return,v)}}break;case 27:r===null&&l&4&&jv(a);case 26:case 5:Ar(t,a),r===null&&l&4&&Uv(a),l&512&&kl(a,a.return);break;case 12:Ar(t,a);break;case 31:Ar(t,a),l&4&&Gv(t,a);break;case 13:Ar(t,a),l&4&&Kv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=HA.bind(null,a),lw(t,a))));break;case 22:if(l=a.memoizedState!==null||br,!l){r=r!==null&&r.memoizedState!==null||Lt,f=br;var d=Lt;br=l,(Lt=r)&&!d?wr(t,a,(a.subtreeFlags&8772)!==0):Ar(t,a),br=f,Lt=d}break;case 30:break;default:Ar(t,a)}}function qv(t){var r=t.alternate;r!==null&&(t.alternate=null,qv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Pa(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var yt=null,Nn=!1;function Sr(t,r,a){for(a=a.child;a!==null;)Fv(t,r,a),a=a.sibling}function Fv(t,r,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Lt||Xi(a,r),Sr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||Xi(a,r);var l=yt,f=Nn;gs(a.type)&&(yt=a.stateNode,Nn=!1),Sr(t,r,a),ql(a.stateNode),yt=l,Nn=f;break;case 5:Lt||Xi(a,r);case 6:if(l=yt,f=Nn,yt=null,Sr(t,r,a),yt=l,Nn=f,yt!==null)if(Nn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(a.stateNode)}catch(d){et(a,r,d)}else try{yt.removeChild(a.stateNode)}catch(d){et(a,r,d)}break;case 18:yt!==null&&(Nn?(t=yt,L_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),bo(t)):L_(yt,a.stateNode));break;case 4:l=yt,f=Nn,yt=a.stateNode.containerInfo,Nn=!0,Sr(t,r,a),yt=l,Nn=f;break;case 0:case 11:case 14:case 15:us(2,a,r),Lt||us(4,a,r),Sr(t,r,a);break;case 1:Lt||(Xi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Pv(a,r,l)),Sr(t,r,a);break;case 21:Sr(t,r,a);break;case 22:Lt=(l=Lt)||a.memoizedState!==null,Sr(t,r,a),Lt=l;break;default:Sr(t,r,a)}}function Gv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{bo(t)}catch(a){et(r,r.return,a)}}}function Kv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{bo(t)}catch(a){et(r,r.return,a)}}function kA(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Bv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Bv),r;default:throw Error(s(435,t.tag))}}function Kc(t,r){var a=kA(t);r.forEach(function(l){if(!a.has(l)){a.add(l);var f=qA.bind(null,t,l);l.then(f,f)}})}function On(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(gs(b.type)){yt=b.stateNode,Nn=!1;break e}break;case 5:yt=b.stateNode,Nn=!1;break e;case 3:case 4:yt=b.stateNode.containerInfo,Nn=!0;break e}b=b.return}if(yt===null)throw Error(s(160));Fv(d,v,f),yt=null,Nn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Yv(r,t),r=r.sibling}var Ii=null;function Yv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:On(r,t),Mn(t),l&4&&(us(3,t,t.return),Ml(3,t),us(5,t,t.return));break;case 1:On(r,t),Mn(t),l&512&&(Lt||a===null||Xi(a,a.return)),l&64&&br&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ii;if(On(r,t),Mn(t),l&512&&(Lt||a===null||Xi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Li]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),an(d,l,a),d[xt]=t,Nt(d),l=d;break e;case"link":var v=Y_("link","href",f).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=f.createElement(l),an(d,l,a),f.head.appendChild(d);break;case"meta":if(v=Y_("meta","content",f).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=f.createElement(l),an(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=t,Nt(d),l=d}t.stateNode=l}else Q_(f,t.type,t.stateNode);else t.stateNode=K_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Q_(f,t.type,t.stateNode):K_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&$d(t,t.memoizedProps,a.memoizedProps)}break;case 27:On(r,t),Mn(t),l&512&&(Lt||a===null||Xi(a,a.return)),a!==null&&l&4&&$d(t,t.memoizedProps,a.memoizedProps);break;case 5:if(On(r,t),Mn(t),l&512&&(Lt||a===null||Xi(a,a.return)),t.flags&32){f=t.stateNode;try{xn(f,"")}catch(de){et(t,t.return,de)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,$d(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Jd=!0);break;case 6:if(On(r,t),Mn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){et(t,t.return,de)}}break;case 3:if(lh=null,f=Ii,Ii=ah(r.containerInfo),On(r,t),Ii=f,Mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{bo(r.containerInfo)}catch(de){et(t,t.return,de)}Jd&&(Jd=!1,Qv(t));break;case 4:l=Ii,Ii=ah(t.stateNode.containerInfo),On(r,t),Mn(t),Ii=l;break;case 12:On(r,t),Mn(t);break;case 31:On(r,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 13:On(r,t),Mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Qc=Gt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 22:f=t.memoizedState!==null;var O=a!==null&&a.memoizedState!==null,F=br,Z=Lt;if(br=F||f,Lt=Z||O,On(r,t),Lt=Z,br=F,Mn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||O||br||Lt||pa(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){O=a=r;try{if(d=O.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=O.stateNode;var te=O.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(de){et(O,O.return,de)}}}else if(r.tag===6){if(a===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(de){et(O,O.return,de)}}}else if(r.tag===18){if(a===null){O=r;try{var Q=O.stateNode;f?P_(Q,!0):P_(O.stateNode,!1)}catch(de){et(O,O.return,de)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Kc(t,a))));break;case 19:On(r,t),Mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Kc(t,l)));break;case 30:break;case 21:break;default:On(r,t),Mn(t)}}function Mn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(zv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Xd(t);Gc(t,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(xn(v,""),a.flags&=-33);var b=Xd(t);Gc(t,b,v);break;case 3:case 4:var O=a.stateNode.containerInfo,F=Xd(t);Wd(t,F,O);break;default:throw Error(s(161))}}catch(Z){et(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Qv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Qv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ar(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Hv(t,r.alternate,r),r=r.sibling}function pa(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:us(4,r,r.return),pa(r);break;case 1:Xi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Pv(r,r.return,a),pa(r);break;case 27:ql(r.stateNode);case 26:case 5:Xi(r,r.return),pa(r);break;case 22:r.memoizedState===null&&pa(r);break;case 30:pa(r);break;default:pa(r)}t=t.sibling}}function wr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:wr(f,d,a),Ml(4,d);break;case 1:if(wr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){et(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)wy(O[f],b)}catch(F){et(l,l.return,F)}}a&&v&64&&Lv(d),kl(d,d.return);break;case 27:jv(d);case 26:case 5:wr(f,d,a),a&&l===null&&v&4&&Uv(d),kl(d,d.return);break;case 12:wr(f,d,a);break;case 31:wr(f,d,a),a&&v&4&&Gv(f,d);break;case 13:wr(f,d,a),a&&v&4&&Kv(f,d);break;case 22:d.memoizedState===null&&wr(f,d,a),kl(d,d.return);break;case 30:break;default:wr(f,d,a)}r=r.sibling}}function Zd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&El(a))}function em(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&El(t))}function Di(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)$v(t,r,a,l),r=r.sibling}function $v(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Di(t,r,a,l),f&2048&&Ml(9,r);break;case 1:Di(t,r,a,l);break;case 3:Di(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&El(t)));break;case 12:if(f&2048){Di(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){et(r,r.return,O)}}else Di(t,r,a,l);break;case 31:Di(t,r,a,l);break;case 13:Di(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?Di(t,r,a,l):Vl(t,r):d._visibility&2?Di(t,r,a,l):(d._visibility|=2,co(t,r,a,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Zd(v,r);break;case 24:Di(t,r,a,l),f&2048&&em(r.alternate,r);break;default:Di(t,r,a,l)}}function co(t,r,a,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,v=r,b=a,O=l,F=v.flags;switch(v.tag){case 0:case 11:case 15:co(d,v,b,O,f),Ml(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?co(d,v,b,O,f):Vl(d,v):(Z._visibility|=2,co(d,v,b,O,f)),f&&F&2048&&Zd(v.alternate,v);break;case 24:co(d,v,b,O,f),f&&F&2048&&em(v.alternate,v);break;default:co(d,v,b,O,f)}r=r.sibling}}function Vl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Vl(a,l),f&2048&&Zd(l.alternate,l);break;case 24:Vl(a,l),f&2048&&em(l.alternate,l);break;default:Vl(a,l)}r=r.sibling}}var Ll=8192;function ho(t,r,a){if(t.subtreeFlags&Ll)for(t=t.child;t!==null;)Xv(t,r,a),t=t.sibling}function Xv(t,r,a){switch(t.tag){case 26:ho(t,r,a),t.flags&Ll&&t.memoizedState!==null&&Ew(a,Ii,t.memoizedState,t.memoizedProps);break;case 5:ho(t,r,a);break;case 3:case 4:var l=Ii;Ii=ah(t.stateNode.containerInfo),ho(t,r,a),Ii=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ll,Ll=16777216,ho(t,r,a),Ll=l):ho(t,r,a));break;default:ho(t,r,a)}}function Wv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Pl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$t=l,Zv(l,t)}Wv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jv(t),t=t.sibling}function Jv(t){switch(t.tag){case 0:case 11:case 15:Pl(t),t.flags&2048&&us(9,t,t.return);break;case 3:Pl(t);break;case 12:Pl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Yc(t)):Pl(t);break;default:Pl(t)}}function Yc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];$t=l,Zv(l,t)}Wv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:us(8,r,r.return),Yc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Yc(r));break;default:Yc(r)}t=t.sibling}}function Zv(t,r){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:us(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:El(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,$t=l;else e:for(a=t;$t!==null;){l=$t;var f=l.sibling,d=l.return;if(qv(l),l===a){$t=null;break e}if(f!==null){f.return=d,$t=f;break e}$t=d}}}var VA={getCacheForType:function(t){var r=rn(Mt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a},cacheSignal:function(){return rn(Mt).controller.signal}},LA=typeof WeakMap=="function"?WeakMap:Map,$e=0,ot=null,Ve=null,Ue=0,Ze=0,Wn=null,cs=!1,fo=!1,tm=!1,Rr=0,Tt=0,hs=0,ga=0,nm=0,Jn=0,mo=0,Ul=null,kn=null,im=!1,Qc=0,e_=0,$c=1/0,Xc=null,fs=null,jt=0,ds=null,po=null,Cr=0,rm=0,sm=null,t_=null,zl=0,am=null;function Zn(){return($e&2)!==0&&Ue!==0?Ue&-Ue:W.T!==null?fm():Fn()}function n_(){if(Jn===0)if((Ue&536870912)===0||qe){var t=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Jn=t}else Jn=536870912;return t=$n.current,t!==null&&(t.flags|=32),Jn}function Vn(t,r,a){(t===ot&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(go(t,0),ms(t,Ue,Jn,!1)),In(t,a),(($e&2)===0||t!==ot)&&(t===ot&&(($e&2)===0&&(ga|=a),Tt===4&&ms(t,Ue,Jn,!1)),Wi(t))}function i_(t,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&127)===0&&(r&t.expiredLanes)===0||Dt(t,r),f=l?zA(t,r):lm(t,r,!0),d=l;do{if(f===0){fo&&!l&&ms(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!PA(a)){f=lm(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var b=t;f=Ul;var O=b.current.memoizedState.isDehydrated;if(O&&(go(b,v).flags|=256),v=lm(b,v,!1),v!==2){if(tm&&!O){b.errorRecoveryDisabledLanes|=d,ga|=d,f=4;break e}d=kn,kn=f,d!==null&&(kn===null?kn=d:kn.push.apply(kn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){go(t,0),ms(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:ms(l,r,Jn,!cs);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Qc+300-Gt(),10<f)){if(ms(l,r,Jn,!cs),pt(l,0,!0)!==0)break e;Cr=r,l.timeoutHandle=k_(r_.bind(null,l,a,kn,Xc,im,r,Jn,ga,mo,cs,d,"Throttled",-0,0),f);break e}r_(l,a,kn,Xc,im,r,Jn,ga,mo,cs,d,null,-0,0)}}break}while(!0);Wi(t)}function r_(t,r,a,l,f,d,v,b,O,F,Z,te,G,Q){if(t.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bi},Xv(r,d,te);var de=(d&62914560)===d?Qc-Gt():(d&4194048)===d?e_-Gt():0;if(de=Tw(te,de),de!==null){Cr=d,t.cancelPendingCommit=de(f_.bind(null,t,r,d,a,l,f,v,b,O,Z,te,null,G,Q)),ms(t,d,v,!F);return}}f_(t,r,d,a,l,f,v,b,O)}function PA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Yn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ms(t,r,a,l){r&=~nm,r&=~ga,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-dt(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&fn(t,a,r)}function Wc(){return($e&6)===0?(jl(0),!1):!0}function om(){if(Ve!==null){if(Ze===0)var t=Ve.return;else t=Ve,gr=oa=null,Sd(t),so=null,bl=0,t=Ve;for(;t!==null;)Vv(t.alternate,t),t=t.return;Ve=null}}function go(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Cr=0,om(),ot=t,Ve=a=mr(t.current,null),Ue=r,Ze=0,Wn=null,cs=!1,fo=Dt(t,r),tm=!1,mo=Jn=nm=ga=hs=Tt=0,kn=Ul=null,im=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-dt(l),d=1<<f;r|=t[f],l&=~d}return Rr=r,vc(),a}function s_(t,r){De=null,W.H=xl,r===ro||r===Rc?(r=Ty(),Ze=3):r===hd?(r=Ty(),Ze=4):Ze=r===zd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Wn=r,Ve===null&&(Tt=1,jc(t,ci(r,t.current)))}function a_(){var t=$n.current;return t===null?!0:(Ue&4194048)===Ue?mi===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===mi:!1}function o_(){var t=W.H;return W.H=xl,t===null?xl:t}function l_(){var t=W.A;return W.A=VA,t}function Jc(){Tt=4,cs||(Ue&4194048)!==Ue&&$n.current!==null||(fo=!0),(hs&134217727)===0&&(ga&134217727)===0||ot===null||ms(ot,Ue,Jn,!1)}function lm(t,r,a){var l=$e;$e|=2;var f=o_(),d=l_();(ot!==t||Ue!==r)&&(Xc=null,go(t,r)),r=!1;var v=Tt;e:do try{if(Ze!==0&&Ve!==null){var b=Ve,O=Wn;switch(Ze){case 8:om(),v=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(r=!0);var F=Ze;if(Ze=0,Wn=null,yo(t,b,O,F),a&&fo){v=0;break e}break;default:F=Ze,Ze=0,Wn=null,yo(t,b,O,F)}}UA(),v=Tt;break}catch(Z){s_(t,Z)}while(!0);return r&&t.shellSuspendCounter++,gr=oa=null,$e=l,W.H=f,W.A=d,Ve===null&&(ot=null,Ue=0,vc()),v}function UA(){for(;Ve!==null;)u_(Ve)}function zA(t,r){var a=$e;$e|=2;var l=o_(),f=l_();ot!==t||Ue!==r?(Xc=null,$c=Gt()+500,go(t,r)):fo=Dt(t,r);e:do try{if(Ze!==0&&Ve!==null){r=Ve;var d=Wn;t:switch(Ze){case 1:Ze=0,Wn=null,yo(t,r,d,1);break;case 2:case 9:if(_y(d)){Ze=0,Wn=null,c_(r);break}r=function(){Ze!==2&&Ze!==9||ot!==t||(Ze=7),Wi(t)},d.then(r,r);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:_y(d)?(Ze=0,Wn=null,c_(r)):(Ze=0,Wn=null,yo(t,r,d,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var b=Ve;if(v?$_(v):b.stateNode.complete){Ze=0,Wn=null;var O=b.sibling;if(O!==null)Ve=O;else{var F=b.return;F!==null?(Ve=F,Zc(F)):Ve=null}break t}}Ze=0,Wn=null,yo(t,r,d,5);break;case 6:Ze=0,Wn=null,yo(t,r,d,6);break;case 8:om(),Tt=6;break e;default:throw Error(s(462))}}jA();break}catch(Z){s_(t,Z)}while(!0);return gr=oa=null,W.H=l,W.A=f,$e=a,Ve!==null?0:(ot=null,Ue=0,vc(),Tt)}function jA(){for(;Ve!==null&&!Fr();)u_(Ve)}function u_(t){var r=Mv(t.alternate,t,Rr);t.memoizedProps=t.pendingProps,r===null?Zc(t):Ve=r}function c_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Cv(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=Cv(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:Sd(r);default:Vv(a,r),r=Ve=ly(r,Rr),r=Mv(a,r,Rr)}t.memoizedProps=t.pendingProps,r===null?Zc(t):Ve=r}function yo(t,r,a,l){gr=oa=null,Sd(r),so=null,bl=0;var f=r.return;try{if(IA(t,f,r,a,Ue)){Tt=1,jc(t,ci(a,t.current)),Ve=null;return}}catch(d){if(f!==null)throw Ve=f,d;Tt=1,jc(t,ci(a,t.current)),Ve=null;return}r.flags&32768?(qe||l===1?t=!0:fo||(Ue&536870912)!==0?t=!1:(cs=t=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),h_(r,t)):Zc(r)}function Zc(t){var r=t;do{if((r.flags&32768)!==0){h_(r,cs);return}t=r.return;var a=NA(r.alternate,r,Rr);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);Tt===0&&(Tt=5)}function h_(t,r){do{var a=OA(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);Tt=6,Ve=null}function f_(t,r,a,l,f,d,v,b,O){t.cancelPendingCommit=null;do eh();while(jt!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Xf,St(t,a,d,v,b,O),t===ot&&(Ve=ot=null,Ue=0),po=r,ds=t,Cr=a,rm=d,sm=f,t_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FA(En,function(){return y_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=ae.p,ae.p=2,v=$e,$e|=4;try{MA(t,r,a)}finally{$e=v,ae.p=f,W.T=l}}jt=1,d_(),m_(),p_()}}function d_(){if(jt===1){jt=0;var t=ds,r=po,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=$e;$e|=4;try{Yv(r,t);var d=Em,v=Zg(t.containerInfo),b=d.focusedElem,O=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Jg(b.ownerDocument.documentElement,b)){if(O!==null&&Gf(b)){var F=O.start,Z=O.end;if(Z===void 0&&(Z=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(Z,b.value.length);else{var te=b.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var Q=G.getSelection(),de=b.textContent.length,be=Math.min(O.start,de),st=O.end===void 0?be:Math.min(O.end,de);!Q.extend&&be>st&&(v=st,st=be,be=v);var B=Wg(b,be),z=Wg(b,st);if(B&&z&&(Q.rangeCount!==1||Q.anchorNode!==B.node||Q.anchorOffset!==B.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var q=te.createRange();q.setStart(B.node,B.offset),Q.removeAllRanges(),be>st?(Q.addRange(q),Q.extend(z.node,z.offset)):(q.setEnd(z.node,z.offset),Q.addRange(q))}}}}for(te=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&te.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var ee=te[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}fh=!!_m,Em=_m=null}finally{$e=f,ae.p=l,W.T=a}}t.current=r,jt=2}}function m_(){if(jt===2){jt=0;var t=ds,r=po,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=ae.p;ae.p=2;var f=$e;$e|=4;try{Hv(t,r.alternate,r)}finally{$e=f,ae.p=l,W.T=a}}jt=3}}function p_(){if(jt===4||jt===3){jt=0,qs();var t=ds,r=po,a=Cr,l=t_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,po=ds=null,g_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(fs=null),bn(a),r=r.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Hn,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,f=ae.p,ae.p=2,W.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{W.T=r,ae.p=f}}(Cr&3)!==0&&eh(),Wi(t),f=t.pendingLanes,(a&261930)!==0&&(f&42)!==0?t===am?zl++:(zl=0,am=t):zl=0,jl(0)}}function g_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,El(r)))}function eh(){return d_(),m_(),p_(),y_()}function y_(){if(jt!==5)return!1;var t=ds,r=rm;rm=0;var a=bn(Cr),l=W.T,f=ae.p;try{ae.p=32>a?32:a,W.T=null,a=sm,sm=null;var d=ds,v=Cr;if(jt=0,po=ds=null,Cr=0,($e&6)!==0)throw Error(s(331));var b=$e;if($e|=4,Jv(d.current),$v(d,d.current,v,a),$e=b,jl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{ae.p=f,W.T=l,g_(t,r)}}function v_(t,r,a){r=ci(a,r),r=Ud(t.stateNode,r,2),t=as(t,r,2),t!==null&&(In(t,2),Wi(t))}function et(t,r,a){if(t.tag===3)v_(t,t,a);else for(;r!==null;){if(r.tag===3){v_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fs===null||!fs.has(l))){t=ci(a,t),a=_v(2),l=as(r,a,2),l!==null&&(Ev(a,l,r,t),In(l,2),Wi(l));break}}r=r.return}}function um(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new LA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(tm=!0,f.add(a),t=BA.bind(null,t,r,a),r.then(t,t))}function BA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,ot===t&&(Ue&a)===a&&(Tt===4||Tt===3&&(Ue&62914560)===Ue&&300>Gt()-Qc?($e&2)===0&&go(t,0):nm|=a,mo===Ue&&(mo=0)),Wi(t)}function __(t,r){r===0&&(r=Kt()),t=ra(t,r),t!==null&&(In(t,r),Wi(t))}function HA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),__(t,a)}function qA(t,r){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),__(t,a)}function FA(t,r){return tt(t,r)}var th=null,vo=null,cm=!1,nh=!1,hm=!1,ps=0;function Wi(t){t!==vo&&t.next===null&&(vo===null?th=vo=t:vo=vo.next=t),nh=!0,cm||(cm=!0,KA())}function jl(t,r){if(!hm&&nh){hm=!0;do for(var a=!1,l=th;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-dt(42|t)+1)-1,d&=f&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,S_(l,d))}else d=Ue,d=pt(l,l===ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Dt(l,d)||(a=!0,S_(l,d));l=l.next}while(a);hm=!1}}function GA(){E_()}function E_(){nh=cm=!1;var t=0;ps!==0&&nw()&&(t=ps);for(var r=Gt(),a=null,l=th;l!==null;){var f=l.next,d=T_(l,r);d===0?(l.next=null,a===null?th=f:a.next=f,f===null&&(vo=a)):(a=l,(t!==0||(d&3)!==0)&&(nh=!0)),l=f}jt!==0&&jt!==5||jl(t),ps!==0&&(ps=0)}function T_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-dt(d),b=1<<v,O=f[v];O===-1?((b&a)===0||(b&l)!==0)&&(f[v]=hn(b,r)):O<=r&&(t.expiredLanes|=b),d&=~b}if(r=ot,a=Ue,a=pt(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&jn(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Dt(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&jn(l),bn(a)){case 2:case 8:a=ii;break;case 32:a=En;break;case 268435456:a=Gs;break;default:a=En}return l=b_.bind(null,t),a=tt(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&jn(l),t.callbackPriority=2,t.callbackNode=null,2}function b_(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(eh()&&t.callbackNode!==a)return null;var l=Ue;return l=pt(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(i_(t,l,r),T_(t,Gt()),t.callbackNode!=null&&t.callbackNode===a?b_.bind(null,t):null)}function S_(t,r){if(eh())return null;i_(t,r,!0)}function KA(){rw(function(){($e&6)!==0?tt(Fs,GA):E_()})}function fm(){if(ps===0){var t=no;t===0&&(t=ri,ri<<=1,(ri&261888)===0&&(ri=256)),ps=t}return ps}function A_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ba(""+t)}function w_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function YA(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=A_((f[Yt]||null).action),v=l.submitter;v&&(r=(r=v[Yt]||null)?A_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var b=new Fi("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ps!==0){var O=v?w_(f,v):new FormData(f);Od(a,{pending:!0,data:O,method:f.method,action:d},null,O)}}else typeof d=="function"&&(b.preventDefault(),O=v?w_(f,v):new FormData(f),Od(a,{pending:!0,data:O,method:f.method,action:d},d,O))},currentTarget:f}]})}}for(var dm=0;dm<$f.length;dm++){var mm=$f[dm],QA=mm.toLowerCase(),$A=mm[0].toUpperCase()+mm.slice(1);Ci(QA,"on"+$A)}Ci(ny,"onAnimationEnd"),Ci(iy,"onAnimationIteration"),Ci(ry,"onAnimationStart"),Ci("dblclick","onDoubleClick"),Ci("focusin","onFocus"),Ci("focusout","onBlur"),Ci(hA,"onTransitionRun"),Ci(fA,"onTransitionStart"),Ci(dA,"onTransitionCancel"),Ci(sy,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zi("onBeforeInput",["compositionend","keypress","textInput","paste"]),zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function R_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],O=b.instance,F=b.currentTarget;if(b=b.listener,O!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(Z){yc(Z)}f.currentTarget=null,d=O}else for(v=0;v<l.length;v++){if(b=l[v],O=b.instance,F=b.currentTarget,b=b.listener,O!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(Z){yc(Z)}f.currentTarget=null,d=O}}}}function Le(t,r){var a=r[La];a===void 0&&(a=r[La]=new Set);var l=t+"__bubble";a.has(l)||(C_(r,t,2,!1),a.add(l))}function pm(t,r,a){var l=0;r&&(l|=4),C_(a,t,l,r)}var ih="_reactListening"+Math.random().toString(36).slice(2);function gm(t){if(!t[ih]){t[ih]=!0,Zo.forEach(function(a){a!=="selectionchange"&&(XA.has(a)||pm(a,!1,t),pm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[ih]||(r[ih]=!0,pm("selectionchange",!1,r))}}function C_(t,r,a,l){switch(nE(r)){case 2:var f=Aw;break;case 8:f=ww;break;default:f=Nm}a=f.bind(null,r,a,t),f=void 0,!Xs||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function ym(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===f)break;if(v===4)for(v=l.return;v!==null;){var O=v.tag;if((O===3||O===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;b!==null;){if(v=Pi(b),v===null)return;if(O=v.tag,O===5||O===6||O===26||O===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Xr(function(){var F=d,Z=ai(a),te=[];e:{var G=ay.get(t);if(G!==void 0){var Q=Fi,de=t;switch(t){case"keypress":if(Js(a)===0)break e;case"keydown":case"keyup":Q=mc;break;case"focusin":de="focus",Q=ea;break;case"focusout":de="blur",Q=ea;break;case"beforeblur":case"afterblur":Q=ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case ny:case iy:case ry:Q=oc;break;case sy:Q=A;break;case"scroll":case"scrollend":Q=hl;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=dr;break;case"toggle":case"beforetoggle":Q=Ie}var be=(r&4)!==0,st=!be&&(t==="scroll"||t==="scrollend"),B=be?G!==null?G+"Capture":null:G;be=[];for(var z=F,q;z!==null;){var ee=z;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||B===null||(ee=Si(z,B),ee!=null&&be.push(Hl(z,ee,q))),st)break;z=z.return}0<be.length&&(G=new Q(G,de,null,a,Z),te.push({event:G,listeners:be}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",G&&a!==ll&&(de=a.relatedTarget||a.fromElement)&&(Pi(de)||de[Vi]))break e;if((Q||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(de=a.relatedTarget||a.toElement,Q=F,de=de?Pi(de):null,de!==null&&(st=u(de),be=de.tag,de!==st||be!==5&&be!==27&&be!==6)&&(de=null)):(Q=null,de=F),Q!==de)){if(be=fl,ee="onMouseLeave",B="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(be=dr,ee="onPointerLeave",B="onPointerEnter",z="pointer"),st=Q==null?G:Gn(Q),q=de==null?G:Gn(de),G=new be(ee,z+"leave",Q,a,Z),G.target=st,G.relatedTarget=q,ee=null,Pi(Z)===F&&(be=new be(B,z+"enter",de,a,Z),be.target=q,be.relatedTarget=st,ee=be),st=ee,Q&&de)t:{for(be=WA,B=Q,z=de,q=0,ee=B;ee;ee=be(ee))q++;ee=0;for(var _e=z;_e;_e=be(_e))ee++;for(;0<q-ee;)B=be(B),q--;for(;0<ee-q;)z=be(z),ee--;for(;q--;){if(B===z||z!==null&&B===z.alternate){be=B;break t}B=be(B),z=be(z)}be=null}else be=null;Q!==null&&I_(te,G,Q,be,!1),de!==null&&st!==null&&I_(te,st,de,be,!0)}}e:{if(G=F?Gn(F):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Ke=Gg;else if(qg(G))if(Kg)Ke=lA;else{Ke=aA;var pe=sA}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&ja(F.elementType)&&(Ke=Gg):Ke=oA;if(Ke&&(Ke=Ke(t,F))){Fg(te,Ke,a,Z);break e}pe&&pe(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&sl(G,"number",G.value)}switch(pe=F?Gn(F):window,t){case"focusin":(qg(pe)||pe.contentEditable==="true")&&(Qa=pe,Kf=F,yl=null);break;case"focusout":yl=Kf=Qa=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,ey(te,a,Z);break;case"selectionchange":if(cA)break;case"keydown":case"keyup":ey(te,a,Z)}var Ne;if(Qe)e:{switch(t){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Ya?ta(t,a)&&(ze="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ze="onCompositionStart");ze&&(Yi&&a.locale!=="ko"&&(Ya||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Ya&&(Ne=cl()):(qi=Z,ul="value"in qi?qi.value:qi.textContent,Ya=!0)),pe=rh(F,ze),0<pe.length&&(ze=new Ki(ze,t,null,a,Z),te.push({event:ze,listeners:pe}),Ne?ze.data=Ne:(Ne=Ka(a),Ne!==null&&(ze.data=Ne)))),(Ne=li?tA(t,a):nA(t,a))&&(ze=rh(F,"onBeforeInput"),0<ze.length&&(pe=new Ki("onBeforeInput","beforeinput",null,a,Z),te.push({event:pe,listeners:ze}),pe.data=Ne)),YA(te,t,F,a,Z)}R_(te,r)})}function Hl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function rh(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Si(t,a),f!=null&&l.unshift(Hl(t,f,d)),f=Si(t,r),f!=null&&l.push(Hl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function WA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function I_(t,r,a,l,f){for(var d=r._reactName,v=[];a!==null&&a!==l;){var b=a,O=b.alternate,F=b.stateNode;if(b=b.tag,O!==null&&O===l)break;b!==5&&b!==26&&b!==27||F===null||(O=F,f?(F=Si(a,d),F!=null&&v.unshift(Hl(a,F,O))):f||(F=Si(a,d),F!=null&&v.push(Hl(a,F,O)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var JA=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function D_(t){return(typeof t=="string"?t:""+t).replace(JA,`
`).replace(ZA,"")}function x_(t,r){return r=D_(r),D_(t)===r}function rt(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xn(t,""+l);break;case"className":Kn(t,"class",l);break;case"tabIndex":Kn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(t,a,l);break;case"style":ol(t,l,d);break;case"data":if(r!=="object"){Kn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&rt(t,r,"name",f.name,f,null),rt(t,r,"formEncType",f.formEncType,f,null),rt(t,r,"formMethod",f.formMethod,f,null),rt(t,r,"formTarget",f.formTarget,f,null)):(rt(t,r,"encType",f.encType,f,null),rt(t,r,"method",f.method,f,null),rt(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=bi);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),Ua(t,"popover",l);break;case"xlinkActuate":Ot(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ot(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ot(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ot(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ot(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ot(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ot(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ua(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rc.get(a)||a,Ua(t,a,l))}}function vm(t,r,a,l,f,d){switch(a){case"style":ol(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?xn(t,l):(typeof l=="number"||typeof l=="bigint")&&xn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!el.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[Yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ua(t,a,l)}}}function an(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,d,v,a,null)}}f&&rt(t,r,"srcSet",a.srcSet,a,null),l&&rt(t,r,"src",a.src,a,null);return;case"input":Le("invalid",t);var b=d=v=f=null,O=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":v=Z;break;case"checked":O=Z;break;case"defaultChecked":F=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:rt(t,r,l,Z,a,null)}}tc(t,d,b,O,F,v,f,!1);return;case"select":Le("invalid",t),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:rt(t,r,f,b,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Kr(t,!!l,r,!1):a!=null&&Kr(t,!!l,a,!0);return;case"textarea":Le("invalid",t),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:rt(t,r,v,b,a,null)}Yr(t,l,f,d);return;case"option":for(O in a)a.hasOwnProperty(O)&&(l=a[O],l!=null)&&(O==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(t,r,O,l,a,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Le(Bl[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:rt(t,r,F,l,a,null)}return;default:if(ja(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&vm(t,r,Z,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&rt(t,r,b,l,a,null))}function ew(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,b=null,O=null,F=null,Z=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":O=te;default:l.hasOwnProperty(Q)||rt(t,r,Q,null,l,te)}}for(var G in l){var Q=l[G];if(te=a[G],l.hasOwnProperty(G)&&(Q!=null||te!=null))switch(G){case"type":d=Q;break;case"name":f=Q;break;case"checked":F=Q;break;case"defaultChecked":Z=Q;break;case"value":v=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==te&&rt(t,r,G,Q,l,te)}}za(t,v,b,O,F,Z,d,f);return;case"select":Q=v=b=G=null;for(d in a)if(O=a[d],a.hasOwnProperty(d)&&O!=null)switch(d){case"value":break;case"multiple":Q=O;default:l.hasOwnProperty(d)||rt(t,r,d,null,l,O)}for(f in l)if(d=l[f],O=a[f],l.hasOwnProperty(f)&&(d!=null||O!=null))switch(f){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==O&&rt(t,r,f,d,l,O)}r=b,a=v,l=Q,G!=null?Kr(t,!!a,G,!1):!!l!=!!a&&(r!=null?Kr(t,!!a,r,!0):Kr(t,!!a,a?[]:"",!1));return;case"textarea":Q=G=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:rt(t,r,b,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":G=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&rt(t,r,v,f,l,d)}nc(t,G,Q);return;case"option":for(var de in a)G=a[de],a.hasOwnProperty(de)&&G!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:rt(t,r,de,null,l,G));for(O in l)G=l[O],Q=a[O],l.hasOwnProperty(O)&&G!==Q&&(G!=null||Q!=null)&&(O==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":rt(t,r,O,G,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)G=a[be],a.hasOwnProperty(be)&&G!=null&&!l.hasOwnProperty(be)&&rt(t,r,be,null,l,G);for(F in l)if(G=l[F],Q=a[F],l.hasOwnProperty(F)&&G!==Q&&(G!=null||Q!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:rt(t,r,F,G,l,Q)}return;default:if(ja(r)){for(var st in a)G=a[st],a.hasOwnProperty(st)&&G!==void 0&&!l.hasOwnProperty(st)&&vm(t,r,st,void 0,l,G);for(Z in l)G=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||G===Q||G===void 0&&Q===void 0||vm(t,r,Z,G,l,Q);return}}for(var B in a)G=a[B],a.hasOwnProperty(B)&&G!=null&&!l.hasOwnProperty(B)&&rt(t,r,B,null,l,G);for(te in l)G=l[te],Q=a[te],!l.hasOwnProperty(te)||G===Q||G==null&&Q==null||rt(t,r,te,G,l,Q)}function N_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,v=f.initiatorType,b=f.duration;if(d&&b&&N_(v)){for(v=0,b=f.responseEnd,l+=1;l<a.length;l++){var O=a[l],F=O.startTime;if(F>b)break;var Z=O.transferSize,te=O.initiatorType;Z&&N_(te)&&(O=O.responseEnd,v+=Z*(O<b?1:(b-F)/(O-F)))}if(--l,r+=8*(d+v)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var _m=null,Em=null;function sh(t){return t.nodeType===9?t:t.ownerDocument}function O_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function M_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Tm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bm=null;function nw(){var t=window.event;return t&&t.type==="popstate"?t===bm?!1:(bm=t,!0):(bm=null,!1)}var k_=typeof setTimeout=="function"?setTimeout:void 0,iw=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,rw=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(t){return V_.resolve(null).then(t).catch(sw)}:k_;function sw(t){setTimeout(function(){throw t})}function gs(t){return t==="head"}function L_(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(f),bo(r);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")ql(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,ql(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[Li]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&ql(t.ownerDocument.body);a=f}while(a);bo(r)}function P_(t,r){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?r?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(r?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Sm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sm(a),Pa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aw(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Li])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=pi(t.nextSibling),t===null)break}return null}function ow(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=pi(t.nextSibling),t===null))return null;return t}function U_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=pi(t.nextSibling),t===null))return null;return t}function Am(t){return t.data==="$?"||t.data==="$~"}function wm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lw(t,r){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||a.readyState!=="loading")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function pi(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var Rm=null;function z_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(r===0)return pi(t.nextSibling);r--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||r++}t=t.nextSibling}return null}function j_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(r===0)return t;r--}else a!=="/$"&&a!=="/&"||r++}t=t.previousSibling}return null}function B_(t,r,a){switch(r=sh(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function ql(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Pa(t)}var gi=new Map,H_=new Set;function ah(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ir=ae.d;ae.d={f:uw,r:cw,D:hw,C:fw,L:dw,m:mw,X:gw,S:pw,M:yw};function uw(){var t=Ir.f(),r=Wc();return t||r}function cw(t){var r=si(t);r!==null&&r.tag===5&&r.type==="form"?sv(r):Ir.r(t)}var _o=typeof document>"u"?null:document;function q_(t,r,a){var l=_o;if(l&&typeof r=="string"&&r){var f=Dn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),H_.has(f)||(H_.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),an(r,"link",t),Nt(r),l.head.appendChild(r)))}}function hw(t){Ir.D(t),q_("dns-prefetch",t,null)}function fw(t,r){Ir.C(t,r),q_("preconnect",t,r)}function dw(t,r,a){Ir.L(t,r,a);var l=_o;if(l&&t&&r){var f='link[rel="preload"][as="'+Dn(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Dn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Dn(a.imageSizes)+'"]')):f+='[href="'+Dn(t)+'"]';var d=f;switch(r){case"style":d=Eo(t);break;case"script":d=To(t)}gi.has(d)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),gi.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Fl(d))||r==="script"&&l.querySelector(Gl(d))||(r=l.createElement("link"),an(r,"link",t),Nt(r),l.head.appendChild(r)))}}function mw(t,r){Ir.m(t,r);var a=_o;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Dn(l)+'"][href="'+Dn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=To(t)}if(!gi.has(d)&&(t=T({rel:"modulepreload",href:t},r),gi.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Gl(d)))return}l=a.createElement("link"),an(l,"link",t),Nt(l),a.head.appendChild(l)}}}function pw(t,r,a){Ir.S(t,r,a);var l=_o;if(l&&t){var f=Ui(l).hoistableStyles,d=Eo(t);r=r||"default";var v=f.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Fl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=gi.get(d))&&Cm(t,a);var O=v=l.createElement("link");Nt(O),an(O,"link",t),O._p=new Promise(function(F,Z){O.onload=F,O.onerror=Z}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,oh(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},f.set(d,v)}}}function gw(t,r){Ir.X(t,r);var a=_o;if(a&&t){var l=Ui(a).hoistableScripts,f=To(t),d=l.get(f);d||(d=a.querySelector(Gl(f)),d||(t=T({src:t,async:!0},r),(r=gi.get(f))&&Im(t,r),d=a.createElement("script"),Nt(d),an(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function yw(t,r){Ir.M(t,r);var a=_o;if(a&&t){var l=Ui(a).hoistableScripts,f=To(t),d=l.get(f);d||(d=a.querySelector(Gl(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=gi.get(f))&&Im(t,r),d=a.createElement("script"),Nt(d),an(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function F_(t,r,a,l){var f=(f=me.current)?ah(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Eo(a.href),a=Ui(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Eo(a.href);var d=Ui(f).hoistableStyles,v=d.get(t);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=f.querySelector(Fl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),gi.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},gi.set(t,a),d||vw(f,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=To(a),a=Ui(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Eo(t){return'href="'+Dn(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function G_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function vw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),an(r,"link",a),Nt(r),t.head.appendChild(r))}function To(t){return'[src="'+Dn(t)+'"]'}function Gl(t){return"script[async]"+t}function K_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Dn(a.href)+'"]');if(l)return r.instance=l,Nt(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Nt(l),an(l,"style",f),oh(l,a.precedence,t),r.instance=l;case"stylesheet":f=Eo(a.href);var d=t.querySelector(Fl(f));if(d)return r.state.loading|=4,r.instance=d,Nt(d),d;l=G_(a),(f=gi.get(f))&&Cm(l,f),d=(t.ownerDocument||t).createElement("link"),Nt(d);var v=d;return v._p=new Promise(function(b,O){v.onload=b,v.onerror=O}),an(d,"link",l),r.state.loading|=4,oh(d,a.precedence,t),r.instance=d;case"script":return d=To(a.src),(f=t.querySelector(Gl(d)))?(r.instance=f,Nt(f),f):(l=a,(f=gi.get(d))&&(l=T({},a),Im(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Nt(f),an(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,oh(l,a.precedence,t));return r.instance}function oh(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function Cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Im(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var lh=null;function Y_(t,r,a){if(lh===null){var l=new Map,f=lh=new Map;f.set(a,l)}else f=lh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[Li]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function Q_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function _w(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function $_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Ew(t,r,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Eo(l.href),d=r.querySelector(Fl(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=uh.bind(t),r.then(t,t)),a.state.loading|=4,a.instance=d,Nt(d);return}d=r.ownerDocument||r,l=G_(l),(f=gi.get(f))&&Cm(l,f),d=d.createElement("link"),Nt(d);var v=d;v._p=new Promise(function(b,O){v.onload=b,v.onerror=O}),an(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,r),(r=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=uh.bind(t),r.addEventListener("load",a),r.addEventListener("error",a))}}var Dm=0;function Tw(t,r){return t.stylesheets&&t.count===0&&hh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&Dm===0&&(Dm=62500*tw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Dm?50:800)+r);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function uh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var ch=null;function hh(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,ch=new Map,r.forEach(bw,t),ch=null,uh.call(t))}function bw(t,r){if(!(r.state.loading&4)){var a=ch.get(t);if(a)var l=a.get(null);else{a=new Map,ch.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=r.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=uh.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var Kl={$$typeof:J,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Sw(t,r,a,l,f,d,v,b,O){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bt(0),this.hiddenUpdates=bt(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function X_(t,r,a,l,f,d,v,b,O,F,Z,te){return t=new Sw(t,r,a,v,O,F,Z,te,b),r=1,d===!0&&(r|=24),d=Qn(3,null,null,r),t.current=d,d.stateNode=t,r=ld(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},fd(d),t}function W_(t){return t?(t=Wa,t):Wa}function J_(t,r,a,l,f,d){f=W_(f),l.context===null?l.context=f:l.pendingContext=f,l=ss(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=as(t,l,r),a!==null&&(Vn(a,t,r),Al(a,t,r))}function Z_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function xm(t,r){Z_(t,r),(t=t.alternate)&&Z_(t,r)}function eE(t){if(t.tag===13||t.tag===31){var r=ra(t,67108864);r!==null&&Vn(r,t,67108864),xm(t,67108864)}}function tE(t){if(t.tag===13||t.tag===31){var r=Zn();r=qn(r);var a=ra(t,r);a!==null&&Vn(a,t,r),xm(t,r)}}var fh=!0;function Aw(t,r,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=2,Nm(t,r,a,l)}finally{ae.p=d,W.T=f}}function ww(t,r,a,l){var f=W.T;W.T=null;var d=ae.p;try{ae.p=8,Nm(t,r,a,l)}finally{ae.p=d,W.T=f}}function Nm(t,r,a,l){if(fh){var f=Om(l);if(f===null)ym(t,r,l,dh,a),iE(t,l);else if(Cw(f,t,r,a,l))l.stopPropagation();else if(iE(t,l),r&4&&-1<Rw.indexOf(t)){for(;f!==null;){var d=si(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=mt(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var O=1<<31-dt(v);b.entanglements[1]|=O,v&=~O}Wi(d),($e&6)===0&&($c=Gt()+500,jl(0))}}break;case 31:case 13:b=ra(d,2),b!==null&&Vn(b,d,2),Wc(),xm(d,2)}if(d=Om(l),d===null&&ym(t,r,l,dh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else ym(t,r,l,null,a)}}function Om(t){return t=ai(t),Mm(t)}var dh=null;function Mm(t){if(dh=null,t=Pi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=c(r),t!==null)return t;t=null}else if(a===31){if(t=m(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return dh=t,null}function nE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case Fs:return 2;case ii:return 8;case En:case lr:return 32;case Gs:return 268435456;default:return 32}default:return 32}}var km=!1,ys=null,vs=null,_s=null,Yl=new Map,Ql=new Map,Es=[],Rw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iE(t,r){switch(t){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Yl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(r.pointerId)}}function $l(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=si(r),r!==null&&eE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Cw(t,r,a,l,f){switch(r){case"focusin":return ys=$l(ys,t,r,a,l,f),!0;case"dragenter":return vs=$l(vs,t,r,a,l,f),!0;case"mouseover":return _s=$l(_s,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Yl.set(d,$l(Yl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ql.set(d,$l(Ql.get(d)||null,t,r,a,l,f)),!0}return!1}function rE(t){var r=Pi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=c(a),r!==null){t.blockedOn=r,en(t.priority,function(){tE(a)});return}}else if(r===31){if(r=m(a),r!==null){t.blockedOn=r,en(t.priority,function(){tE(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mh(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ll=l,a.target.dispatchEvent(l),ll=null}else return r=si(a),r!==null&&eE(r),t.blockedOn=a,!1;r.shift()}return!0}function sE(t,r,a){mh(t)&&a.delete(r)}function Iw(){km=!1,ys!==null&&mh(ys)&&(ys=null),vs!==null&&mh(vs)&&(vs=null),_s!==null&&mh(_s)&&(_s=null),Yl.forEach(sE),Ql.forEach(sE)}function ph(t,r){t.blockedOn===r&&(t.blockedOn=null,km||(km=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Iw)))}var gh=null;function aE(t){gh!==t&&(gh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){gh===t&&(gh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Mm(l||a)===null)continue;break}var d=si(a);d!==null&&(t.splice(r,3),r-=3,Od(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function bo(t){function r(O){return ph(O,t)}ys!==null&&ph(ys,t),vs!==null&&ph(vs,t),_s!==null&&ph(_s,t),Yl.forEach(r),Ql.forEach(r);for(var a=0;a<Es.length;a++){var l=Es[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Es.length&&(a=Es[0],a.blockedOn===null);)rE(a),a.blockedOn===null&&Es.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[Yt]||null;if(typeof d=="function")v||aE(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[Yt]||null)b=v.formAction;else if(Mm(f)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),aE(a)}}}function oE(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Vm(t){this._internalRoot=t}yh.prototype.render=Vm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Zn();J_(a,l,t,r,null,null)},yh.prototype.unmount=Vm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;J_(t.current,2,null,t,null,null),Wc(),r[Vi]=null}};function yh(t){this._internalRoot=t}yh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Fn();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Es.length&&r!==0&&r<Es[a].priority;a++);Es.splice(a,0,t),a===0&&rE(t)}};var lE=e.version;if(lE!=="19.2.3")throw Error(s(527,lE,"19.2.3"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var Dw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vh.isDisabled&&vh.supportsFiber)try{Hn=vh.inject(Dw),zt=vh}catch{}}return Wl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=pv,d=gv,v=yv;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=X_(t,1,!1,null,null,a,l,null,f,d,v,oE),t[Vi]=r.current,gm(t),new Vm(r)},Wl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=pv,v=gv,b=yv,O=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(O=a.formState)),r=X_(t,1,!0,r,a??null,l,f,O,d,v,b,oE),r.context=W_(null),a=r.current,l=Zn(),l=qn(l),f=ss(l),f.callback=null,as(a,f,l),a=l,r.current.lanes=a,In(r,a),Wi(r),t[Vi]=r.current,gm(t),new yh(r)},Wl.version="19.2.3",Wl}var vE;function zw(){if(vE)return Um.exports;vE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Um.exports=Uw(),Um.exports}var jw=zw();var _E="popstate";function Bw(i={}){function e(s,o){let{pathname:u,search:c,hash:m}=s.location;return op("",{pathname:u,search:c,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:yu(o)}return qw(e,n,null,i)}function qt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Mi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hw(){return Math.random().toString(36).substring(2,10)}function EE(i,e){return{usr:i.state,key:i.key,idx:e}}function op(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ku(e):e,state:n,key:e&&e.key||s||Hw()}}function yu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ku(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function qw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,c=o.history,m="POP",p=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){m="POP";let U=_(),K=U==null?null:U-g;g=U,p&&p({action:m,location:P.location,delta:K})}function S(U,K){m="PUSH";let $=op(P.location,U,K);g=_()+1;let J=EE($,g),se=P.createHref($);try{c.pushState(J,"",se)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(se)}u&&p&&p({action:m,location:P.location,delta:1})}function I(U,K){m="REPLACE";let $=op(P.location,U,K);g=_();let J=EE($,g),se=P.createHref($);c.replaceState(J,"",se),u&&p&&p({action:m,location:P.location,delta:0})}function L(U){return Fw(U)}let P={get action(){return m},get location(){return i(o,c)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(_E,T),p=U,()=>{o.removeEventListener(_E,T),p=null}},createHref(U){return e(o,U)},createURL:L,encodeLocation(U){let K=L(U);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:I,go(U){return c.go(U)}};return P}function Fw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),qt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:yu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function MT(i,e,n="/"){return Gw(i,e,n,!1)}function Gw(i,e,n,s){let o=typeof e=="string"?ku(e):e,u=Vr(o.pathname||"/",n);if(u==null)return null;let c=kT(i);Kw(c);let m=null;for(let p=0;m==null&&p<c.length;++p){let g=iR(u);m=tR(c[p],g,s)}return m}function kT(i,e=[],n=[],s="",o=!1){let u=(c,m,p=o,g)=>{let _={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:m,route:c};if(_.relativePath.startsWith("/")){if(!_.relativePath.startsWith(s)&&p)return;qt(_.relativePath.startsWith(s),`Absolute route path "${_.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),_.relativePath=_.relativePath.slice(s.length)}let T=Or([s,_.relativePath]),S=n.concat(_);c.children&&c.children.length>0&&(qt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),kT(c.children,e,S,T,p)),!(c.path==null&&!c.index)&&e.push({path:T,score:Zw(T,c.index),routesMeta:S})};return i.forEach((c,m)=>{if(c.path===""||!c.path?.includes("?"))u(c,m);else for(let p of VT(c.path))u(c,m,!0,p)}),e}function VT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let c=VT(s.join("/")),m=[];return m.push(...c.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...c),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Kw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:eR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Yw=/^:[\w-]+$/,Qw=3,$w=2,Xw=1,Ww=10,Jw=-2,TE=i=>i==="*";function Zw(i,e){let n=i.split("/"),s=n.length;return n.some(TE)&&(s+=Jw),e&&(s+=$w),n.filter(o=>!TE(o)).reduce((o,u)=>o+(Yw.test(u)?Qw:u===""?Xw:Ww),s)}function eR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function tR(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",c=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",T=Gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),S=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Gh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(o,T.params),c.push({params:o,pathname:Or([u,T.pathname]),pathnameBase:oR(Or([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=Or([u,T.pathnameBase]))}return c}function Gh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=nR(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:T},S)=>{if(_==="*"){let L=m[S]||"";c=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const I=m[S];return T&&!I?g[_]=void 0:g[_]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:c,pattern:i}}function nR(i,e=!1,n=!0){Mi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function iR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Vr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}var LT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rR=i=>LT.test(i);function sR(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ku(i):i,u;if(n)if(rR(n))u=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Mi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?u=bE(n.substring(1),"/"):u=bE(n,e)}else u=e;return{pathname:u,search:lR(s),hash:uR(o)}}function bE(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aR(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PT(i){let e=aR(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function UT(i,e,n,s=!1){let o;typeof i=="string"?o=ku(i):(o={...i},qt(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),qt(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),qt(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let u=i===""||o.pathname==="",c=u?"/":o.pathname,m;if(c==null)m=n;else{let T=e.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}m=T>=0?e[T]:"/"}let p=sR(o,m),g=c&&c!=="/"&&c.endsWith("/"),_=(u||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var Or=i=>i.join("/").replace(/\/\/+/g,"/"),oR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),lR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,uR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,cR=class{constructor(i,e,n,s=!1){this.status=i,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function hR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function fR(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var zT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function jT(i,e){let n=i;if(typeof n!="string"||!LT.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(zT)try{let u=new URL(window.location.href),c=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=Vr(c.pathname,e);c.origin===u.origin&&m!=null?n=m+c.search+c.hash:o=!0}catch{Mi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var BT=["POST","PUT","PATCH","DELETE"];new Set(BT);var dR=["GET",...BT];new Set(dR);var Ho=R.createContext(null);Ho.displayName="DataRouter";var vf=R.createContext(null);vf.displayName="DataRouterState";var mR=R.createContext(!1),HT=R.createContext({isTransitioning:!1});HT.displayName="ViewTransition";var pR=R.createContext(new Map);pR.displayName="Fetchers";var gR=R.createContext(null);gR.displayName="Await";var Ti=R.createContext(null);Ti.displayName="Navigation";var _f=R.createContext(null);_f.displayName="Location";var jr=R.createContext({outlet:null,matches:[],isDataRoute:!1});jr.displayName="Route";var zp=R.createContext(null);zp.displayName="RouteError";var qT="REACT_ROUTER_ERROR",yR="REDIRECT",vR="ROUTE_ERROR_RESPONSE";function _R(i){if(i.startsWith(`${qT}:${yR}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ER(i){if(i.startsWith(`${qT}:${vR}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new cR(e.status,e.statusText,e.data)}catch{}}function TR(i,{relative:e}={}){qt(Vu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=R.useContext(Ti),{hash:o,pathname:u,search:c}=Lu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Or([n,u])),s.createHref({pathname:m,search:c,hash:o})}function Vu(){return R.useContext(_f)!=null}function Da(){return qt(Vu(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(_f).location}var FT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GT(i){R.useContext(Ti).static||R.useLayoutEffect(i)}function bR(){let{isDataRoute:i}=R.useContext(jr);return i?VR():SR()}function SR(){qt(Vu(),"useNavigate() may be used only in the context of a <Router> component.");let i=R.useContext(Ho),{basename:e,navigator:n}=R.useContext(Ti),{matches:s}=R.useContext(jr),{pathname:o}=Da(),u=JSON.stringify(PT(s)),c=R.useRef(!1);return GT(()=>{c.current=!0}),R.useCallback((p,g={})=>{if(Mi(c.current,FT),!c.current)return;if(typeof p=="number"){n.go(p);return}let _=UT(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Or([e,_.pathname])),(g.replace?n.replace:n.push)(_,g.state,g)},[e,n,u,o,i])}R.createContext(null);function Lu(i,{relative:e}={}){let{matches:n}=R.useContext(jr),{pathname:s}=Da(),o=JSON.stringify(PT(n));return R.useMemo(()=>UT(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function AR(i,e,n,s,o){qt(Vu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=R.useContext(Ti),{matches:c}=R.useContext(jr),m=c[c.length-1],p=m?m.params:{},g=m?m.pathname:"/",_=m?m.pathnameBase:"/",T=m&&m.route;{let $=T&&T.path||"";YT(g,!T||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let S=Da(),I;I=S;let L=I.pathname||"/",P=L;if(_!=="/"){let $=_.replace(/^\//,"").split("/");P="/"+L.replace(/^\//,"").split("/").slice($.length).join("/")}let U=MT(i,{pathname:P});return Mi(T||U!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Mi(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),DR(U&&U.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Or([_,u.encodeLocation?u.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?_:Or([_,u.encodeLocation?u.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,n,s,o)}function wR(){let i=kR(),e=hR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:u},"ErrorBoundary")," or"," ",R.createElement("code",{style:u},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:o},n):null,c)}var RR=R.createElement(wR,null),KT=class extends R.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=ER(i.digest);n&&(i=n)}let e=i!==void 0?R.createElement(jr.Provider,{value:this.props.routeContext},R.createElement(zp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?R.createElement(CR,{error:i},e):e}};KT.contextType=mR;var qm=new WeakMap;function CR({children:i,error:e}){let{basename:n}=R.useContext(Ti);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=_R(e.digest);if(s){let o=qm.get(e);if(o)throw o;let u=jT(s.location,n);if(zT&&!qm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw qm.set(e,c),c}return R.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function IR({routeContext:i,match:e,children:n}){let s=R.useContext(Ho);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),R.createElement(jr.Provider,{value:i},n)}function DR(i,e=[],n=null,s=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,c=n?.errors;if(c!=null){let _=u.findIndex(T=>T.route.id&&c?.[T.route.id]!==void 0);qt(_>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,_+1))}let m=!1,p=-1;if(n)for(let _=0;_<u.length;_++){let T=u[_];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=_),T.route.id){let{loaderData:S,errors:I}=n,L=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!I||I[T.route.id]===void 0);if(T.route.lazy||L){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(_,T)=>{s(_,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:fR(n.matches),errorInfo:T})}:void 0;return u.reduceRight((_,T,S)=>{let I,L=!1,P=null,U=null;n&&(I=c&&T.route.id?c[T.route.id]:void 0,P=T.route.errorElement||RR,m&&(p<0&&S===0?(YT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),L=!0,U=null):p===S&&(L=!0,U=T.route.hydrateFallbackElement||null)));let K=e.concat(u.slice(0,S+1)),$=()=>{let J;return I?J=P:L?J=U:T.route.Component?J=R.createElement(T.route.Component,null):T.route.element?J=T.route.element:J=_,R.createElement(IR,{match:T,routeContext:{outlet:_,matches:K,isDataRoute:n!=null},children:J})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?R.createElement(KT,{location:n.location,revalidation:n.revalidation,component:P,error:I,children:$(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:g}):$()},null)}function jp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xR(i){let e=R.useContext(Ho);return qt(e,jp(i)),e}function NR(i){let e=R.useContext(vf);return qt(e,jp(i)),e}function OR(i){let e=R.useContext(jr);return qt(e,jp(i)),e}function Bp(i){let e=OR(i),n=e.matches[e.matches.length-1];return qt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function MR(){return Bp("useRouteId")}function kR(){let i=R.useContext(zp),e=NR("useRouteError"),n=Bp("useRouteError");return i!==void 0?i:e.errors?.[n]}function VR(){let{router:i}=xR("useNavigate"),e=Bp("useNavigate"),n=R.useRef(!1);return GT(()=>{n.current=!0}),R.useCallback(async(o,u={})=>{Mi(n.current,FT),n.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var SE={};function YT(i,e,n){!e&&!SE[i]&&(SE[i]=!0,Mi(!1,n))}R.memo(LR);function LR({routes:i,future:e,state:n,onError:s}){return AR(i,void 0,n,s,e)}function PR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){qt(!Vu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=R.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[m,o,u,c]);typeof n=="string"&&(n=ku(n));let{pathname:g="/",search:_="",hash:T="",state:S=null,key:I="default"}=n,L=R.useMemo(()=>{let P=Vr(g,m);return P==null?null:{location:{pathname:P,search:_,hash:T,state:S,key:I},navigationType:s}},[m,g,_,T,S,I,s]);return Mi(L!=null,`<Router basename="${m}"> is not able to match the URL "${g}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),L==null?null:R.createElement(Ti.Provider,{value:p},R.createElement(_f.Provider,{children:e,value:L}))}var Nh="get",Oh="application/x-www-form-urlencoded";function Ef(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function UR(i){return Ef(i)&&i.tagName.toLowerCase()==="button"}function zR(i){return Ef(i)&&i.tagName.toLowerCase()==="form"}function jR(i){return Ef(i)&&i.tagName.toLowerCase()==="input"}function BR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function HR(i,e){return i.button===0&&(!e||e==="_self")&&!BR(i)}var _h=null;function qR(){if(_h===null)try{new FormData(document.createElement("form"),0),_h=!1}catch{_h=!0}return _h}var FR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fm(i){return i!=null&&!FR.has(i)?(Mi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oh}"`),null):i}function GR(i,e){let n,s,o,u,c;if(zR(i)){let m=i.getAttribute("action");s=m?Vr(m,e):null,n=i.getAttribute("method")||Nh,o=Fm(i.getAttribute("enctype"))||Oh,u=new FormData(i)}else if(UR(i)||jR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Vr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Nh,o=Fm(i.getAttribute("formenctype"))||Fm(m.getAttribute("enctype"))||Oh,u=new FormData(m,i),!qR()){let{name:g,type:_,value:T}=i;if(_==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,T)}}else{if(Ef(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nh,s=null,o=Oh,c=i}return u&&o==="text/plain"&&(c=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function KR(i,e,n,s){let o=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&Vr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function YR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $R(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let c=await YR(u,n);return c.links?c.links():[]}return[]}));return ZR(s.flat(1).filter(QR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function AE(i,e,n,s,o,u){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>c(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function XR(i,e,{includeHydrateFallback:n}={}){return WR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function WR(i){return[...new Set(i)]}function JR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function ZR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(JR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function QT(){let i=R.useContext(Ho);return Hp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function eC(){let i=R.useContext(vf);return Hp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var qp=R.createContext(void 0);qp.displayName="FrameworkContext";function $T(){let i=R.useContext(qp);return Hp(i,"You must render this element inside a <HydratedRouter> element"),i}function tC(i,e){let n=R.useContext(qp),[s,o]=R.useState(!1),[u,c]=R.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,S=R.useRef(null);R.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let P=K=>{K.forEach($=>{c($.isIntersecting)})},U=new IntersectionObserver(P,{threshold:.5});return S.current&&U.observe(S.current),()=>{U.disconnect()}}},[i]),R.useEffect(()=>{if(s){let P=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(P)}}},[s]);let I=()=>{o(!0)},L=()=>{o(!1),c(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Jl(m,I),onBlur:Jl(p,L),onMouseEnter:Jl(g,I),onMouseLeave:Jl(_,L),onTouchStart:Jl(T,I)}]:[!1,S,{}]}function Jl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function nC({page:i,...e}){let{router:n}=QT(),s=R.useMemo(()=>MT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?R.createElement(rC,{page:i,matches:s,...e}):null}function iC(i){let{manifest:e,routeModules:n}=$T(),[s,o]=R.useState([]);return R.useEffect(()=>{let u=!1;return $R(i,e,n).then(c=>{u||o(c)}),()=>{u=!0}},[i,e,n]),s}function rC({page:i,matches:e,...n}){let s=Da(),{future:o,manifest:u,routeModules:c}=$T(),{basename:m}=QT(),{loaderData:p,matches:g}=eC(),_=R.useMemo(()=>AE(i,e,g,u,s,"data"),[i,e,g,u,s]),T=R.useMemo(()=>AE(i,e,g,u,s,"assets"),[i,e,g,u,s]),S=R.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,U=!1;if(e.forEach($=>{let J=u.routes[$.route.id];!J||!J.hasLoader||(!_.some(se=>se.route.id===$.route.id)&&$.route.id in p&&c[$.route.id]?.shouldRevalidate||J.hasClientLoader?U=!0:P.add($.route.id))}),P.size===0)return[];let K=KR(i,m,o.unstable_trailingSlashAwareDataRequests,"data");return U&&P.size>0&&K.searchParams.set("_routes",e.filter($=>P.has($.route.id)).map($=>$.route.id).join(",")),[K.pathname+K.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,_,e,i,c]),I=R.useMemo(()=>XR(T,u),[T,u]),L=iC(T);return R.createElement(R.Fragment,null,S.map(P=>R.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),I.map(P=>R.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),L.map(({key:P,link:U})=>R.createElement("link",{key:P,nonce:n.nonce,...U})))}function sC(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var aC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aC&&(window.__reactRouterVersion="7.12.0")}catch{}function oC({basename:i,children:e,unstable_useTransitions:n,window:s}){let o=R.useRef();o.current==null&&(o.current=Bw({window:s,v5Compat:!0}));let u=o.current,[c,m]=R.useState({action:u.action,location:u.location}),p=R.useCallback(g=>{n===!1?m(g):R.startTransition(()=>m(g))},[n]);return R.useLayoutEffect(()=>u.listen(p),[u,p]),R.createElement(PR,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:n})}var XT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WT=R.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:c,state:m,target:p,to:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S,...I},L){let{basename:P,unstable_useTransitions:U}=R.useContext(Ti),K=typeof g=="string"&&XT.test(g),$=jT(g,P);g=$.to;let J=TR(g,{relative:o}),[se,he,ue]=tC(s,I),C=hC(g,{replace:c,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:U});function w(V){e&&e(V),V.defaultPrevented||C(V)}let D=R.createElement("a",{...I,...ue,href:$.absoluteURL||J,onClick:$.isExternal||u?e:w,ref:sC(L,he),target:p,"data-discover":!K&&n==="render"?"true":void 0});return se&&!K?R.createElement(R.Fragment,null,D,R.createElement(nC,{page:J})):D});WT.displayName="Link";var lC=R.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:c,viewTransition:m,children:p,...g},_){let T=Lu(c,{relative:g.relative}),S=Da(),I=R.useContext(vf),{navigator:L,basename:P}=R.useContext(Ti),U=I!=null&&gC(T)&&m===!0,K=L.encodeLocation?L.encodeLocation(T).pathname:T.pathname,$=S.pathname,J=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||($=$.toLowerCase(),J=J?J.toLowerCase():null,K=K.toLowerCase()),J&&P&&(J=Vr(J,P)||J);const se=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let he=$===K||!o&&$.startsWith(K)&&$.charAt(se)==="/",ue=J!=null&&(J===K||!o&&J.startsWith(K)&&J.charAt(K.length)==="/"),C={isActive:he,isPending:ue,isTransitioning:U},w=he?e:void 0,D;typeof s=="function"?D=s(C):D=[s,he?"active":null,ue?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return R.createElement(WT,{...g,"aria-current":w,className:D,ref:_,style:V,to:c,viewTransition:m},typeof p=="function"?p(C):p)});lC.displayName="NavLink";var uC=R.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:c=Nh,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S,...I},L)=>{let{unstable_useTransitions:P}=R.useContext(Ti),U=mC(),K=pC(m,{relative:g}),$=c.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&XT.test(m),se=he=>{if(p&&p(he),he.defaultPrevented)return;he.preventDefault();let ue=he.nativeEvent.submitter,C=ue?.getAttribute("formmethod")||c,w=()=>U(ue||he.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:T,unstable_defaultShouldRevalidate:S});P&&n!==!1?R.startTransition(()=>w()):w()};return R.createElement("form",{ref:L,method:$,action:K,onSubmit:s?p:se,...I,"data-discover":!J&&i==="render"?"true":void 0})});uC.displayName="Form";function cC(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JT(i){let e=R.useContext(Ho);return qt(e,cC(i)),e}function hC(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=bR(),_=Da(),T=Lu(i,{relative:u});return R.useCallback(S=>{if(HR(S,e)){S.preventDefault();let I=n!==void 0?n:yu(_)===yu(T),L=()=>g(i,{replace:I,state:s,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:m});p?R.startTransition(()=>L()):L()}},[_,g,T,n,s,e,i,o,u,c,m,p])}var fC=0,dC=()=>`__${String(++fC)}__`;function mC(){let{router:i}=JT("useSubmit"),{basename:e}=R.useContext(Ti),n=MR(),s=i.fetch,o=i.navigate;return R.useCallback(async(u,c={})=>{let{action:m,method:p,encType:g,formData:_,body:T}=GR(u,e);if(c.navigate===!1){let S=c.fetcherKey||dC();await s(S,n,c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:T,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||m,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:_,body:T,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,o,e,n])}function pC(i,{relative:e}={}){let{basename:n}=R.useContext(Ti),s=R.useContext(jr);qt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Lu(i||".",{relative:e})},c=Da();if(i==null){u.search=c.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Or([n,u.pathname])),yu(u)}function gC(i,{relative:e}={}){let n=R.useContext(HT);qt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=JT("useViewTransitionState"),o=Lu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Vr(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Vr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Gh(o.pathname,c)!=null||Gh(o.pathname,u)!=null}var eu=OT();const yC=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vC=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),wE=i=>{const e=vC(i);return e.charAt(0).toUpperCase()+e.slice(1)},ZT=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),_C=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var EC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const TC=R.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:c,...m},p)=>R.createElement("svg",{ref:p,...EC,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:ZT("lucide",o),...!u&&!_C(m)&&{"aria-hidden":"true"},...m},[...c.map(([g,_])=>R.createElement(g,_)),...Array.isArray(u)?u:[u]]));const at=(i,e)=>{const n=R.forwardRef(({className:s,...o},u)=>R.createElement(TC,{ref:u,iconNode:e,className:ZT(`lucide-${yC(wE(i))}`,`lucide-${i}`,s),...o}));return n.displayName=wE(i),n};const bC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],SC=at("arrow-right",bC);const AC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wC=at("circle-alert",AC);const RC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],RE=at("circle-question-mark",RC);const CC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IC=at("clock",CC);const DC=[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]],xC=at("command",DC);const NC=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],OC=at("download",NC);const MC=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],kC=at("grip-vertical",MC);const VC=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],LC=at("hexagon",VC);const PC=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],UC=at("key",PC);const zC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],jC=at("loader-circle",zC);const BC=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],HC=at("loader",BC);const qC=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],FC=at("lock",qC);const GC=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],KC=at("log-in",GC);const YC=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],QC=at("log-out",YC);const $C=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],XC=at("mail",$C);const WC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],JC=at("map-pin",WC);const ZC=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],eb=at("palette",ZC);const eI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tI=at("save",eI);const nI=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],iI=at("sliders-vertical",nI);const rI=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],sI=at("sparkles",rI);const aI=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],oI=at("toggle-left",aI);const lI=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],uI=at("toggle-right",lI);const cI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tb=at("trash-2",cI);const hI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fI=at("triangle-alert",hI);const dI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nb=at("user",dI);const mI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],pI=at("users",mI);const gI=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],yI=at("utensils",gI);const vI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_I=at("x",vI),EI=()=>{};var CE={};const ib=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},TI=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],c=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],c=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},rb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],c=o+1<i.length,m=c?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,I=g&63;p||(I=64,c||(S=64)),s.push(n[_],n[T],n[S],n[I])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ib(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):TI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new bI;const S=u<<2|m>>4;if(s.push(S),g!==64){const I=m<<4&240|g>>2;if(s.push(I),T!==64){const L=g<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class bI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const SI=function(i){const e=ib(i);return rb.encodeByteArray(e,!0)},Kh=function(i){return SI(i).replace(/\./g,"")},sb=function(i){try{return rb.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function AI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const wI=()=>AI().__FIREBASE_DEFAULTS__,RI=()=>{if(typeof process>"u"||typeof CE>"u")return;const i=CE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},CI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&sb(i[1]);return e&&JSON.parse(e)},Tf=()=>{try{return EI()||wI()||RI()||CI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},ab=i=>Tf()?.emulatorHosts?.[i],II=i=>{const e=ab(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ob=()=>Tf()?.config,lb=i=>Tf()?.[`_${i}`];class DI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function qo(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ub(i){return(await fetch(i,{credentials:"include"})).ok}function xI(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Kh(JSON.stringify(n)),Kh(JSON.stringify(c)),""].join(".")}const ou={};function NI(){const i={prod:[],emulator:[]};for(const e of Object.keys(ou))ou[e]?i.emulator.push(e):i.prod.push(e);return i}function OI(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let IE=!1;function cb(i,e){if(typeof window>"u"||typeof document>"u"||!qo(window.location.host)||ou[i]===e||ou[i]||IE)return;ou[i]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=NI().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{IE=!0,c()},S}function _(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=OI(s),I=n("text"),L=document.getElementById(I)||document.createElement("span"),P=n("learnmore"),U=document.getElementById(P)||document.createElement("a"),K=n("preprendIcon"),$=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const J=S.element;m(J),_(U,P);const se=g();p($,K),J.append($,L,U,se),document.body.appendChild(J)}u?(L.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function _n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_n())}function kI(){const i=Tf()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function PI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UI(){const i=_n();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function zI(){return!kI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jI(){try{return typeof indexedDB=="object"}catch{return!1}}function BI(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const HI="FirebaseError";class Br extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=HI,Object.setPrototypeOf(this,Br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pu.prototype.create)}}class Pu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?qI(u,s):"Error",m=`${this.serviceName}: ${c} (${o}).`;return new Br(o,m,s)}}function qI(i,e){return i.replace(FI,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const FI=/\{\$([^}]+)}/g;function GI(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ba(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],c=e[o];if(DE(u)&&DE(c)){if(!ba(u,c))return!1}else if(u!==c)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function DE(i){return i!==null&&typeof i=="object"}function Uu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function tu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function nu(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function KI(i,e){const n=new YI(i,e);return n.subscribe.bind(n)}class YI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");QI(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Gm),o.error===void 0&&(o.error=Gm),o.complete===void 0&&(o.complete=Gm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QI(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Gm(){}function Pn(i){return i&&i._delegate?i._delegate:i}class Sa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ya="[DEFAULT]";class $I{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new DI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WI(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&c.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XI(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XI(i){return i===ya?void 0:i}function WI(i){return i.instantiationMode==="EAGER"}class JI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $I(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(je||(je={}));const ZI={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},e2=je.INFO,t2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},n2=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=t2[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Fp{constructor(e){this.name=e,this._logLevel=e2,this._logHandler=n2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const i2=(i,e)=>e.some(n=>i instanceof n);let xE,NE;function r2(){return xE||(xE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s2(){return NE||(NE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hb=new WeakMap,lp=new WeakMap,fb=new WeakMap,Km=new WeakMap,Gp=new WeakMap;function a2(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",c)},u=()=>{n(Ds(i.result)),o()},c=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&hb.set(n,i)}).catch(()=>{}),Gp.set(e,i),e}function o2(i){if(lp.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",c),i.removeEventListener("abort",c)},u=()=>{n(),o()},c=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",c),i.addEventListener("abort",c)});lp.set(i,e)}let up={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return lp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||fb.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function l2(i){up=i(up)}function u2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Ym(this),e,...n);return fb.set(s,e.sort?e.sort():[e]),Ds(s)}:s2().includes(i)?function(...e){return i.apply(Ym(this),e),Ds(hb.get(this))}:function(...e){return Ds(i.apply(Ym(this),e))}}function c2(i){return typeof i=="function"?u2(i):(i instanceof IDBTransaction&&o2(i),i2(i,r2())?new Proxy(i,up):i)}function Ds(i){if(i instanceof IDBRequest)return a2(i);if(Km.has(i))return Km.get(i);const e=c2(i);return e!==i&&(Km.set(i,e),Gp.set(e,i)),e}const Ym=i=>Gp.get(i);function h2(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const c=indexedDB.open(i,e),m=Ds(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Ds(c.result),p.oldVersion,p.newVersion,Ds(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const f2=["get","getKey","getAll","getAllKeys","count"],d2=["put","add","delete","clear"],Qm=new Map;function OE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Qm.get(e))return Qm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=d2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||f2.includes(n)))return;const u=async function(c,...m){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Qm.set(e,u),u}l2(i=>({...i,get:(e,n,s)=>OE(e,n)||i.get(e,n,s),has:(e,n)=>!!OE(e,n)||i.has(e,n)}));class m2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function p2(i){return i.getComponent()?.type==="VERSION"}const cp="@firebase/app",ME="0.14.6";const Lr=new Fp("@firebase/app"),g2="@firebase/app-compat",y2="@firebase/analytics-compat",v2="@firebase/analytics",_2="@firebase/app-check-compat",E2="@firebase/app-check",T2="@firebase/auth",b2="@firebase/auth-compat",S2="@firebase/database",A2="@firebase/data-connect",w2="@firebase/database-compat",R2="@firebase/functions",C2="@firebase/functions-compat",I2="@firebase/installations",D2="@firebase/installations-compat",x2="@firebase/messaging",N2="@firebase/messaging-compat",O2="@firebase/performance",M2="@firebase/performance-compat",k2="@firebase/remote-config",V2="@firebase/remote-config-compat",L2="@firebase/storage",P2="@firebase/storage-compat",U2="@firebase/firestore",z2="@firebase/ai",j2="@firebase/firestore-compat",B2="firebase",H2="12.6.0";const hp="[DEFAULT]",q2={[cp]:"fire-core",[g2]:"fire-core-compat",[v2]:"fire-analytics",[y2]:"fire-analytics-compat",[E2]:"fire-app-check",[_2]:"fire-app-check-compat",[T2]:"fire-auth",[b2]:"fire-auth-compat",[S2]:"fire-rtdb",[A2]:"fire-data-connect",[w2]:"fire-rtdb-compat",[R2]:"fire-fn",[C2]:"fire-fn-compat",[I2]:"fire-iid",[D2]:"fire-iid-compat",[x2]:"fire-fcm",[N2]:"fire-fcm-compat",[O2]:"fire-perf",[M2]:"fire-perf-compat",[k2]:"fire-rc",[V2]:"fire-rc-compat",[L2]:"fire-gcs",[P2]:"fire-gcs-compat",[U2]:"fire-fst",[j2]:"fire-fst-compat",[z2]:"fire-vertex","fire-js":"fire-js",[B2]:"fire-js-all"};const Yh=new Map,F2=new Map,fp=new Map;function kE(i,e){try{i.container.addComponent(e)}catch(n){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Vo(i){const e=i.name;if(fp.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;fp.set(e,i);for(const n of Yh.values())kE(n,i);for(const n of F2.values())kE(n,i);return!0}function Kp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function ei(i){return i==null?!1:i.settings!==void 0}const G2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new Pu("app","Firebase",G2);class K2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}const Fo=H2;function db(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:hp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw xs.create("bad-app-name",{appName:String(o)});if(n||(n=ob()),!n)throw xs.create("no-options");const u=Yh.get(o);if(u){if(ba(n,u.options)&&ba(s,u.config))return u;throw xs.create("duplicate-app",{appName:o})}const c=new JI(o);for(const p of fp.values())c.addComponent(p);const m=new K2(n,s,c);return Yh.set(o,m),m}function mb(i=hp){const e=Yh.get(i);if(!e&&i===hp&&ob())return db();if(!e)throw xs.create("no-app",{appName:i});return e}function Ns(i,e,n){let s=q2[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(c.join(" "));return}Vo(new Sa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const Y2="firebase-heartbeat-database",Q2=1,vu="firebase-heartbeat-store";let $m=null;function pb(){return $m||($m=h2(Y2,Q2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(i=>{throw xs.create("idb-open",{originalErrorMessage:i.message})})),$m}async function $2(i){try{const n=(await pb()).transaction(vu),s=await n.objectStore(vu).get(gb(i));return await n.done,s}catch(e){if(e instanceof Br)Lr.warn(e.message);else{const n=xs.create("idb-get",{originalErrorMessage:e?.message});Lr.warn(n.message)}}}async function VE(i,e){try{const s=(await pb()).transaction(vu,"readwrite");await s.objectStore(vu).put(e,gb(i)),await s.done}catch(n){if(n instanceof Br)Lr.warn(n.message);else{const s=xs.create("idb-set",{originalErrorMessage:n?.message});Lr.warn(s.message)}}}function gb(i){return`${i.name}!${i.options.appId}`}const X2=1024,W2=30;class J2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=LE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>W2){const o=tD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Lr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=LE(),{heartbeatsToSend:n,unsentEntries:s}=Z2(this._heartbeatsCache.heartbeats),o=Kh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Lr.warn(e),""}}}function LE(){return new Date().toISOString().substring(0,10)}function Z2(i,e=X2){const n=[];let s=i.slice();for(const o of i){const u=n.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),PE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),PE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class eD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jI()?BI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return VE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return VE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function PE(i){return Kh(JSON.stringify({version:2,heartbeats:i})).length}function tD(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}function nD(i){Vo(new Sa("platform-logger",e=>new m2(e),"PRIVATE")),Vo(new Sa("heartbeat",e=>new J2(e),"PRIVATE")),Ns(cp,ME,i),Ns(cp,ME,"esm2020"),Ns("fire-js","")}nD("");function yb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iD=yb,vb=new Pu("auth","Firebase",yb());const Qh=new Fp("@firebase/auth");function rD(i,...e){Qh.logLevel<=je.WARN&&Qh.warn(`Auth (${Fo}): ${i}`,...e)}function Mh(i,...e){Qh.logLevel<=je.ERROR&&Qh.error(`Auth (${Fo}): ${i}`,...e)}function Ei(i,...e){throw Qp(i,...e)}function Oi(i,...e){return Qp(i,...e)}function Yp(i,e,n){const s={...iD(),[e]:n};return new Pu("auth","Firebase",s).create(e,{appName:i.name})}function Mr(i){return Yp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sD(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ei(i,"argument-error"),Yp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Qp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return vb.create(i,...e)}function Se(i,e,...n){if(!i)throw Qp(e,...n)}function xr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Mh(e),new Error(e)}function Pr(i,e){i||xr(e)}function dp(){return typeof self<"u"&&self.location?.href||""}function aD(){return UE()==="http:"||UE()==="https:"}function UE(){return typeof self<"u"&&self.location?.protocol||null}function oD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aD()||LI()||"connection"in navigator)?navigator.onLine:!0}function lD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class zu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Pr(n>e,"Short delay should be less than long delay!"),this.isMobile=MI()||PI()}get(){return oD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $p(i,e){Pr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class _b{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const uD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const cD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hD=new zu(3e4,6e4);function js(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Bs(i,e,n,s,o={}){return Eb(i,o,async()=>{let u={},c={};s&&(e==="GET"?c=s:u={body:JSON.stringify(s)});const m=Uu({key:i.config.apiKey,...c}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return VI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&qo(i.emulatorConfig.host)&&(g.credentials="include"),_b.fetch()(await Tb(i,i.config.apiHost,n,m),g)})}async function Eb(i,e,n){i._canInitEmulator=!1;const s={...uD,...e};try{const o=new dD(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw Eh(i,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const m=u.ok?c.errorMessage:c.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Eh(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw Eh(i,"user-disabled",c);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Yp(i,_,g);Ei(i,_)}}catch(o){if(o instanceof Br)throw o;Ei(i,"network-request-failed",{message:String(o)})}}async function ju(i,e,n,s,o={}){const u=await Bs(i,e,n,s,o);return"mfaPendingCredential"in u&&Ei(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Tb(i,e,n,s){const o=`${e}${n}?${s}`,u=i,c=u.config.emulator?$p(i.config,o):`${i.config.apiScheme}://${o}`;return cD.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(c).toString():c}function fD(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),hD.get())})}}function Eh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Oi(i,e,s);return o.customData._tokenResponse=n,o}function zE(i){return i!==void 0&&i.enterprise!==void 0}class mD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pD(i,e){return Bs(i,"GET","/v2/recaptchaConfig",js(i,e))}async function gD(i,e){return Bs(i,"POST","/v1/accounts:delete",e)}async function $h(i,e){return Bs(i,"POST","/v1/accounts:lookup",e)}function lu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yD(i,e=!1){const n=Pn(i),s=await n.getIdToken(e),o=Xp(s);Se(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u?.sign_in_provider;return{claims:o,token:s,authTime:lu(Xm(o.auth_time)),issuedAtTime:lu(Xm(o.iat)),expirationTime:lu(Xm(o.exp)),signInProvider:c||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Xm(i){return Number(i)*1e3}function Xp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=sb(n);return o?JSON.parse(o):(Mh("Failed to decode base64 JWT payload"),null)}catch(o){return Mh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function jE(i){const e=Xp(i);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function _u(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Br&&vD(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function vD({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class _D{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lu(this.lastLoginAt),this.creationTime=lu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xh(i){const e=i.auth,n=await i.getIdToken(),s=await _u(i,$h(e,{idToken:n}));Se(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?bb(o.providerUserInfo):[],c=TD(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!c?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function ED(i){const e=Pn(i);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TD(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function bb(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function bD(i,e){const n=await Eb(i,{},async()=>{const s=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,c=await Tb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&qo(i.emulatorConfig.host)&&(p.credentials="include"),_b.fetch()(c,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SD(i,e){return Bs(i,"POST","/v2/accounts:revokeToken",js(i,e))}class Io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const n=jE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await bD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,c=new Io;return s&&(Se(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),o&&(Se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Io,this.toJSON())}_performRefresh(){return xr("not implemented")}}function bs(i,e){Se(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class xi{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new _D(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new mp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _u(this,this.stsTokenManager.getToken(this.auth,e));return Se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yD(this,e)}reload(){return ED(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ei(this.auth.app))return Promise.reject(Mr(this.auth));const e=await this.getIdToken();return await _u(this,gD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,c=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,_=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:I,providerData:L,stsTokenManager:P}=n;Se(T&&P,e,"internal-error");const U=Io.fromJSON(this.name,P);Se(typeof T=="string",e,"internal-error"),bs(s,e.name),bs(o,e.name),Se(typeof S=="boolean",e,"internal-error"),Se(typeof I=="boolean",e,"internal-error"),bs(u,e.name),bs(c,e.name),bs(m,e.name),bs(p,e.name),bs(g,e.name),bs(_,e.name);const K=new xi({uid:T,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:I,photoURL:c,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:_});return L&&Array.isArray(L)&&(K.providerData=L.map($=>({...$}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,n,s=!1){const o=new Io;o.updateFromServerResponse(n);const u=new xi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Xh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bb(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!u?.length,m=new Io;m.updateFromIdToken(s);const p=new xi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new mp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const BE=new Map;function Nr(i){Pr(i instanceof Function,"Expected a class definition");let e=BE.get(i);return e?(Pr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,BE.set(i,e),e)}class Sb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Sb.type="NONE";const HE=Sb;function kh(i,e,n){return`firebase:${i}:${e}:${n}`}class Do{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=kh(this.userKey,o.apiKey,u),this.fullPersistenceKey=kh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await $h(this.auth,{idToken:e}).catch(()=>{});return n?xi._fromGetAccountInfoResponse(this.auth,n,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Do(Nr(HE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Nr(HE);const c=kh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const _=await g._get(c);if(_){let T;if(typeof _=="string"){const S=await $h(e,{idToken:_}).catch(()=>{});if(!S)break;T=await xi._fromGetAccountInfoResponse(e,S,_)}else T=xi._fromJSON(e,_);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Do(u,e,s):(u=p[0],m&&await u._set(c,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(c)}catch{}})),new Do(u,e,s))}}function qE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Cb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ab(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Db(e))return"Blackberry";if(xb(e))return"Webos";if(wb(e))return"Safari";if((e.includes("chrome/")||Rb(e))&&!e.includes("edge/"))return"Chrome";if(Ib(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function Ab(i=_n()){return/firefox\//i.test(i)}function wb(i=_n()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rb(i=_n()){return/crios\//i.test(i)}function Cb(i=_n()){return/iemobile/i.test(i)}function Ib(i=_n()){return/android/i.test(i)}function Db(i=_n()){return/blackberry/i.test(i)}function xb(i=_n()){return/webos/i.test(i)}function Wp(i=_n()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function AD(i=_n()){return Wp(i)&&!!window.navigator?.standalone}function wD(){return UI()&&document.documentMode===10}function Nb(i=_n()){return Wp(i)||Ib(i)||xb(i)||Db(i)||/windows phone/i.test(i)||Cb(i)}function Ob(i,e=[]){let n;switch(i){case"Browser":n=qE(_n());break;case"Worker":n=`${qE(_n())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fo}/${s}`}class RD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((c,m)=>{try{const p=e(u);c(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function CD(i,e={}){return Bs(i,"GET","/v2/passwordPolicy",js(i,e))}const ID=6;class DD{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??ID,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class xD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FE(this),this.idTokenSubscription=new FE(this),this.beforeStateQueue=new RD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $h(this,{idToken:e}),s=await xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ei(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(c,c))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,c=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===c)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ei(this.app))return Promise.reject(Mr(this));const n=e?Pn(e):null;return n&&Se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ei(this.app)?Promise.reject(Mr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ei(this.app)?Promise.reject(Mr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CD(this),n=new DD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Pu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await SD(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Nr(e)||this._popupRedirectResolver;Se(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(m,this,"internal-error"),m.then(()=>{c||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ob(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ei(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hs(i){return Pn(i)}class FE{constructor(e){this.auth=e,this.observer=null,this.addObserver=KI(n=>this.observer=n)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ND(i){bf=i}function Mb(i){return bf.loadJS(i)}function OD(){return bf.recaptchaEnterpriseScript}function MD(){return bf.gapiScript}function kD(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class VD{constructor(){this.enterprise=new LD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class LD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const PD="recaptcha-enterprise",kb="NO_RECAPTCHA";class UD{constructor(e){this.type=PD,this.auth=Hs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,m)=>{pD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new mD(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,c(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,c,m){const p=window.grecaptcha;zE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{c(g)}).catch(()=>{c(kb)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new VD().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{s(this.auth).then(m=>{if(!n&&zE(window.grecaptcha))o(m,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=OD();p.length!==0&&(p+=m),Mb(p).then(()=>{o(m,u,c)}).catch(g=>{c(g)})}}).catch(m=>{c(m)})})}}async function GE(i,e,n,s=!1,o=!1){const u=new UD(i);let c;if(o)c=kb;else try{c=await u.verify(n)}catch{c=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:c}):Object.assign(m,{captchaResponse:c}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function pp(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await GE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await GE(i,e,n,n==="getOobCode");return s(i,c)}else return Promise.reject(u)})}function zD(i,e){const n=Kp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ba(u,e??{}))return o;Ei(o,"already-initialized")}return n.initialize({options:e})}function jD(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Nr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function BD(i,e,n){const s=Hs(i);Se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Vb(e),{host:c,port:m}=HD(e),p=m===null?"":`:${m}`,g={url:`${u}//${c}${p}/`},_=Object.freeze({host:c,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Se(ba(g,s.config.emulator)&&ba(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,qo(c)?(ub(`${u}//${c}${p}`),cb("Auth",!0)):qD()}function Vb(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function HD(i){const e=Vb(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:KE(s.substr(u.length+1))}}else{const[u,c]=s.split(":");return{host:u,port:KE(c)}}}function KE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function qD(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return xr("not implemented")}_getIdTokenResponse(e){return xr("not implemented")}_linkToIdToken(e,n){return xr("not implemented")}_getReauthenticationResolver(e){return xr("not implemented")}}async function FD(i,e){return Bs(i,"POST","/v1/accounts:signUp",e)}async function GD(i,e){return ju(i,"POST","/v1/accounts:signInWithPassword",js(i,e))}async function KD(i,e){return ju(i,"POST","/v1/accounts:signInWithEmailLink",js(i,e))}async function YD(i,e){return ju(i,"POST","/v1/accounts:signInWithEmailLink",js(i,e))}class Eu extends Jp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,n,"signInWithPassword",GD);case"emailLink":return KD(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(e,s,"signUpPassword",FD);case"emailLink":return YD(e,{idToken:n,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function xo(i,e){return ju(i,"POST","/v1/accounts:signInWithIdp",js(i,e))}const QD="http://localhost";class Aa extends Jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const c=new Aa(s,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return xo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,xo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,xo(e,n)}buildRequest(){const e={requestUri:QD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Uu(n)}return e}}function $D(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XD(i){const e=tu(nu(i)).link,n=e?tu(nu(e)).deep_link_id:null,s=tu(nu(i)).deep_link_id;return(s?tu(nu(s)).link:null)||s||n||e||i}class Zp{constructor(e){const n=tu(nu(e)),s=n.apiKey??null,o=n.oobCode??null,u=$D(n.mode??null);Se(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=XD(e);try{return new Zp(n)}catch{return null}}}class Go{constructor(){this.providerId=Go.PROVIDER_ID}static credential(e,n){return Eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Zp.parseLink(n);return Se(s,"argument-error"),Eu._fromEmailAndCode(e,s.code,s.tenantId)}}Go.PROVIDER_ID="password";Go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class eg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bu extends eg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ws extends Bu{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ws.credential(e.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";class Dr extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Aa._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Dr.credential(n,s)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";class Rs extends Bu{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.GITHUB_SIGN_IN_METHOD="github.com";Rs.PROVIDER_ID="github.com";class Cs extends Bu{constructor(){super("twitter.com")}static credential(e,n){return Aa._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Cs.credential(n,s)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";async function WD(i,e){return ju(i,"POST","/v1/accounts:signUp",js(i,e))}class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await xi._fromIdTokenResponse(e,s,o),c=YE(s);return new wa({user:u,providerId:c,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=YE(s);return new wa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function YE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Wh extends Br{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Wh(e,n,s,o)}}function Lb(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(i,u,e,s):u})}async function JD(i,e,n=!1){const s=await _u(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return wa._forOperation(i,"link",s)}async function ZD(i,e,n=!1){const{auth:s}=i;if(ei(s.app))return Promise.reject(Mr(s));const o="reauthenticate";try{const u=await _u(i,Lb(s,o,e,i),n);Se(u.idToken,s,"internal-error");const c=Xp(u.idToken);Se(c,s,"internal-error");const{sub:m}=c;return Se(i.uid===m,s,"user-mismatch"),wa._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Ei(s,"user-mismatch"),u}}async function Pb(i,e,n=!1){if(ei(i.app))return Promise.reject(Mr(i));const s="signIn",o=await Lb(i,s,e),u=await wa._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function ex(i,e){return Pb(Hs(i),e)}async function Ub(i){const e=Hs(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tx(i,e,n){if(ei(i.app))return Promise.reject(Mr(i));const s=Hs(i),c=await pp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Ub(i),p}),m=await wa._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(m.user),m}function nx(i,e,n){return ei(i.app)?Promise.reject(Mr(i)):ex(Pn(i),Go.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Ub(i),s})}function ix(i,e,n,s){return Pn(i).onIdTokenChanged(e,n,s)}function rx(i,e,n){return Pn(i).beforeAuthStateChanged(e,n)}function sx(i,e,n,s){return Pn(i).onAuthStateChanged(e,n,s)}function ax(i){return Pn(i).signOut()}const Jh="__sak";class zb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ox=1e3,lx=10;class jb extends zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Nb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,m,p)=>{this.notifyListeners(c,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},u=this.storage.getItem(s);wD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ox)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jb.type="LOCAL";const ux=jb;class Bb extends zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Bb.type="SESSION";const Hb=Bb;function cx(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Sf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(c).map(async g=>g(n.origin,u)),p=await cx(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];function tg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}class hx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((m,p)=>{const g=tg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Zi(){return window}function fx(i){Zi().location.href=i}function qb(){return typeof Zi().WorkerGlobalScope<"u"&&typeof Zi().importScripts=="function"}async function dx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mx(){return navigator?.serviceWorker?.controller||null}function px(){return qb()?self:null}const Fb="firebaseLocalStorageDb",gx=1,Zh="firebaseLocalStorage",Gb="fbase_key";class Hu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Af(i,e){return i.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function yx(){const i=indexedDB.deleteDatabase(Fb);return new Hu(i).toPromise()}function gp(){const i=indexedDB.open(Fb,gx);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Zh,{keyPath:Gb})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Zh)?e(s):(s.close(),await yx(),e(await gp()))})})}async function QE(i,e,n){const s=Af(i,!0).put({[Gb]:e,value:n});return new Hu(s).toPromise()}async function vx(i,e){const n=Af(i,!1).get(e),s=await new Hu(n).toPromise();return s===void 0?null:s.value}function $E(i,e){const n=Af(i,!0).delete(e);return new Hu(n).toPromise()}const _x=800,Ex=3;class Kb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Ex)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(px()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await dx(),!this.activeServiceWorker)return;this.sender=new hx(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gp();return await QE(e,Jh,"1"),await $E(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>QE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>vx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$E(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Af(o,!1).getAll();return new Hu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_x)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kb.type="LOCAL";const Tx=Kb;new zu(3e4,6e4);function Yb(i,e){return e?Nr(e):(Se(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class ng extends Jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return xo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return xo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bx(i){return Pb(i.auth,new ng(i),i.bypassAuthState)}function Sx(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),ZD(n,new ng(i),i.bypassAuthState)}async function Ax(i){const{auth:e,user:n}=i;return Se(n,e,"internal-error"),JD(n,new ng(i),i.bypassAuthState)}class Qb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:c,type:m}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bx;case"linkViaPopup":case"linkViaRedirect":return Ax;case"reauthViaPopup":case"reauthViaRedirect":return Sx;default:Ei(this.auth,"internal-error")}}resolve(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wx=new zu(2e3,1e4);async function Rx(i,e,n){if(ei(i.app))return Promise.reject(Oi(i,"operation-not-supported-in-this-environment"));const s=Hs(i);sD(i,e,eg);const o=Yb(s,n);return new va(s,"signInViaPopup",e,o).executeNotNull()}class va extends Qb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,va.currentPopupAction&&va.currentPopupAction.cancel(),va.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Pr(this.filter.length===1,"Popup operations only handle one event");const e=tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,va.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wx.get())};e()}}va.currentPopupAction=null;const Cx="pendingRedirect",Vh=new Map;class Ix extends Qb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Vh.get(this.auth._key());if(!e){try{const s=await Dx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Vh.set(this.auth._key(),e)}return this.bypassAuthState||Vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Dx(i,e){const n=Ox(e),s=Nx(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function xx(i,e){Vh.set(i._key(),e)}function Nx(i){return Nr(i._redirectPersistence)}function Ox(i){return kh(Cx,i.config.apiKey,i.name)}async function Mx(i,e,n=!1){if(ei(i.app))return Promise.reject(Mr(i));const s=Hs(i),o=Yb(s,e),c=await new Ix(s,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const kx=600*1e3;class Vx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Lx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!$b(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kx&&this.cachedEventUids.clear(),this.cachedEventUids.has(XE(e))}saveEventToCache(e){this.cachedEventUids.add(XE(e)),this.lastProcessedEventTime=Date.now()}}function XE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function $b({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function Lx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $b(i);default:return!1}}async function Px(i,e={}){return Bs(i,"GET","/v1/projects",e)}const Ux=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zx=/^https?/;async function jx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await Px(i);for(const n of e)try{if(Bx(n))return}catch{}Ei(i,"unauthorized-domain")}function Bx(i){const e=dp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===s}if(!zx.test(n))return!1;if(Ux.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const Hx=new zu(3e4,6e4);function WE(){const i=Zi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function qx(i){return new Promise((e,n)=>{function s(){WE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{WE(),n(Oi(i,"network-request-failed"))},timeout:Hx.get()})}if(Zi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Zi().gapi?.load)s();else{const o=kD("iframefcb");return Zi()[o]=()=>{gapi.load?s():n(Oi(i,"network-request-failed"))},Mb(`${MD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function Fx(i){return Lh=Lh||qx(i),Lh}const Gx=new zu(5e3,15e3),Kx="__/auth/iframe",Yx="emulator/auth/iframe",Qx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$x=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xx(i){const e=i.config;Se(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?$p(e,Yx):`https://${i.config.authDomain}/${Kx}`,s={apiKey:e.apiKey,appName:i.name,v:Fo},o=$x.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Uu(s).slice(1)}`}async function Wx(i){const e=await Fx(i),n=Zi().gapi;return Se(n,i,"internal-error"),e.open({where:document.body,url:Xx(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const c=Oi(i,"network-request-failed"),m=Zi().setTimeout(()=>{u(c)},Gx.get());function p(){Zi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(c)})}))}const Jx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zx=500,eN=600,tN="_blank",nN="http://localhost";class JE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iN(i,e,n,s=Zx,o=eN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...Jx,width:s.toString(),height:o.toString(),top:u,left:c},g=_n().toLowerCase();n&&(m=Rb(g)?tN:n),Ab(g)&&(e=e||nN,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[I,L])=>`${S}${I}=${L},`,"");if(AD(g)&&m!=="_self")return rN(e||"",m),new JE(null);const T=window.open(e||"",m,_);Se(T,i,"popup-blocked");try{T.focus()}catch{}return new JE(T)}function rN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const sN="__/auth/handler",aN="emulator/auth/handler",oN=encodeURIComponent("fac");async function ZE(i,e,n,s,o,u){Se(i.config.authDomain,i,"auth-domain-config-required"),Se(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Fo,eventId:o};if(e instanceof eg){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",GI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof Bu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${oN}=${encodeURIComponent(p)}`:"";return`${lN(i)}?${Uu(m).slice(1)}${g}`}function lN({config:i}){return i.emulator?$p(i,aN):`https://${i.authDomain}/${sN}`}const Wm="webStorageSupport";class uN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hb,this._completeRedirectFn=Mx,this._overrideRedirectResult=xx}async _openPopup(e,n,s,o){Pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await ZE(e,n,s,dp(),o);return iN(e,u,tg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await ZE(e,n,s,dp(),o);return fx(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Wx(e),s=new Vx(e);return n.register("authEvent",o=>(Se(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wm,{type:Wm},o=>{const u=o?.[0]?.[Wm];u!==void 0&&n(!!u),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Nb()||wb()||Wp()}}const cN=uN;var e0="@firebase/auth",t0="1.12.0";class hN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function fN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dN(i){Vo(new Sa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=s.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ob(i)},g=new xD(s,o,u,p);return jD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Vo(new Sa("auth-internal",e=>{const n=Hs(e.getProvider("auth").getImmediate());return(s=>new hN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(e0,t0,fN(i)),Ns(e0,t0,"esm2020")}const mN=300,pN=lb("authIdTokenMaxAge")||mN;let n0=null;const gN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>pN)return;const o=n?.token;n0!==o&&(n0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yN(i=mb()){const e=Kp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=zD(i,{popupRedirectResolver:cN,persistence:[Tx,ux,Hb]}),s=lb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const c=gN(u.toString());rx(n,c,()=>c(n.currentUser)),ix(n,m=>c(m))}}const o=ab("auth");return o&&BD(n,`http://${o}`),n}function vN(){return document.getElementsByTagName("head")?.[0]??document}ND({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",vN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dN("Browser");var _N="firebase",EN="12.7.0";Ns(_N,EN,"app");var i0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Os,Xb;(function(){var i;function e(C,w){function D(){}D.prototype=w.prototype,C.F=w.prototype,C.prototype=new D,C.prototype.constructor=C,C.D=function(V,M,j){for(var N=Array(arguments.length-2),Pe=2;Pe<arguments.length;Pe++)N[Pe-2]=arguments[Pe];return w.prototype[M].apply(V,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,w,D){D||(D=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(D++)|w.charCodeAt(D++)<<8|w.charCodeAt(D++)<<16|w.charCodeAt(D++)<<24;else for(M=0;M<16;++M)V[M]=w[D++]|w[D++]<<8|w[D++]<<16|w[D++]<<24;w=C.g[0],D=C.g[1],M=C.g[2];let j=C.g[3],N;N=w+(j^D&(M^j))+V[0]+3614090360&4294967295,w=D+(N<<7&4294967295|N>>>25),N=j+(M^w&(D^M))+V[1]+3905402710&4294967295,j=w+(N<<12&4294967295|N>>>20),N=M+(D^j&(w^D))+V[2]+606105819&4294967295,M=j+(N<<17&4294967295|N>>>15),N=D+(w^M&(j^w))+V[3]+3250441966&4294967295,D=M+(N<<22&4294967295|N>>>10),N=w+(j^D&(M^j))+V[4]+4118548399&4294967295,w=D+(N<<7&4294967295|N>>>25),N=j+(M^w&(D^M))+V[5]+1200080426&4294967295,j=w+(N<<12&4294967295|N>>>20),N=M+(D^j&(w^D))+V[6]+2821735955&4294967295,M=j+(N<<17&4294967295|N>>>15),N=D+(w^M&(j^w))+V[7]+4249261313&4294967295,D=M+(N<<22&4294967295|N>>>10),N=w+(j^D&(M^j))+V[8]+1770035416&4294967295,w=D+(N<<7&4294967295|N>>>25),N=j+(M^w&(D^M))+V[9]+2336552879&4294967295,j=w+(N<<12&4294967295|N>>>20),N=M+(D^j&(w^D))+V[10]+4294925233&4294967295,M=j+(N<<17&4294967295|N>>>15),N=D+(w^M&(j^w))+V[11]+2304563134&4294967295,D=M+(N<<22&4294967295|N>>>10),N=w+(j^D&(M^j))+V[12]+1804603682&4294967295,w=D+(N<<7&4294967295|N>>>25),N=j+(M^w&(D^M))+V[13]+4254626195&4294967295,j=w+(N<<12&4294967295|N>>>20),N=M+(D^j&(w^D))+V[14]+2792965006&4294967295,M=j+(N<<17&4294967295|N>>>15),N=D+(w^M&(j^w))+V[15]+1236535329&4294967295,D=M+(N<<22&4294967295|N>>>10),N=w+(M^j&(D^M))+V[1]+4129170786&4294967295,w=D+(N<<5&4294967295|N>>>27),N=j+(D^M&(w^D))+V[6]+3225465664&4294967295,j=w+(N<<9&4294967295|N>>>23),N=M+(w^D&(j^w))+V[11]+643717713&4294967295,M=j+(N<<14&4294967295|N>>>18),N=D+(j^w&(M^j))+V[0]+3921069994&4294967295,D=M+(N<<20&4294967295|N>>>12),N=w+(M^j&(D^M))+V[5]+3593408605&4294967295,w=D+(N<<5&4294967295|N>>>27),N=j+(D^M&(w^D))+V[10]+38016083&4294967295,j=w+(N<<9&4294967295|N>>>23),N=M+(w^D&(j^w))+V[15]+3634488961&4294967295,M=j+(N<<14&4294967295|N>>>18),N=D+(j^w&(M^j))+V[4]+3889429448&4294967295,D=M+(N<<20&4294967295|N>>>12),N=w+(M^j&(D^M))+V[9]+568446438&4294967295,w=D+(N<<5&4294967295|N>>>27),N=j+(D^M&(w^D))+V[14]+3275163606&4294967295,j=w+(N<<9&4294967295|N>>>23),N=M+(w^D&(j^w))+V[3]+4107603335&4294967295,M=j+(N<<14&4294967295|N>>>18),N=D+(j^w&(M^j))+V[8]+1163531501&4294967295,D=M+(N<<20&4294967295|N>>>12),N=w+(M^j&(D^M))+V[13]+2850285829&4294967295,w=D+(N<<5&4294967295|N>>>27),N=j+(D^M&(w^D))+V[2]+4243563512&4294967295,j=w+(N<<9&4294967295|N>>>23),N=M+(w^D&(j^w))+V[7]+1735328473&4294967295,M=j+(N<<14&4294967295|N>>>18),N=D+(j^w&(M^j))+V[12]+2368359562&4294967295,D=M+(N<<20&4294967295|N>>>12),N=w+(D^M^j)+V[5]+4294588738&4294967295,w=D+(N<<4&4294967295|N>>>28),N=j+(w^D^M)+V[8]+2272392833&4294967295,j=w+(N<<11&4294967295|N>>>21),N=M+(j^w^D)+V[11]+1839030562&4294967295,M=j+(N<<16&4294967295|N>>>16),N=D+(M^j^w)+V[14]+4259657740&4294967295,D=M+(N<<23&4294967295|N>>>9),N=w+(D^M^j)+V[1]+2763975236&4294967295,w=D+(N<<4&4294967295|N>>>28),N=j+(w^D^M)+V[4]+1272893353&4294967295,j=w+(N<<11&4294967295|N>>>21),N=M+(j^w^D)+V[7]+4139469664&4294967295,M=j+(N<<16&4294967295|N>>>16),N=D+(M^j^w)+V[10]+3200236656&4294967295,D=M+(N<<23&4294967295|N>>>9),N=w+(D^M^j)+V[13]+681279174&4294967295,w=D+(N<<4&4294967295|N>>>28),N=j+(w^D^M)+V[0]+3936430074&4294967295,j=w+(N<<11&4294967295|N>>>21),N=M+(j^w^D)+V[3]+3572445317&4294967295,M=j+(N<<16&4294967295|N>>>16),N=D+(M^j^w)+V[6]+76029189&4294967295,D=M+(N<<23&4294967295|N>>>9),N=w+(D^M^j)+V[9]+3654602809&4294967295,w=D+(N<<4&4294967295|N>>>28),N=j+(w^D^M)+V[12]+3873151461&4294967295,j=w+(N<<11&4294967295|N>>>21),N=M+(j^w^D)+V[15]+530742520&4294967295,M=j+(N<<16&4294967295|N>>>16),N=D+(M^j^w)+V[2]+3299628645&4294967295,D=M+(N<<23&4294967295|N>>>9),N=w+(M^(D|~j))+V[0]+4096336452&4294967295,w=D+(N<<6&4294967295|N>>>26),N=j+(D^(w|~M))+V[7]+1126891415&4294967295,j=w+(N<<10&4294967295|N>>>22),N=M+(w^(j|~D))+V[14]+2878612391&4294967295,M=j+(N<<15&4294967295|N>>>17),N=D+(j^(M|~w))+V[5]+4237533241&4294967295,D=M+(N<<21&4294967295|N>>>11),N=w+(M^(D|~j))+V[12]+1700485571&4294967295,w=D+(N<<6&4294967295|N>>>26),N=j+(D^(w|~M))+V[3]+2399980690&4294967295,j=w+(N<<10&4294967295|N>>>22),N=M+(w^(j|~D))+V[10]+4293915773&4294967295,M=j+(N<<15&4294967295|N>>>17),N=D+(j^(M|~w))+V[1]+2240044497&4294967295,D=M+(N<<21&4294967295|N>>>11),N=w+(M^(D|~j))+V[8]+1873313359&4294967295,w=D+(N<<6&4294967295|N>>>26),N=j+(D^(w|~M))+V[15]+4264355552&4294967295,j=w+(N<<10&4294967295|N>>>22),N=M+(w^(j|~D))+V[6]+2734768916&4294967295,M=j+(N<<15&4294967295|N>>>17),N=D+(j^(M|~w))+V[13]+1309151649&4294967295,D=M+(N<<21&4294967295|N>>>11),N=w+(M^(D|~j))+V[4]+4149444226&4294967295,w=D+(N<<6&4294967295|N>>>26),N=j+(D^(w|~M))+V[11]+3174756917&4294967295,j=w+(N<<10&4294967295|N>>>22),N=M+(w^(j|~D))+V[2]+718787259&4294967295,M=j+(N<<15&4294967295|N>>>17),N=D+(j^(M|~w))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+j&4294967295}s.prototype.v=function(C,w){w===void 0&&(w=C.length);const D=w-this.blockSize,V=this.C;let M=this.h,j=0;for(;j<w;){if(M==0)for(;j<=D;)o(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<w;)if(V[M++]=C.charCodeAt(j++),M==this.blockSize){o(this,V),M=0;break}}else for(;j<w;)if(V[M++]=C[j++],M==this.blockSize){o(this,V),M=0;break}}this.h=M,this.o+=w},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var D=C.length-8;D<C.length;++D)C[D]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,D=0;D<4;++D)for(let V=0;V<32;V+=8)C[w++]=this.g[D]>>>V&255;return C};function u(C,w){var D=m;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=w(C)}function c(C,w){this.h=w;const D=[];let V=!0;for(let M=C.length-1;M>=0;M--){const j=C[M]|0;V&&j==w||(D[M]=j,V=!1)}this.g=D}var m={};function p(C){return-128<=C&&C<128?u(C,function(w){return new c([w|0],w<0?-1:0)}):new c([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return U(g(-C));const w=[];let D=1;for(let V=0;C>=D;V++)w[V]=C/D|0,D*=4294967296;return new c(w,0)}function _(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return U(_(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(w,8));let V=T;for(let j=0;j<C.length;j+=8){var M=Math.min(8,C.length-j);const N=parseInt(C.substring(j,j+M),w);M<8?(M=g(Math.pow(w,M)),V=V.j(M).add(g(N))):(V=V.j(D),V=V.add(g(N)))}return V}var T=p(0),S=p(1),I=p(16777216);i=c.prototype,i.m=function(){if(P(this))return-U(this).m();let C=0,w=1;for(let D=0;D<this.g.length;D++){const V=this.i(D);C+=(V>=0?V:4294967296+V)*w,w*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(L(this))return"0";if(P(this))return"-"+U(this).toString(C);const w=g(Math.pow(C,6));var D=this;let V="";for(;;){const M=se(D,w).g;D=K(D,M.j(w));let j=((D.g.length>0?D.g[0]:D.h)>>>0).toString(C);if(D=M,L(D))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function L(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function P(C){return C.h==-1}i.l=function(C){return C=K(this,C),P(C)?-1:L(C)?0:1};function U(C){const w=C.g.length,D=[];for(let V=0;V<w;V++)D[V]=~C.g[V];return new c(D,~C.h).add(S)}i.abs=function(){return P(this)?U(this):this},i.add=function(C){const w=Math.max(this.g.length,C.g.length),D=[];let V=0;for(let M=0;M<=w;M++){let j=V+(this.i(M)&65535)+(C.i(M)&65535),N=(j>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);V=N>>>16,j&=65535,N&=65535,D[M]=N<<16|j}return new c(D,D[D.length-1]&-2147483648?-1:0)};function K(C,w){return C.add(U(w))}i.j=function(C){if(L(this)||L(C))return T;if(P(this))return P(C)?U(this).j(U(C)):U(U(this).j(C));if(P(C))return U(this.j(U(C)));if(this.l(I)<0&&C.l(I)<0)return g(this.m()*C.m());const w=this.g.length+C.g.length,D=[];for(var V=0;V<2*w;V++)D[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<C.g.length;M++){const j=this.i(V)>>>16,N=this.i(V)&65535,Pe=C.i(M)>>>16,lt=C.i(M)&65535;D[2*V+2*M]+=N*lt,$(D,2*V+2*M),D[2*V+2*M+1]+=j*lt,$(D,2*V+2*M+1),D[2*V+2*M+1]+=N*Pe,$(D,2*V+2*M+1),D[2*V+2*M+2]+=j*Pe,$(D,2*V+2*M+2)}for(C=0;C<w;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=w;C<2*w;C++)D[C]=0;return new c(D,0)};function $(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function J(C,w){this.g=C,this.h=w}function se(C,w){if(L(w))throw Error("division by zero");if(L(C))return new J(T,T);if(P(C))return w=se(U(C),w),new J(U(w.g),U(w.h));if(P(w))return w=se(C,U(w)),new J(U(w.g),w.h);if(C.g.length>30){if(P(C)||P(w))throw Error("slowDivide_ only works with positive integers.");for(var D=S,V=w;V.l(C)<=0;)D=he(D),V=he(V);var M=ue(D,1),j=ue(V,1);for(V=ue(V,2),D=ue(D,2);!L(V);){var N=j.add(V);N.l(C)<=0&&(M=M.add(D),j=N),V=ue(V,1),D=ue(D,1)}return w=K(C,M.j(w)),new J(M,w)}for(M=T;C.l(w)>=0;){for(D=Math.max(1,Math.floor(C.m()/w.m())),V=Math.ceil(Math.log(D)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=g(D),N=j.j(w);P(N)||N.l(C)>0;)D-=V,j=g(D),N=j.j(w);L(j)&&(j=S),M=M.add(j),C=K(C,N)}return new J(M,C)}i.B=function(C){return se(this,C).h},i.and=function(C){const w=Math.max(this.g.length,C.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)&C.i(V);return new c(D,this.h&C.h)},i.or=function(C){const w=Math.max(this.g.length,C.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)|C.i(V);return new c(D,this.h|C.h)},i.xor=function(C){const w=Math.max(this.g.length,C.g.length),D=[];for(let V=0;V<w;V++)D[V]=this.i(V)^C.i(V);return new c(D,this.h^C.h)};function he(C){const w=C.g.length+1,D=[];for(let V=0;V<w;V++)D[V]=C.i(V)<<1|C.i(V-1)>>>31;return new c(D,C.h)}function ue(C,w){const D=w>>5;w%=32;const V=C.g.length-D,M=[];for(let j=0;j<V;j++)M[j]=w>0?C.i(j+D)>>>w|C.i(j+D+1)<<32-w:C.i(j+D);return new c(M,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Xb=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,Os=c}).apply(typeof i0<"u"?i0:typeof self<"u"?self:typeof window<"u"?window:{});var Th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wb,iu,Jb,Ph,yp,Zb,eS,tS;(function(){var i,e=Object.defineProperty;function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Th=="object"&&Th];for(var y=0;y<h.length;++y){var E=h[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(h,y){if(y)e:{var E=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var H=h[A];if(!(H in E))break e;E=E[H]}h=h[h.length-1],A=E[h],y=y(A),y!=A&&y!=null&&e(E,h,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(h){return h||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function p(h,y,E){return h.call.apply(h.bind,arguments)}function g(h,y,E){return g=p,g.apply(null,arguments)}function _(h,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function T(h,y){function E(){}E.prototype=y.prototype,h.Z=y.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(A,H,Y){for(var le=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)le[Ie-2]=arguments[Ie];return y.prototype[H].apply(A,le)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const y=h.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=h[A];return E}return[]}function L(h,y){for(let A=1;A<arguments.length;A++){const H=arguments[A];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=h.length||0;const Y=H.length||0;h.length=E+Y;for(let le=0;le<Y;le++)h[E+le]=H[le]}else h.push(H)}}class P{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(h){c.setTimeout(()=>{throw h},0)}function K(){var h=C;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class ${constructor(){this.h=this.g=null}add(y,E){const A=J.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var J=new P(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let he,ue=!1,C=new $,w=()=>{const h=Promise.resolve(void 0);he=()=>{h.then(D)}};function D(){for(var h;h=K();){try{h.h.call(h.g)}catch(E){U(E)}var y=J;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ue=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return h})();function N(h){return/^[\s\xa0]*$/.test(h)}function Pe(h,y){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(Pe,M),Pe.prototype.init=function(h,y){const E=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(E=="mouseover"?y=h.fromElement:E=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&Pe.Z.h.call(this)},Pe.prototype.h=function(){Pe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var lt="closure_listenable_"+(Math.random()*1e6|0),W=0;function ae(h,y,E,A,H){this.listener=h,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=H,this.key=++W,this.da=this.fa=!1}function re(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function ge(h,y,E){for(const A in h)y.call(E,h[A],A,h)}function ye(h,y){for(const E in h)y.call(void 0,h[E],E,h)}function k(h){const y={};for(const E in h)y[E]=h[E];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(h,y){let E,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(E in A)h[E]=A[E];for(let Y=0;Y<X.length;Y++)E=X[Y],Object.prototype.hasOwnProperty.call(A,E)&&(h[E]=A[E])}}function ce(h){this.src=h,this.g={},this.h=0}ce.prototype.add=function(h,y,E,A,H){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const le=me(h,y,A,H);return le>-1?(y=h[le],E||(y.fa=!1)):(y=new ae(y,this.src,Y,!!A,H),y.fa=E,h.push(y)),y};function Ee(h,y){const E=y.type;if(E in h.g){var A=h.g[E],H=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=H>=0)&&Array.prototype.splice.call(A,H,1),Y&&(re(y),h.g[E].length==0&&(delete h.g[E],h.h--))}}function me(h,y,E,A){for(let H=0;H<h.length;++H){const Y=h[H];if(!Y.da&&Y.listener==y&&Y.capture==!!E&&Y.ha==A)return H}return-1}var xe="closure_lm_"+(Math.random()*1e6|0),We={};function Me(h,y,E,A,H){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)Me(h,y[Y],E,A,H);return null}return E=qr(E),h&&h[lt]?h.J(y,E,m(A)?!!A.capture:!1,H):Oe(h,y,E,!1,A,H)}function Oe(h,y,E,A,H,Y){if(!y)throw Error("Invalid event type");const le=m(H)?!!H.capture:!!H;let Ie=Cn(h);if(Ie||(h[xe]=Ie=new ce(h)),E=Ie.add(y,E,A,le,Y),E.proxy)return E;if(A=ti(),E.proxy=A,A.src=h,A.listener=E,h.addEventListener)j||(H=le),H===void 0&&(H=!1),h.addEventListener(y.toString(),A,H);else if(h.attachEvent)h.attachEvent(It(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ti(){function h(E){return y.call(h.src,h.listener,E)}const y=ni;return h}function Zt(h,y,E,A,H){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Zt(h,y[Y],E,A,H);else A=m(A)?!!A.capture:!!A,E=qr(E),h&&h[lt]?(h=h.i,Y=String(y).toString(),Y in h.g&&(y=h.g[Y],E=me(y,E,A,H),E>-1&&(re(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete h.g[Y],h.h--)))):h&&(h=Cn(h))&&(y=h.g[y.toString()],h=-1,y&&(h=me(y,E,A,H)),(E=h>-1?y[h]:null)&&zn(E))}function zn(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[lt])Ee(y.i,h);else{var E=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(E,A,h.capture):y.detachEvent?y.detachEvent(It(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Cn(y))?(Ee(E,h),E.h==0&&(E.src=null,y[xe]=null)):re(h)}}}function It(h){return h in We?We[h]:We[h]="on"+h}function ni(h,y){if(h.da)h=!0;else{y=new Pe(y,this);const E=h.listener,A=h.ha||h.src;h.fa&&zn(h),h=E.call(A,y)}return h}function Cn(h){return h=h[xe],h instanceof ce?h:null}var Hr="__closure_events_fn_"+(Math.random()*1e9>>>0);function qr(h){return typeof h=="function"?h:(h[Hr]||(h[Hr]=function(y){return h.handleEvent(y)}),h[Hr])}function ft(){V.call(this),this.i=new ce(this),this.M=this,this.G=null}T(ft,V),ft.prototype[lt]=!0,ft.prototype.removeEventListener=function(h,y,E,A){Zt(this,h,y,E,A)};function tt(h,y){var E,A=h.G;if(A)for(E=[];A;A=A.G)E.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new M(y,h);else if(y instanceof M)y.target=y.target||h;else{var H=y;y=new M(A,h),oe(y,H)}H=!0;let Y,le;if(E)for(le=E.length-1;le>=0;le--)Y=y.g=E[le],H=jn(Y,A,!0,y)&&H;if(Y=y.g=h,H=jn(Y,A,!0,y)&&H,H=jn(Y,A,!1,y)&&H,E)for(le=0;le<E.length;le++)Y=y.g=E[le],H=jn(Y,A,!1,y)&&H}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const E=h.g[y];for(let A=0;A<E.length;A++)re(E[A]);delete h.g[y],h.h--}}this.G=null},ft.prototype.J=function(h,y,E,A){return this.i.add(String(h),y,!1,E,A)},ft.prototype.K=function(h,y,E,A){return this.i.add(String(h),y,!0,E,A)};function jn(h,y,E,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let Y=0;Y<y.length;++Y){const le=y[Y];if(le&&!le.da&&le.capture==E){const Ie=le.listener,At=le.ha||le.src;le.fa&&Ee(h.i,le),H=Ie.call(At,A)!==!1&&H}}return H&&!A.defaultPrevented}function Fr(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function qs(h){h.g=Fr(()=>{h.g=null,h.i&&(h.i=!1,qs(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class Gt extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:qs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(h){V.call(this),this.h=h,this.g={}}T(or,V);var Fs=[];function ii(h){ge(h.g,function(y,E){this.g.hasOwnProperty(E)&&zn(y)},h),h.g={}}or.prototype.N=function(){or.Z.N.call(this),ii(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=c.JSON.stringify,lr=c.JSON.parse,Gs=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function Bn(){}function Ks(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){M.call(this,"d")}T(zt,M);function cn(){M.call(this,"c")}T(cn,M);var dt={},ka=null;function ur(){return ka=ka||new ft}dt.Ia="serverreachability";function Va(h){M.call(this,dt.Ia,h)}T(Va,M);function ri(h){const y=ur();tt(y,new Va(y))}dt.STAT_EVENT="statevent";function cr(h,y){M.call(this,dt.STAT_EVENT,h),this.stat=y}T(cr,M);function ke(h){const y=ur();tt(y,new cr(y,h))}dt.Ja="timingevent";function mt(h,y){M.call(this,dt.Ja,h),this.size=y}T(mt,M);function pt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function Dt(){this.g=!0}Dt.prototype.ua=function(){this.g=!1};function hn(h,y,E,A,H,Y){h.info(function(){if(h.g)if(Y){var le="",Ie=Y.split("&");for(let Qe=0;Qe<Ie.length;Qe++){var At=Ie[Qe].split("=");if(At.length>1){const gt=At[0];At=At[1];const li=gt.split("_");le=li.length>=2&&li[1]=="type"?le+(gt+"="+At+"&"):le+(gt+"=redacted&")}}}else le=null;else le=Y;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+E+`
`+le})}function Kt(h,y,E,A,H,Y,le){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+E+`
`+Y+" "+le})}function bt(h,y,E,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+St(h,E)+(A?" "+A:"")})}function In(h,y){h.info(function(){return"TIMEOUT: "+y})}Dt.prototype.info=function(){};function St(h,y){if(!h.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var E=Y[h];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var H=A[0];if(H!="noop"&&H!="stop"&&H!="close")for(let le=1;le<A.length;le++)A[le]=""}}}}return En(Y)}catch{return y}}var fn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Tn;function qn(){}T(qn,Bn),qn.prototype.g=function(){return new XMLHttpRequest},Tn=new qn;function bn(h){return encodeURIComponent(String(h))}function Fn(h){var y=1;h=h.split(":");const E=[];for(;y>0&&h.length;)E.push(h.shift()),y--;return h.length&&E.push(h.join(":")),E}function en(h,y,E,A){this.j=h,this.i=y,this.l=E,this.S=A||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Sn}function Sn(){this.i=null,this.g="",this.h=!1}var xt={},Yt={};function Vi(h,y,E){h.M=1,h.A=Ys(Ot(y)),h.u=E,h.R=!0,La(h,null)}function La(h,y){h.F=Date.now(),Li(h),h.B=Ot(h.A);var E=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),ja(E.i,"t",A),h.C=0,E=h.j.L,h.h=new Sn,h.g=fc(h.j,E?y:null,!h.u),h.P>0&&(h.O=new Gt(g(h.Y,h,h.g),h.P)),y=h.V,E=h.g,A=h.ba;var H="readystatechange";Array.isArray(H)||(H&&(Fs[0]=H.toString()),H=Fs);for(let Y=0;Y<H.length;Y++){const le=Me(E,H[Y],A||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),ri(),hn(h.i,h.v,h.B,h.l,h.S,h.u)}en.prototype.ba=function(h){h=h.target;const y=this.O;y&&Ai(h)==3?y.j():this.Y(h)},en.prototype.Y=function(h){try{if(h==this.g)e:{const Ie=Ai(this.g),At=this.g.ya(),Qe=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||tn(this.g)))){this.K||Ie!=4||At==7||(At==8||Qe<=0?ri(3):ri(2)),Pi(this);var y=this.g.ca();this.X=y;var E=Hf(this);if(this.o=y==200,Kt(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,H=this.g;if((A=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var Y=A;break t}}Y=null}if(h=Y)bt(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ui(this,h);else{this.o=!1,this.m=3,ke(12),Gn(this),si(this);break e}}if(this.R){h=!0;let gt;for(;!this.K&&this.C<E.length;)if(gt=Zu(this,E),gt==Yt){Ie==4&&(this.m=4,ke(14),h=!1),bt(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==xt){this.m=4,ke(15),bt(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else bt(this.i,this.l,gt,null),Ui(this,gt);if(Ju(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||E.length!=0||this.h.h||(this.m=1,ke(16),h=!1),this.o=this.o&&h,!h)bt(this.i,this.l,E,"[Invalid Chunked Response]"),Gn(this),si(this);else if(E.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),dl(le),le.P=!0,ke(11))}}else bt(this.i,this.l,E,null),Ui(this,E);Ie==4&&Gn(this),this.o&&!this.K&&(Ie==4?lc(this.j,this):(this.o=!1,Li(this)))}else fr(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,ke(12)):(this.m=0,ke(13)),Gn(this),si(this)}}}catch{}};function Hf(h){if(!Ju(h))return h.g.la();const y=tn(h.g);if(y==="")return"";let E="";const A=y.length,H=Ai(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Gn(h),si(h),"";h.h.i=new c.TextDecoder}for(let Y=0;Y<A;Y++)h.h.h=!0,E+=h.h.i.decode(y[Y],{stream:!(H&&Y==A-1)});return y.length=0,h.h.g+=E,h.C=0,h.h.g}function Ju(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Zu(h,y){var E=h.C,A=y.indexOf(`
`,E);return A==-1?Yt:(E=Number(y.substring(E,A)),isNaN(E)?xt:(A+=1,A+E>y.length?Yt:(y=y.slice(A,A+E),h.C=A+E,y)))}en.prototype.cancel=function(){this.K=!0,Gn(this)};function Li(h){h.T=Date.now()+h.H,Pa(h,h.H)}function Pa(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=pt(g(h.aa,h),y)}function Pi(h){h.D&&(c.clearTimeout(h.D),h.D=null)}en.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(In(this.i,this.B),this.M!=2&&(ri(),ke(17)),Gn(this),this.m=2,si(this)):Pa(this,this.T-h)};function si(h){h.j.I==0||h.K||lc(h.j,h)}function Gn(h){Pi(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,ii(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Ui(h,y){try{var E=h.j;if(E.I!=0&&(E.g==h||ji(E.h,h))){if(!h.L&&ji(E.h,h)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Ga(E),Jr(E);else break e;ea(E),ke(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=pt(g(E.Va,E),6e3));zi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ki(E,11)}else if((h.L||E.g==h)&&Ga(E),!N(y))for(H=E.Ba.g.parse(y),y=0;y<H.length;y++){let Qe=H[y];const gt=Qe[0];if(!(gt<=E.K))if(E.K=gt,Qe=Qe[1],E.I==2)if(Qe[0]=="c"){E.M=Qe[1],E.ba=Qe[2];const li=Qe[3];li!=null&&(E.ka=li,E.j.info("VER="+E.ka));const Yi=Qe[4];Yi!=null&&(E.za=Yi,E.j.info("SVER="+E.za));const wi=Qe[5];wi!=null&&typeof wi=="number"&&wi>0&&(A=1.5*wi,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const Ri=h.g;if(Ri){const ta=Ri.g?Ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ta){var Y=A.h;Y.g||ta.indexOf("spdy")==-1&&ta.indexOf("quic")==-1&&ta.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(tl(Y,Y.h),Y.h=null))}if(A.G){const Ka=Ri.g?Ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Ka&&(A.wa=Ka,Je(A.J,A.G,Ka))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var le=h;if(A.na=hc(A,A.L?A.ba:null,A.W),le.L){nl(A.h,le);var Ie=le,At=A.O;At&&(Ie.H=At),Ie.D&&(Pi(Ie),Li(Ie)),A.g=le}else ac(A);E.i.length>0&&Gi(E)}else Qe[0]!="stop"&&Qe[0]!="close"||Ki(E,7);else E.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ki(E,7):hl(E):Qe[0]!="noop"&&E.l&&E.l.qa(Qe),E.A=0)}}ri(4)}catch{}}var Nt=class{constructor(h,y){this.g=h,this.map=y}};function Zo(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function el(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function zi(h){return h.h?1:h.g?h.g.size:0}function ji(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function tl(h,y){h.g?h.g.add(y):h.h=y}function nl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Zo.prototype.cancel=function(){if(this.i=il(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function il(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const E of h.g.values())y=y.concat(E.G);return y}return I(h.i)}var ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ua(h,y){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const A=h[E].indexOf("=");let H,Y=null;A>=0?(H=h[E].substring(0,A),Y=h[E].substring(A+1)):H=h[E],y(H,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Kn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Kn?(this.l=h.l,Qt(this,h.j),this.o=h.o,this.g=h.g,Gr(this,h.u),this.h=h.h,rl(this,rc(h.i)),this.m=h.m):h&&(y=String(h).match(ec))?(this.l=!1,Qt(this,y[1]||"",!0),this.o=Bi(y[2]||""),this.g=Bi(y[3]||"",!0),Gr(this,y[4]),this.h=Bi(y[5]||"",!0),rl(this,y[6]||"",!0),this.m=Bi(y[7]||"")):(this.l=!1,this.i=new Yr(null,this.l))}Kn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Qs(y,za,!0),":");var E=this.g;return(E||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Qs(y,za,!0),"@"),h.push(bn(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Qs(E,E.charAt(0)=="/"?sl:tc,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Qs(E,nc)),h.join("")},Kn.prototype.resolve=function(h){const y=Ot(this);let E=!!h.j;E?Qt(y,h.j):E=!!h.o,E?y.o=h.o:E=!!h.g,E?y.g=h.g:E=h.u!=null;var A=h.h;if(E)Gr(y,h.u);else if(E=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var H=y.h.lastIndexOf("/");H!=-1&&(A=y.h.slice(0,H+1)+A)}if(H=A,H==".."||H==".")A="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){A=H.lastIndexOf("/",0)==0,H=H.split("/");const Y=[];for(let le=0;le<H.length;){const Ie=H[le++];Ie=="."?A&&le==H.length&&Y.push(""):Ie==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&le==H.length&&Y.push("")):(Y.push(Ie),A=!0)}A=Y.join("/")}else A=H}return E?y.h=A:E=h.i.toString()!=="",E?rl(y,rc(h.i)):E=!!h.m,E&&(y.m=h.m),y};function Ot(h){return new Kn(h)}function Qt(h,y,E){h.j=E?Bi(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Gr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function rl(h,y,E){y instanceof Yr?(h.i=y,Ba(h.i,h.l)):(E||(y=Qs(y,Kr)),h.i=new Yr(y,h.l))}function Je(h,y,E){h.i.set(y,E)}function Ys(h){return Je(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Bi(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Qs(h,y,E){return typeof h=="string"?(h=encodeURI(h).replace(y,Dn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Dn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var za=/[#\/\?@]/g,tc=/[#\?:]/g,sl=/[#\?]/g,Kr=/[#\?@]/g,nc=/#/g;function Yr(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function xn(h){h.g||(h.g=new Map,h.h=0,h.i&&Ua(h.i,function(y,E){h.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}i=Yr.prototype,i.add=function(h,y){xn(this),this.i=null,h=Qr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(y),this.h+=1,this};function ic(h,y){xn(h),y=Qr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function al(h,y){return xn(h),y=Qr(h,y),h.g.has(y)}i.forEach=function(h,y){xn(this),this.g.forEach(function(E,A){E.forEach(function(H){h.call(y,H,A,this)},this)},this)};function ol(h,y){xn(h);let E=[];if(typeof y=="string")al(h,y)&&(E=E.concat(h.g.get(Qr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)E=E.concat(h[y]);return E}i.set=function(h,y){return xn(this),this.i=null,h=Qr(this,h),al(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=ol(this,h),h.length>0?String(h[0]):y):y};function ja(h,y,E){ic(h,y),E.length>0&&(h.i=null,h.g.set(Qr(h,y),I(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const H=bn(E);E=ol(this,E);for(let Y=0;Y<E.length;Y++){let le=H;E[Y]!==""&&(le+="="+bn(E[Y])),h.push(le)}}return this.i=h.join("&")};function rc(h){const y=new Yr;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function Qr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function Ba(h,y){y&&!h.j&&(xn(h),h.i=null,h.g.forEach(function(E,A){const H=A.toLowerCase();A!=H&&(ic(this,A),ja(this,H,E))},h)),h.j=y}function bi(h,y){const E=new Dt;if(c.Image){const A=new Image;A.onload=_(ai,E,"TestLoadImage: loaded",!0,y,A),A.onerror=_(ai,E,"TestLoadImage: error",!1,y,A),A.onabort=_(ai,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=_(ai,E,"TestLoadImage: timeout",!1,y,A),c.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function ll(h,y){const E=new Dt,A=new AbortController,H=setTimeout(()=>{A.abort(),ai(E,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Y=>{clearTimeout(H),Y.ok?ai(E,"TestPingServer: ok",!0,y):ai(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),ai(E,"TestPingServer: error",!1,y)})}function ai(h,y,E,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(E)}catch{}}function $r(){this.g=new Gs}function Hi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Hi,Bn),Hi.prototype.g=function(){return new $s(this.i,this.h)};function $s(h,y){ft.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T($s,ft),i=$s.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,Si(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Si(this)),this.g&&(this.readyState=3,Si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ha(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ha(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Xr(this):Si(this),this.readyState==3&&Ha(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Xr(this))},i.Na=function(h){this.g&&(this.response=h,Xr(this))},i.ga=function(){this.g&&Xr(this)};function Xr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,Si(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=y.next();return h.join(`\r
`)};function Si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty($s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function oi(h){let y="";return ge(h,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Xs(h,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=oi(E),typeof h=="string"?E!=null&&bn(E):Je(h,y,E))}function nt(h){ft.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(nt,ft);var qi=/^https?$/i,ul=["POST","PUT"];i=nt.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tn.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Y){Ws(this,Y);return}if(h=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)E.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())E.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(Y=>Y.toLowerCase()=="content-type"),H=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(ul,y,void 0)>=0)||A||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,le]of E)this.g.setRequestHeader(Y,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){Ws(this,Y)}};function Ws(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,cl(h),hr(h)}function cl(h){h.A||(h.A=!0,tt(h,"complete"),tt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,tt(this,"complete"),tt(this,"abort"),hr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hr(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Js(this):this.Xa())},i.Xa=function(){Js(this)};function Js(h){if(h.h&&typeof u<"u"){if(h.v&&Ai(h)==4)setTimeout(h.Ca.bind(h),0);else if(tt(h,"readystatechange"),Ai(h)==4){h.h=!1;try{const Y=h.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=Y===0){let le=String(h.D).match(ec)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),A=!qi.test(le?le.toLowerCase():"")}E=A}if(E)tt(h,"complete"),tt(h,"success");else{h.o=6;try{var H=Ai(h)>2?h.g.statusText:""}catch{H=""}h.l=H+" ["+h.ca()+"]",cl(h)}}finally{hr(h)}}}}function hr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,y||tt(h,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function Ai(h){return h.g?h.g.readyState:0}i.ca=function(){try{return Ai(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),lr(y)}};function tn(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function fr(h){const y={};h=(h.g&&Ai(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(N(h[A]))continue;var E=Fn(h[A]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Y=y[H]||[];y[H]=Y,Y.push(E)}ye(y,function(A){return A.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(h,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||y}function Wr(h){this.za=0,this.i=[],this.j=new Dt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,h),this.Za=Fi("retryDelaySeedMs",1e4,h),this.Ta=Fi("forwardChannelMaxRetries",2,h),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Zo(h&&h.concurrentRequestLimit),this.Ba=new $r,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Wr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,E,A){ke(0),this.W=h,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=hc(this,null,this.W),Gi(this)};function hl(h){if(qa(h),h.I==3){var y=h.V++,E=Ot(h.J);if(Je(E,"SID",h.M),Je(E,"RID",y),Je(E,"TYPE","terminate"),Zs(h,E),y=new en(h,h.j,y),y.M=2,y.A=Ys(Ot(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.A,E=!0),E||(y.g=fc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Li(y)}cc(h)}function Jr(h){h.g&&(dl(h),h.g.cancel(),h.g=null)}function qa(h){Jr(h),h.v&&(c.clearTimeout(h.v),h.v=null),Ga(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function Gi(h){if(!el(h.h)&&!h.m){h.m=!0;var y=h.Ea;he||w(),ue||(he(),ue=!0),C.add(y,h),h.D=0}}function Fa(h,y){return zi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=pt(g(h.Ea,h,y),uc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const H=new en(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=k(Y),oe(Y,this.U)):Y=this.U),this.u!==null||this.R||(H.J=Y,Y=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=sc(this,H,y),E=Ot(this.J),Je(E,"RID",h),Je(E,"CVER",22),this.G&&Je(E,"X-HTTP-Session-Id",this.G),Zs(this,E),Y&&(this.R?y="headers="+bn(oi(Y))+"&"+y:this.u&&Xs(E,this.u,Y)),tl(this.h,H),this.Ra&&Je(E,"TYPE","init"),this.S?(Je(E,"$req",y),Je(E,"SID","null"),H.U=!0,Vi(H,E,null)):Vi(H,E,y),this.I=2}}else this.I==3&&(h?fl(this,h):this.i.length==0||el(this.h)||fl(this))};function fl(h,y){var E;y?E=y.l:E=h.V++;const A=Ot(h.J);Je(A,"SID",h.M),Je(A,"RID",E),Je(A,"AID",h.K),Zs(h,A),h.u&&h.o&&Xs(A,h.u,h.o),E=new en(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),y&&(h.i=y.G.concat(h.i)),y=sc(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),tl(h.h,E),Vi(E,A,y)}function Zs(h,y){h.H&&ge(h.H,function(E,A){Je(y,A,E)}),h.l&&ge({},function(E,A){Je(y,A,E)})}function sc(h,y,E){E=Math.min(h.i.length,E);const A=h.l?g(h.l.Ka,h.l,h):null;e:{var H=h.i;let Ie=-1;for(;;){const At=["count="+E];Ie==-1?E>0?(Ie=H[0].g,At.push("ofs="+Ie)):Ie=0:At.push("ofs="+Ie);let Qe=!0;for(let gt=0;gt<E;gt++){var Y=H[gt].g;const li=H[gt].map;if(Y-=Ie,Y<0)Ie=Math.max(0,H[gt].g-100),Qe=!1;else try{Y="req"+Y+"_"||"";try{var le=li instanceof Map?li:Object.entries(li);for(const[Yi,wi]of le){let Ri=wi;m(wi)&&(Ri=En(wi)),At.push(Y+Yi+"="+encodeURIComponent(Ri))}}catch(Yi){throw At.push(Y+"type="+encodeURIComponent("_badmap")),Yi}}catch{A&&A(li)}}if(Qe){le=At.join("&");break e}}le=void 0}return h=h.i.splice(0,E),y.G=h,le}function ac(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;he||w(),ue||(he(),ue=!0),C.add(y,h),h.A=0}}function ea(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=pt(g(h.Da,h),uc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,oc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=pt(g(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ke(10),Jr(this),oc(this))};function dl(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function oc(h){h.g=new en(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Ot(h.na);Je(y,"RID","rpc"),Je(y,"SID",h.M),Je(y,"AID",h.K),Je(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Je(y,"TO",h.ia),Je(y,"TYPE","xmlhttp"),Zs(h,y),h.u&&h.o&&Xs(y,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=Ys(Ot(y)),E.u=null,E.R=!0,La(E,h)}i.Va=function(){this.C!=null&&(this.C=null,Jr(this),ea(this),ke(19))};function Ga(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function lc(h,y){var E=null;if(h.g==y){Ga(h),dl(h),h.g=null;var A=2}else if(ji(h.h,y))E=y.G,nl(h.h,y),A=1;else return;if(h.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var H=h.D;A=ur(),tt(A,new mt(A,E)),Gi(h)}else ac(h);else if(H=y.m,H==3||H==0&&y.X>0||!(A==1&&Fa(h,y)||A==2&&ea(h)))switch(E&&E.length>0&&(y=h.h,y.i=y.i.concat(E)),H){case 1:Ki(h,5);break;case 4:Ki(h,10);break;case 3:Ki(h,6);break;default:Ki(h,2)}}}function uc(h,y){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*y}function Ki(h,y){if(h.j.info("Error code "+y),y==2){var E=g(h.bb,h),A=h.Ua;const H=!A;A=new Kn(A||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Qt(A,"https"),Ys(A),H?bi(A.toString(),E):ll(A.toString(),E)}else ke(2);h.I=0,h.l&&h.l.pa(y),cc(h),qa(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),ke(2)):(this.j.info("Failed to ping google.com"),ke(1))};function cc(h){if(h.I=0,h.ja=[],h.l){const y=il(h.h);(y.length!=0||h.i.length!=0)&&(L(h.ja,y),L(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function hc(h,y,E){var A=E instanceof Kn?Ot(E):new Kn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Gr(A,A.u);else{var H=c.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const Y=new Kn(null);A&&Qt(Y,A),y&&(Y.g=y),H&&Gr(Y,H),E&&(Y.h=E),A=Y}return E=h.G,y=h.wa,E&&y&&Je(A,E,y),Je(A,"VER",h.ka),Zs(h,A),A}function fc(h,y,E){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new nt(new Hi({ab:E})):new nt(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function dc(){}i=dc.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Zr(){}Zr.prototype.g=function(h,y){return new An(h,y)};function An(h,y){ft.call(this),this.g=new Wr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!N(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new dr(this)}T(An,ft),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){hl(this.g)},An.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=En(h),h=E);y.i.push(new Nt(y.Ya++,h)),y.I==3&&Gi(y)},An.prototype.N=function(){this.g.l=null,delete this.j,hl(this.g),delete this.g,An.Z.N.call(this)};function mc(h){zt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const E in y){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(mc,zt);function pc(){cn.call(this),this.status=1}T(pc,cn);function dr(h){this.g=h}T(dr,dc),dr.prototype.ra=function(){tt(this.g,"a")},dr.prototype.qa=function(h){tt(this.g,new mc(h))},dr.prototype.pa=function(h){tt(this.g,new pc)},dr.prototype.oa=function(){tt(this.g,"b")},Zr.prototype.createWebChannel=Zr.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,tS=function(){return new Zr},eS=function(){return ur()},Zb=dt,yp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fn.NO_ERROR=0,fn.TIMEOUT=8,fn.HTTP_ERROR=6,Ph=fn,dn.COMPLETE="complete",Jb=dn,Ks.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",ft.prototype.listen=ft.prototype.J,iu=Ks,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,Wb=nt}).apply(typeof Th<"u"?Th:typeof self<"u"?self:typeof window<"u"?window:{});const r0="@firebase/firestore",s0="4.9.3";class gn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gn.UNAUTHENTICATED=new gn(null),gn.GOOGLE_CREDENTIALS=new gn("google-credentials-uid"),gn.FIRST_PARTY=new gn("first-party-uid"),gn.MOCK_USER=new gn("mock-user");let Ko="12.7.0";const Ra=new Fp("@firebase/firestore");function Ao(){return Ra.logLevel}function fe(i,...e){if(Ra.logLevel<=je.DEBUG){const n=e.map(ig);Ra.debug(`Firestore (${Ko}): ${i}`,...n)}}function Ur(i,...e){if(Ra.logLevel<=je.ERROR){const n=e.map(ig);Ra.error(`Firestore (${Ko}): ${i}`,...n)}}function Lo(i,...e){if(Ra.logLevel<=je.WARN){const n=e.map(ig);Ra.warn(`Firestore (${Ko}): ${i}`,...n)}}function ig(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch{return i}}function Ae(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,nS(i,s,n)}function nS(i,e,n){let s=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ur(s),new Error(s)}function Xe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||nS(e,o,s)}function Ce(i,e){return i}const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Br{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ea{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class iS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(gn.UNAUTHENTICATED)))}shutdown(){}}class bN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class SN{constructor(e){this.t=e,this.currentUser=gn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ea;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ea,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ea)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string",31837,{l:s}),new iS(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new gn(e)}}class AN{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=gn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class wN{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new AN(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(gn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class a0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RN{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ei(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new a0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new a0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function CN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=CN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Be(i,e){return i<e?-1:i>e?1:0}function vp(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Jm(o)===Jm(u)?Be(o,u):Jm(o)?1:-1}return Be(i.length,e.length)}const IN=55296,DN=57343;function Jm(i){const e=i.charCodeAt(0);return e>=IN&&e<=DN}function Po(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}const o0="__name__";class Ji{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ae(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ji.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ji?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ji.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Be(e.length,n.length)}static compareSegments(e,n){const s=Ji.isNumericId(e),o=Ji.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ji.extractNumericId(e).compare(Ji.extractNumericId(n)):vp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class vt extends Ji{construct(e,n,s){return new vt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new vt(n)}static emptyPath(){return new vt([])}}const xN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Ji{construct(e,n,s){return new ln(e,n,s)}static isValidIdentifier(e){return xN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===o0}static keyField(){return new ln([o0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ve(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let c=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ve(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(c=!c,o++):m!=="."||c?(s+=m,o++):(u(),o++)}if(u(),c)throw new ve(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(n)}static emptyPath(){return new ln([])}}class Te{constructor(e){this.path=e}static fromPath(e){return new Te(vt.fromString(e))}static fromName(e){return new Te(vt.fromString(e).popFirst(5))}static empty(){return new Te(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new vt(e.slice()))}}function NN(i,e,n){if(!n)throw new ve(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function ON(i,e,n,s){if(e===!0&&s===!0)throw new ve(ie.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function l0(i){if(!Te.isDocumentKey(i))throw new ve(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function rS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function sg(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ae(12329,{type:typeof i})}function No(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ve(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sg(i);throw new ve(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ut(i,e){const n={typeString:i};return e&&(n.value=e),n}function qu(i,e){if(!rS(i))throw new ve(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const c=i[s];if(o&&typeof c!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&c!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ve(ie.INVALID_ARGUMENT,n);return!0}const u0=-62135596800,c0=1e6;class ht{static now(){return ht.fromMillis(Date.now())}static fromDate(e){return ht.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*c0);return new ht(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<u0)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ht._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qu(e,ht._jsonSchema))return new ht(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-u0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ht._jsonSchemaVersion="firestore/timestamp/1.0",ht._jsonSchema={type:Ut("string",ht._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ht(0,0))}static max(){return new we(new ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Tu=-1;function MN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new ht(n+1,0):new ht(n,s));return new ks(o,Te.empty(),e)}function kN(i){return new ks(i.readTime,i.key,Tu)}class ks{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ks(we.min(),Te.empty(),Tu)}static max(){return new ks(we.max(),Te.empty(),Tu)}}function VN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(i.documentKey,e.documentKey),n!==0?n:Be(i.largestBatchId,e.largestBatchId))}const LN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yo(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==LN)throw i;fe("LocalStore","Unexpectedly lost primary lease")}class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,c=!1;e.forEach((m=>{++o,m.next((()=>{++u,c&&u===o&&n()}),(p=>s(p)))})),c=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,c=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((_=>{c[g]=_,++m,m===u&&s(c)}),(_=>o(_)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function UN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qo(i){return i.name==="IndexedDbTransactionError"}class wf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wf.ce=-1;const ag=-1;function Rf(i){return i==null}function ef(i){return i===0&&1/i==-1/0}function zN(i){return typeof i=="number"&&Number.isInteger(i)&&!ef(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const sS="";function jN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=h0(e)),e=BN(i.get(n),e);return h0(e)}function BN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case sS:n+="";break;default:n+=u}}return n}function h0(i){return i+sS+""}function f0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function xa(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function aS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class _t{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??on.RED,this.left=o??on.EMPTY,this.right=u??on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new on(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return on.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new on(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ft{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(e){return new d0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class d0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ni{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Ni([])}unionWith(e){let n=new Ft(ln.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ni(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Po(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class oS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new oS("Invalid base64 string: "+u):u}})(e);return new un(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u})(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const HN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vs(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=HN.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(i.seconds),nanos:Ct(i.nanos)}}function Ct(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ls(i){return typeof i=="string"?un.fromBase64String(i):un.fromUint8Array(i)}const lS="server_timestamp",uS="__type__",cS="__previous_value__",hS="__local_write_time__";function og(i){return(i?.mapValue?.fields||{})[uS]?.stringValue===lS}function Cf(i){const e=i.mapValue.fields[cS];return og(e)?Cf(e):e}function bu(i){const e=Vs(i.mapValue.fields[hS].timestampValue);return new ht(e.seconds,e.nanos)}class qN{constructor(e,n,s,o,u,c,m,p,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const tf="(default)";class Su{constructor(e,n){this.projectId=e,this.database=n||tf}static empty(){return new Su("","")}get isDefaultDatabase(){return this.database===tf}isEqual(e){return e instanceof Su&&e.projectId===this.projectId&&e.database===this.database}}const fS="__type__",FN="__max__",Sh={mapValue:{}},dS="__vector__",nf="value";function Ps(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?og(i)?4:KN(i)?9007199254740991:GN(i)?10:11:Ae(28295,{value:i})}function rr(i,e){if(i===e)return!0;const n=Ps(i);if(n!==Ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return bu(i).isEqual(bu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Vs(o.timestampValue),m=Vs(u.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return Ls(o.bytesValue).isEqual(Ls(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=Ct(o.doubleValue),m=Ct(u.doubleValue);return c===m?ef(c)===ef(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return Po(i.arrayValue.values||[],e.arrayValue.values||[],rr);case 10:case 11:return(function(o,u){const c=o.mapValue.fields||{},m=u.mapValue.fields||{};if(f0(c)!==f0(m))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(m[p]===void 0||!rr(c[p],m[p])))return!1;return!0})(i,e);default:return Ae(52216,{left:i})}}function Au(i,e){return(i.values||[]).find((n=>rr(n,e)))!==void 0}function Uo(i,e){if(i===e)return 0;const n=Ps(i),s=Ps(e);if(n!==s)return Be(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(i.booleanValue,e.booleanValue);case 2:return(function(u,c){const m=Ct(u.integerValue||u.doubleValue),p=Ct(c.integerValue||c.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return m0(i.timestampValue,e.timestampValue);case 4:return m0(bu(i),bu(e));case 5:return vp(i.stringValue,e.stringValue);case 6:return(function(u,c){const m=Ls(u),p=Ls(c);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,c){const m=u.split("/"),p=c.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Be(m[g],p[g]);if(_!==0)return _}return Be(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,c){const m=Be(Ct(u.latitude),Ct(c.latitude));return m!==0?m:Be(Ct(u.longitude),Ct(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return p0(i.arrayValue,e.arrayValue);case 10:return(function(u,c){const m=u.fields||{},p=c.fields||{},g=m[nf]?.arrayValue,_=p[nf]?.arrayValue,T=Be(g?.values?.length||0,_?.values?.length||0);return T!==0?T:p0(g,_)})(i.mapValue,e.mapValue);case 11:return(function(u,c){if(u===Sh.mapValue&&c===Sh.mapValue)return 0;if(u===Sh.mapValue)return 1;if(c===Sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=c.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const S=vp(p[T],_[T]);if(S!==0)return S;const I=Uo(m[p[T]],g[_[T]]);if(I!==0)return I}return Be(p.length,_.length)})(i.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function m0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Be(i,e);const n=Vs(i),s=Vs(e),o=Be(n.seconds,s.seconds);return o!==0?o:Be(n.nanos,s.nanos)}function p0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Uo(n[o],s[o]);if(u)return u}return Be(n.length,s.length)}function zo(i){return _p(i)}function _p(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=Vs(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return Ls(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return Te.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=_p(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const c of s)u?u=!1:o+=",",o+=`${c}:${_p(n.fields[c])}`;return o+"}"})(i.mapValue):Ae(61005,{value:i})}function Uh(i){switch(Ps(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cf(i);return e?16+Uh(e):16;case 5:return 2*i.stringValue.length;case 6:return Ls(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Uh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return xa(s.fields,((u,c)=>{o+=u.length+Uh(c)})),o})(i.mapValue);default:throw Ae(13486,{value:i})}}function Ep(i){return!!i&&"integerValue"in i}function lg(i){return!!i&&"arrayValue"in i}function g0(i){return!!i&&"nullValue"in i}function y0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function zh(i){return!!i&&"mapValue"in i}function GN(i){return(i?.mapValue?.fields||{})[fS]?.stringValue===dS}function uu(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return xa(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=uu(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=uu(i.arrayValue.values[n]);return e}return{...i}}function KN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===FN}class vi{constructor(e){this.value=e}static empty(){return new vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!zh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(n)}setAll(e){let n=ln.emptyPath(),s={},o=[];e.forEach(((c,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}c?s[m.lastSegment()]=uu(c):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());zh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];zh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){xa(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new vi(uu(this.value))}}function mS(i){const e=[];return xa(i.fields,((n,s)=>{const o=new ln([n]);if(zh(s)){const u=mS(s.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)})),new Ni(e)}class yn{constructor(e,n,s,o,u,c,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new yn(e,0,we.min(),we.min(),we.min(),vi.empty(),0)}static newFoundDocument(e,n,s,o){return new yn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new yn(e,2,n,we.min(),we.min(),vi.empty(),0)}static newUnknownDocument(e,n){return new yn(e,3,n,we.min(),we.min(),vi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rf{constructor(e,n){this.position=e,this.inclusive=n}}function v0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],c=i.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(c.referenceValue),n.key):s=Uo(c,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function _0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!rr(i.position[n],e.position[n]))return!1;return!0}class sf{constructor(e,n="asc"){this.field=e,this.dir=n}}function YN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class pS{}class Ht extends pS{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new $N(e,n,s):n==="array-contains"?new JN(e,s):n==="in"?new ZN(e,s):n==="not-in"?new eO(e,s):n==="array-contains-any"?new tO(e,s):new Ht(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new XN(e,s):new WN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Uo(n,this.value)):n!==null&&Ps(this.value)===Ps(n)&&this.matchesComparison(Uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sr extends pS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new sr(e,n)}matches(e){return gS(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gS(i){return i.op==="and"}function yS(i){return QN(i)&&gS(i)}function QN(i){for(const e of i.filters)if(e instanceof sr)return!1;return!0}function Tp(i){if(i instanceof Ht)return i.field.canonicalString()+i.op.toString()+zo(i.value);if(yS(i))return i.filters.map((e=>Tp(e))).join(",");{const e=i.filters.map((n=>Tp(n))).join(",");return`${i.op}(${e})`}}function vS(i,e){return i instanceof Ht?(function(s,o){return o instanceof Ht&&s.op===o.op&&s.field.isEqual(o.field)&&rr(s.value,o.value)})(i,e):i instanceof sr?(function(s,o){return o instanceof sr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,c,m)=>u&&vS(c,o.filters[m])),!0):!1})(i,e):void Ae(19439)}function _S(i){return i instanceof Ht?(function(n){return`${n.field.canonicalString()} ${n.op} ${zo(n.value)}`})(i):i instanceof sr?(function(n){return n.op.toString()+" {"+n.getFilters().map(_S).join(" ,")+"}"})(i):"Filter"}class $N extends Ht{constructor(e,n,s){super(e,n,s),this.key=Te.fromName(s.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class XN extends Ht{constructor(e,n){super(e,"in",n),this.keys=ES("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class WN extends Ht{constructor(e,n){super(e,"not-in",n),this.keys=ES("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ES(i,e){return(e.arrayValue?.values||[]).map((n=>Te.fromName(n.referenceValue)))}class JN extends Ht{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lg(n)&&Au(n.arrayValue,this.value)}}class ZN extends Ht{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Au(this.value.arrayValue,n)}}class eO extends Ht{constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Au(this.value.arrayValue,n)}}class tO extends Ht{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Au(this.value.arrayValue,s)))}}class nO{constructor(e,n=null,s=[],o=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=c,this.endAt=m,this.Te=null}}function E0(i,e=null,n=[],s=[],o=null,u=null,c=null){return new nO(i,e,n,s,o,u,c)}function ug(i){const e=Ce(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Tp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>zo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>zo(s))).join(",")),e.Te=n}return e.Te}function cg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!YN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!vS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!_0(i.startAt,e.startAt)&&_0(i.endAt,e.endAt)}function bp(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class If{constructor(e,n=null,s=[],o=[],u=null,c="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iO(i,e,n,s,o,u,c,m){return new If(i,e,n,s,o,u,c,m)}function hg(i){return new If(i)}function T0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function rO(i){return i.collectionGroup!==null}function cu(i){const e=Ce(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new Ft(ln.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new sf(u,s))})),n.has(ln.keyField().canonicalString())||e.Ie.push(new sf(ln.keyField(),s))}return e.Ie}function er(i){const e=Ce(i);return e.Ee||(e.Ee=sO(e,cu(i))),e.Ee}function sO(i,e){if(i.limitType==="F")return E0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new sf(o.field,u)}));const n=i.endAt?new rf(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new rf(i.startAt.position,i.startAt.inclusive):null;return E0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Sp(i,e,n){return new If(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Df(i,e){return cg(er(i),er(e))&&i.limitType===e.limitType}function TS(i){return`${ug(er(i))}|lt:${i.limitType}`}function wo(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>_S(o))).join(", ")}]`),Rf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>zo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>zo(o))).join(",")),`Target(${s})`})(er(i))}; limitType=${i.limitType})`}function xf(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of cu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(c,m,p){const g=v0(c,m,p);return c.inclusive?g<=0:g<0})(s.startAt,cu(s),o)||s.endAt&&!(function(c,m,p){const g=v0(c,m,p);return c.inclusive?g>=0:g>0})(s.endAt,cu(s),o))})(i,e)}function aO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function bS(i){return(e,n)=>{let s=!1;for(const o of cu(i)){const u=oO(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function oO(i,e,n){const s=i.field.isKeyField()?Te.comparator(e.key,n.key):(function(u,c,m){const p=c.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Uo(p,g):Ae(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:i.dir})}}class Na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return aS(this.inner)}size(){return this.innerSize}}const lO=new _t(Te.comparator);function zr(){return lO}const SS=new _t(Te.comparator);function ru(...i){let e=SS;for(const n of i)e=e.insert(n.key,n);return e}function AS(i){let e=SS;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function _a(){return hu()}function wS(){return hu()}function hu(){return new Na((i=>i.toString()),((i,e)=>i.isEqual(e)))}const uO=new _t(Te.comparator),cO=new Ft(Te.comparator);function He(...i){let e=cO;for(const n of i)e=e.add(n);return e}const hO=new Ft(Be);function fO(){return hO}function fg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ef(e)?"-0":e}}function RS(i){return{integerValue:""+i}}function dO(i,e){return zN(e)?RS(e):fg(i,e)}class Nf{constructor(){this._=void 0}}function mO(i,e,n){return i instanceof af?(function(o,u){const c={fields:{[uS]:{stringValue:lS},[hS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&og(u)&&(u=Cf(u)),u&&(c.fields[cS]=u),{mapValue:c}})(n,e):i instanceof wu?IS(i,e):i instanceof Ru?DS(i,e):(function(o,u){const c=CS(o,u),m=b0(c)+b0(o.Ae);return Ep(c)&&Ep(o.Ae)?RS(m):fg(o.serializer,m)})(i,e)}function pO(i,e,n){return i instanceof wu?IS(i,e):i instanceof Ru?DS(i,e):n}function CS(i,e){return i instanceof of?(function(s){return Ep(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class af extends Nf{}class wu extends Nf{constructor(e){super(),this.elements=e}}function IS(i,e){const n=xS(e);for(const s of i.elements)n.some((o=>rr(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Ru extends Nf{constructor(e){super(),this.elements=e}}function DS(i,e){let n=xS(e);for(const s of i.elements)n=n.filter((o=>!rr(o,s)));return{arrayValue:{values:n}}}class of extends Nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function b0(i){return Ct(i.integerValue||i.doubleValue)}function xS(i){return lg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function gO(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof wu&&o instanceof wu||s instanceof Ru&&o instanceof Ru?Po(s.elements,o.elements,rr):s instanceof of&&o instanceof of?rr(s.Ae,o.Ae):s instanceof af&&o instanceof af})(i.transform,e.transform)}class yO{constructor(e,n){this.version=e,this.transformResults=n}}class kr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Of{}function NS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new MS(i.key,kr.none()):new Fu(i.key,i.data,kr.none());{const n=i.data,s=vi.empty();let o=new Ft(ln.comparator);for(let u of e.fields)if(!o.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?s.delete(u):s.set(u,c),o=o.add(u)}return new Oa(i.key,s,new Ni(o.toArray()),kr.none())}}function vO(i,e,n){i instanceof Fu?(function(o,u,c){const m=o.value.clone(),p=A0(o.fieldTransforms,u,c.transformResults);m.setAll(p),u.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Oa?(function(o,u,c){if(!jh(o.precondition,u))return void u.convertToUnknownDocument(c.version);const m=A0(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(OS(o)),p.setAll(m),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function fu(i,e,n,s){return i instanceof Fu?(function(u,c,m,p){if(!jh(u.precondition,c))return m;const g=u.value.clone(),_=w0(u.fieldTransforms,p,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(i,e,n,s):i instanceof Oa?(function(u,c,m,p){if(!jh(u.precondition,c))return m;const g=w0(u.fieldTransforms,p,c),_=c.data;return _.setAll(OS(u)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,s):(function(u,c,m){return jh(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,n)}function _O(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=CS(s.transform,o||null);u!=null&&(n===null&&(n=vi.empty()),n.set(s.field,u))}return n||null}function S0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Po(s,o,((u,c)=>gO(u,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Fu extends Of{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Oa extends Of{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function OS(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function A0(i,e,n){const s=new Map;Xe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],c=u.transform,m=e.data.field(u.field);s.set(u.field,pO(c,m,n[o]))}return s}function w0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,c=n.data.field(o.field);s.set(o.field,mO(u,c,e))}return s}class MS extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EO extends Of{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TO{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&vO(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=fu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=wS();return this.mutations.forEach((o=>{const u=e.get(o.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=n.has(o.key)?null:m;const p=NS(c,m);p!==null&&s.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(we.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&Po(this.mutations,e.mutations,((n,s)=>S0(n,s)))&&Po(this.baseMutations,e.baseMutations,((n,s)=>S0(n,s)))}}class dg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return uO})();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,s[c].version);return new dg(e,n,s,o)}}class bO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class SO{constructor(e,n){this.count=e,this.unchangedNames=n}}var Pt,Ge;function AO(i){switch(i){case ie.OK:return Ae(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Ae(15467,{code:i})}}function kS(i){if(i===void 0)return Ur("GRPC error has no .code"),ie.UNKNOWN;switch(i){case Pt.OK:return ie.OK;case Pt.CANCELLED:return ie.CANCELLED;case Pt.UNKNOWN:return ie.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return ie.INTERNAL;case Pt.UNAVAILABLE:return ie.UNAVAILABLE;case Pt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Pt.NOT_FOUND:return ie.NOT_FOUND;case Pt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Pt.ABORTED:return ie.ABORTED;case Pt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Pt.DATA_LOSS:return ie.DATA_LOSS;default:return Ae(39323,{code:i})}}(Ge=Pt||(Pt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function wO(){return new TextEncoder}const RO=new Os([4294967295,4294967295],0);function R0(i){const e=wO().encode(i),n=new Xb;return n.update(e),new Uint8Array(n.digest())}function C0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Os([n,s],0),new Os([o,u],0)]}class mg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new su(`Invalid padding: ${n}`);if(s<0)throw new su(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new su(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new su(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Os.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Os.fromNumber(s)));return o.compare(RO)===1&&(o=new Os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=R0(e),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);if(!this.we(c))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new mg(u,o,n);return s.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const n=R0(e),[s,o]=C0(n);for(let u=0;u<this.hashCount;u++){const c=this.ye(s,o,u);this.Se(c)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class su extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Mf(we.min(),o,new _t(Be),zr(),He())}}class Gu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Gu(s,n,He(),He(),He())}}class Bh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class VS{constructor(e,n){this.targetId=e,this.Ce=n}}class LS{constructor(e,n,s=un.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class I0{constructor(){this.ve=0,this.Fe=D0(),this.Me=un.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),s=He();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:u})}})),new Gu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=D0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class CO{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=Ah(),this.He=Ah(),this.Ye=new _t(Be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(bp(u))if(s===0){const c=new Te(u.path);this.et(n,c,yn.newNoDocument(c,we.min()))}else Xe(s===1,20013,{expectedCount:s});else{const c=this._t(n);if(c!==s){const m=this.ut(e),p=m?this.ct(m,e,c):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let c,m;try{c=Ls(s).toUint8Array()}catch(p){if(p instanceof oS)return Lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new mg(c,o,u)}catch(p){return Lo(p instanceof su?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,c)=>{const m=this.ot(c);if(m){if(u.current&&bp(m.target)){const p=new Te(m.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,yn.newNoDocument(p,e))}u.Be&&(n.set(c,u.ke()),u.qe())}}));let s=He();this.He.forEach(((u,c)=>{let m=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,c)=>c.setReadTime(e)));const o=new Mf(e,n,this.Ye,this.je,s);return this.je=zr(),this.Je=Ah(),this.He=Ah(),this.Ye=new _t(Be),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new I0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Ft(Be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Ft(Be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new I0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ah(){return new _t(Te.comparator)}function D0(){return new _t(Te.comparator)}const IO={asc:"ASCENDING",desc:"DESCENDING"},DO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xO={and:"AND",or:"OR"};class NO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ap(i,e){return i.useProto3Json||Rf(e)?e:{value:e}}function lf(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function OO(i,e){return lf(i,e.toTimestamp())}function tr(i){return Xe(!!i,49232),we.fromTimestamp((function(n){const s=Vs(n);return new ht(s.seconds,s.nanos)})(i))}function pg(i,e){return wp(i,e).canonicalString()}function wp(i,e){const n=(function(o){return new vt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function US(i){const e=vt.fromString(i);return Xe(qS(e),10190,{key:e.toString()}),e}function Rp(i,e){return pg(i.databaseId,e.path)}function Zm(i,e){const n=US(e);if(n.get(1)!==i.databaseId.projectId)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ve(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Te(jS(n))}function zS(i,e){return pg(i.databaseId,e)}function MO(i){const e=US(i);return e.length===4?vt.emptyPath():jS(e)}function Cp(i){return new vt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function jS(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function x0(i,e,n){return{name:Rp(i,e),fields:n.value.mapValue.fields}}function kO(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ae(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,_){return g.useProto3Json?(Xe(_===void 0||typeof _=="string",58123),un.fromBase64String(_||"")):(Xe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),un.fromUint8Array(_||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(g){const _=g.code===void 0?ie.UNKNOWN:kS(g.code);return new ve(_,g.message||"")})(c);n=new LS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Zm(i,s.document.name),u=tr(s.document.updateTime),c=s.document.createTime?tr(s.document.createTime):we.min(),m=new vi({mapValue:{fields:s.document.fields}}),p=yn.newFoundDocument(o,u,c,m),g=s.targetIds||[],_=s.removedTargetIds||[];n=new Bh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Zm(i,s.document),u=s.readTime?tr(s.readTime):we.min(),c=yn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Bh([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Zm(i,s.document),u=s.removedTargetIds||[];n=new Bh([],u,o,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,c=new SO(o,u),m=s.targetId;n=new VS(m,c)}}return n}function VO(i,e){let n;if(e instanceof Fu)n={update:x0(i,e.key,e.value)};else if(e instanceof MS)n={delete:Rp(i,e.key)};else if(e instanceof Oa)n={update:x0(i,e.key,e.data),updateMask:FO(e.fieldMask)};else{if(!(e instanceof EO))return Ae(16599,{Vt:e.type});n={verify:Rp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,c){const m=c.transform;if(m instanceof af)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Ru)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof of)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw Ae(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:OO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae(27497)})(i,e.precondition)),n}function LO(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map((n=>(function(o,u){let c=o.updateTime?tr(o.updateTime):tr(u);return c.isEqual(we.min())&&(c=tr(u)),new yO(c,o.transformResults||[])})(n,e)))):[]}function PO(i,e){return{documents:[zS(i,e.path)]}}function UO(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=zS(i,o);const u=(function(g){if(g.length!==0)return HS(sr.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const c=(function(g){if(g.length!==0)return g.map((_=>(function(S){return{field:Ro(S.field),direction:BO(S.dir)}})(_)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const m=Ap(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function zO(i){let e=MO(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1,65062);const _=n.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];n.where&&(u=(function(T){const S=BS(T);return S instanceof sr&&yS(S)?S.getFilters():[S]})(n.where));let c=[];n.orderBy&&(c=(function(T){return T.map((S=>(function(L){return new sf(Co(L.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,Rf(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(T){const S=!!T.before,I=T.values||[];return new rf(I,S)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const S=!T.before,I=T.values||[];return new rf(I,S)})(n.endAt)),iO(e,o,c,u,m,"F",p,g)}function jO(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function BS(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Co(n.unaryFilter.field);return Ht.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(n.unaryFilter.field);return Ht.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Co(n.unaryFilter.field);return Ht.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Co(n.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Ht.create(Co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return sr.create(n.compositeFilter.filters.map((s=>BS(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(i):Ae(30097,{filter:i})}function BO(i){return IO[i]}function HO(i){return DO[i]}function qO(i){return xO[i]}function Ro(i){return{fieldPath:i.canonicalString()}}function Co(i){return ln.fromServerFormat(i.fieldPath)}function HS(i){return i instanceof Ht?(function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(g0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(g0(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:HO(n.op),value:n.value}}})(i):i instanceof sr?(function(n){const s=n.getFilters().map((o=>HS(o)));return s.length===1?s[0]:{compositeFilter:{op:qO(n.op),filters:s}}})(i):Ae(54877,{filter:i})}function FO(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function qS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}class Is{constructor(e,n,s,o,u=we.min(),c=we.min(),m=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class GO{constructor(e){this.yt=e}}function KO(i){const e=zO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Sp(e,e.limit,"L"):e}class YO{constructor(){this.Cn=new QO}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(ks.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(ks.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class QO{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ft(vt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ft(vt.comparator)).toArray()}}const N0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FS=41943040;class Ln{static withCacheSize(e){return new Ln(e,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}Ln.DEFAULT_COLLECTION_PERCENTILE=10,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ln.DEFAULT=new Ln(FS,Ln.DEFAULT_COLLECTION_PERCENTILE,Ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ln.DISABLED=new Ln(-1,0,0);class jo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new jo(0)}static cr(){return new jo(-1)}}const O0="LruGarbageCollector",$O=1048576;function M0([i,e],[n,s]){const o=Be(i,n);return o===0?Be(e,s):o}class XO{constructor(e){this.Ir=e,this.buffer=new Ft(M0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();M0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WO{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(O0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qo(n)?fe(O0,"Ignoring IndexedDB error during garbage collection: ",n):await Yo(n)}await this.Vr(3e5)}))}}class JO{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(wf.ce);const s=new XO(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(N0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),N0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,c,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),Ao()<=je.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${o} in `+(m-c)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function ZO(i,e){return new JO(i,e)}class eM{constructor(){this.changes=new Na((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class tM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class nM{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&fu(s.mutation,o,Ni.empty(),ht.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,He()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=He()){const o=_a();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let c=ru();return u.forEach(((m,p)=>{c=c.insert(m,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const s=_a();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,He())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((c,m)=>{n.set(c,m)}))}))}computeViews(e,n,s,o){let u=zr();const c=hu(),m=(function(){return hu()})();return n.forEach(((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Oa)?u=u.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),fu(_.mutation,g,_.mutation.getFieldMask(),ht.now())):c.set(g.key,Ni.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,_)=>c.set(g,_))),n.forEach(((g,_)=>m.set(g,new tM(_,c.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=hu();let o=new _t(((c,m)=>c-m)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const m of c)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let _=s.get(p)||Ni.empty();_=m.applyToLocalView(g,_),s.set(p,_);const T=(o.get(m.batchId)||He()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const c=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,T=wS();_.forEach((S=>{if(!u.has(S)){const I=NS(n.get(S),s.get(S));I!==null&&T.set(S,I),u=u.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(c){return Te.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(_a());let m=Tu,p=u;return c.next((g=>ne.forEach(g,((_,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(_)?ne.resolve():this.remoteDocumentCache.getEntry(e,_).next((S=>{p=p.insert(_,S)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,He()))).next((_=>({batchId:m,changes:AS(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next((s=>{let o=ru();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let c=ru();return this.indexManager.getCollectionParents(e,u).next((m=>ne.forEach(m,(p=>{const g=(function(T,S){return new If(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((_=>{_.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((c=>{u.forEach(((p,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,yn.newInvalidDocument(_)))}));let m=ru();return c.forEach(((p,g)=>{const _=u.get(p);_!==void 0&&fu(_.mutation,g,Ni.empty(),ht.now()),xf(n,g)&&(m=m.insert(p,g))})),m}))}}class iM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:tr(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:KO(o.bundledQuery),readTime:tr(o.readTime)}})(n)),ne.resolve()}}class rM{constructor(){this.overlays=new _t(Te.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=_a();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=_a(),u=n.length+1,c=new Te(n.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new _t(((g,_)=>g-_));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=_a(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=_a(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,_)=>m.set(g,_))),!(m.size()>=o)););return ne.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const c=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new bO(n,s));let u=this.qr.get(n);u===void 0&&(u=He(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class sM{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}class gg{constructor(){this.Qr=new Ft(Xt.$r),this.Ur=new Ft(Xt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Xt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Xt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new Te(new vt([])),s=new Xt(n,e),o=new Xt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(c=>{this.Gr(c),u.push(c.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Te(new vt([])),s=new Xt(n,e),o=new Xt(n,e+1);let u=He();return this.Ur.forEachInRange([s,o],(c=>{u=u.add(c.key)})),u}containsKey(e){const n=new Xt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Xt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Te.comparator(e.key,n.key)||Be(e.Yr,n.Yr)}static Kr(e,n){return Be(e.Yr,n.Yr)||Te.comparator(e.key,n.key)}}class aM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Xt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new TO(u,n,s,o);this.mutationQueue.push(c);for(const m of o)this.Zr=this.Zr.add(new Xt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?ag:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Xt(n,0),o=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(c=>{const m=this.Xr(c.Yr);u.push(m)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ft(Be);return n.forEach((o=>{const u=new Xt(o,0),c=new Xt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,c],(m=>{s=s.add(m.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const c=new Xt(new Te(u),0);let m=new Ft(Be);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),c),ne.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Xt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Xt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class oM{constructor(e){this.ri=e,this.docs=(function(){return new _t(Te.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,c=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let s=zr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():yn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=zr();const c=n.path,m=new Te(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||VN(kN(_),s)<=0||(o.has(_.key)||xf(n,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ae(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new lM(this)}getSize(e){return ne.resolve(this.size)}}class lM extends eM{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class uM{constructor(e){this.persistence=e,this.si=new Na((n=>ug(n)),cg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=jo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new jo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((c,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((c=>{u.push(o.markPotentiallyOrphaned(e,c))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}class GS{constructor(e,n){this.ui={},this.overlays={},this.ci=new wf(0),this.li=!1,this.li=!0,this.hi=new sM,this.referenceDelegate=e(this),this.Pi=new uM(this),this.indexManager=new YO,this.remoteDocumentCache=(function(o){return new oM(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new GO(n),this.Ii=new iM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new aM(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new cM(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class cM extends PN{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new yg(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=Te.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,we.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class uf{constructor(e,n){this.persistence=e,this.pi=new Na((s=>jN(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ZO(this,n)}static mi(e,n){return new uf(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(c=>this.br(e,c,n).next((m=>{m||(s++,u.removeEntry(c,we.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class vg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=He(),o=He();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vg(e,n.fromCache,s,o)}}class hM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class fM{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return zI()?8:UN(_n())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((c=>{u.result=c})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((c=>{u.result=c}))})).next((()=>{if(u.result)return;const c=new hM;return this.Ss(e,n,c).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,c,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ao()<=je.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Ao()<=je.DEBUG&&fe("QueryEngine","Query:",wo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ao()<=je.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):ne.resolve())}ys(e,n){if(T0(n))return ne.resolve(null);let s=er(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Sp(n,null,"F"),s=er(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const c=He(...u);return this.ps.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,c,p.readTime)?this.ys(e,Sp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return T0(n)||o.isEqual(we.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const c=this.Ds(n,u);return this.Cs(n,c,s,o)?ne.resolve(null):(Ao()<=je.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),wo(n)),this.vs(e,c,n,MN(o,Tu)).next((m=>m)))}))}Ds(e,n){let s=new Ft(bS(e));return n.forEach(((o,u)=>{xf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ao()<=je.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",wo(n)),this.ps.getDocumentsMatchingQuery(e,n,ks.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((c=>{u=u.insert(c.key,c)})),u)))}}const _g="LocalStore",dM=3e8;class mM{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new _t(Be),this.xs=new Na((u=>ug(u)),cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nM(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function pM(i,e,n,s){return new mM(i,e,n,s)}async function KS(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const c=[],m=[];let p=He();for(const g of o){c.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:m})))}))}))}function gM(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,_){const T=g.batch,S=T.keys();let I=ne.resolve();return S.forEach((L=>{I=I.next((()=>_.getEntry(p,L))).next((P=>{const U=g.docVersions.get(L);Xe(U!==null,48541),P.version.compareTo(U)<0&&(T.applyToRemoteDocument(P,g),P.isValidDocument()&&(P.setReadTime(g.commitVersion),_.addEntry(P)))}))})),I.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=He();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function YS(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function yM(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const c=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((_,T)=>{const S=o.get(T);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,_.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,_.addedDocuments,T))));let I=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(un.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,s)),o=o.insert(T,I),(function(P,U,K){return P.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=dM?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(S,I,_)&&m.push(n.Pi.updateTargetData(u,I))}));let p=zr(),g=He();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,_))})),m.push(vM(u,c,e.documentUpdates).next((_=>{p=_.ks,g=_.qs}))),!s.isEqual(we.min())){const _=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(_)}return ne.waitFor(m).next((()=>c.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function vM(i,e,n){let s=He(),o=He();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let c=zr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),c=c.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(m,p)):fe(_g,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:o}}))}function _M(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ag),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function EM(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((c=>(o=new Is(e,c,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ip(i,e,n){const s=Ce(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(c=>s.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Qo(c))throw c;fe(_g,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function k0(i,e,n){const s=Ce(i);let o=we.min(),u=He();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,_){const T=Ce(p),S=T.xs.get(_);return S!==void 0?ne.resolve(T.Ms.get(S)):T.Pi.getTargetData(g,_)})(s,c,er(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,n?o:we.min(),n?u:He()))).next((m=>(TM(s,aO(e),m),{documents:m,Qs:u})))))}function TM(i,e,n){let s=i.Os.get(e)||we.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class V0{constructor(){this.activeTargetIds=fO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bM{constructor(){this.Mo=new V0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new V0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class SM{Oo(e){}shutdown(){}}const L0="ConnectivityMonitor";class P0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(L0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(L0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wh=null;function Dp(){return wh===null?wh=(function(){return 268435456+Math.round(2147483648*Math.random())})():wh++,"0x"+wh.toString(16)}const ep="RestConnection",AM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===tf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const c=Dp(),m=this.zo(e,n.toUriEncodedString());fe(ep,`Sending RPC '${e}' ${c}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=qo(g);return this.Jo(e,m,p,s,_).then((T=>(fe(ep,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Lo(ep,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,c){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ko})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=AM[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class RM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const pn="WebChannelConnection";class CM extends wM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const c=Dp();return new Promise(((m,p)=>{const g=new Wb;g.setWithCredentials(!0),g.listenOnce(Jb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Ph.NO_ERROR:const T=g.getResponseJson();fe(pn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case Ph.TIMEOUT:fe(pn,`RPC '${e}' ${c} timed out`),p(new ve(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Ph.HTTP_ERROR:const S=g.getStatus();if(fe(pn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const L=I?.error;if(L&&L.status&&L.message){const P=(function(K){const $=K.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf($)>=0?$:ie.UNKNOWN})(L.status);p(new ve(P,L.message))}else p(new ve(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(ie.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(pn,`RPC '${e}' ${c} completed.`)}}));const _=JSON.stringify(o);fe(pn,`RPC '${e}' ${c} sending request:`,o),g.send(n,"POST",_,s,15)}))}T_(e,n,s){const o=Dp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=tS(),m=eS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const _=u.join("");fe(pn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const T=c.createWebChannel(_,p);this.I_(T);let S=!1,I=!1;const L=new RM({Yo:U=>{I?fe(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(S||(fe(pn,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),fe(pn,`RPC '${e}' stream ${o} sending:`,U),T.send(U))},Zo:()=>T.close()}),P=(U,K,$)=>{U.listen(K,(J=>{try{$(J)}catch(se){setTimeout((()=>{throw se}),0)}}))};return P(T,iu.EventType.OPEN,(()=>{I||(fe(pn,`RPC '${e}' stream ${o} transport opened.`),L.o_())})),P(T,iu.EventType.CLOSE,(()=>{I||(I=!0,fe(pn,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(T))})),P(T,iu.EventType.ERROR,(U=>{I||(I=!0,Lo(pn,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),L.a_(new ve(ie.UNAVAILABLE,"The operation could not be completed")))})),P(T,iu.EventType.MESSAGE,(U=>{if(!I){const K=U.data[0];Xe(!!K,16349);const $=K,J=$?.error||$[0]?.error;if(J){fe(pn,`RPC '${e}' stream ${o} received error:`,J);const se=J.status;let he=(function(w){const D=Pt[w];if(D!==void 0)return kS(D)})(se),ue=J.message;he===void 0&&(he=ie.INTERNAL,ue="Unknown error status: "+se+" with message "+J.message),I=!0,L.a_(new ve(he,ue)),T.close()}else fe(pn,`RPC '${e}' stream ${o} received:`,K),L.u_(K)}})),P(m,Zb.STAT_EVENT,(U=>{U.stat===yp.PROXY?fe(pn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===yp.NOPROXY&&fe(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.__()}),0),L}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function tp(){return typeof document<"u"?document:null}function kf(i){return new NO(i,!0)}class QS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const U0="PersistentStream";class $S{constructor(e,n,s,o,u,c,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QS(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(Ur(n.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ve(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(U0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(U0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class IM extends $S{constructor(e,n,s,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=kO(this.serializer,e),s=(function(u){if(!("targetChange"in u))return we.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?tr(c.readTime):we.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Cp(this.serializer),n.addTarget=(function(u,c){let m;const p=c.target;if(m=bp(p)?{documents:PO(u,p)}:{query:UO(u,p).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=PS(u,c.resumeToken);const g=Ap(u,c.expectedCount);g!==null&&(m.expectedCount=g)}else if(c.snapshotVersion.compareTo(we.min())>0){m.readTime=lf(u,c.snapshotVersion.toTimestamp());const g=Ap(u,c.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=jO(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Cp(this.serializer),n.removeTarget=e,this.q_(n)}}class DM extends $S{constructor(e,n,s,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,c),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=LO(e.writeResults,e.commitTime),s=tr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Cp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>VO(this.serializer,s)))};this.q_(n)}}class xM{}class NM extends xM{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,c])=>this.connection.Go(e,wp(n,s),o,u,c))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(ie.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.Ho(e,wp(n,s),o,c,m,u))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ie.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class OM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ur(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ca="RemoteStore";class MM{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Ma(this)&&(fe(Ca,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await Ku(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Vf(g)})(this))}))})),this.Ra=new OM(s,o)}}async function Vf(i){if(Ma(i))for(const e of i.da)await e(!0)}async function Ku(i){for(const e of i.da)await e(!1)}function XS(i,e){const n=Ce(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Sg(n)?bg(n):$o(n).O_()&&Tg(n,e))}function Eg(i,e){const n=Ce(i),s=$o(n);n.Ia.delete(e),s.O_()&&WS(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ma(n)&&n.Ra.set("Unknown"))}function Tg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}$o(i).Y_(e)}function WS(i,e){i.Va.Ue(e),$o(i).Z_(e)}function bg(i){i.Va=new CO({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),$o(i).start(),i.Ra.ua()}function Sg(i){return Ma(i)&&!$o(i).x_()&&i.Ia.size>0}function Ma(i){return Ce(i).Ea.size===0}function JS(i){i.Va=void 0}async function kM(i){i.Ra.set("Online")}async function VM(i){i.Ia.forEach(((e,n)=>{Tg(i,e)}))}async function LM(i,e){JS(i),Sg(i)?(i.Ra.ha(e),bg(i)):i.Ra.set("Unknown")}async function PM(i,e,n){if(i.Ra.set("Online"),e instanceof LS&&e.state===2&&e.cause)try{await(async function(o,u){const c=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,c),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){fe(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await cf(i,s)}else if(e instanceof Bh?i.Va.Ze(e):e instanceof VS?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await YS(i.localStore);n.compareTo(s)>=0&&await(function(u,c){const m=u.Va.Tt(c);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,c))}})),m.targetMismatches.forEach(((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(un.EMPTY_BYTE_STRING,_.snapshotVersion)),WS(u,p);const T=new Is(_.target,p,g,_.sequenceNumber);Tg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){fe(Ca,"Failed to raise snapshot:",s),await cf(i,s)}}async function cf(i,e,n){if(!Qo(e))throw e;i.Ea.add(1),await Ku(i),i.Ra.set("Offline"),n||(n=()=>YS(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(Ca,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await Vf(i)}))}function ZS(i,e){return e().catch((n=>cf(i,n,e)))}async function Lf(i){const e=Ce(i),n=Us(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ag;for(;UM(e);)try{const o=await _M(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,zM(e,o)}catch(o){await cf(e,o)}e1(e)&&t1(e)}function UM(i){return Ma(i)&&i.Ta.length<10}function zM(i,e){i.Ta.push(e);const n=Us(i);n.O_()&&n.X_&&n.ea(e.mutations)}function e1(i){return Ma(i)&&!Us(i).x_()&&i.Ta.length>0}function t1(i){Us(i).start()}async function jM(i){Us(i).ra()}async function BM(i){const e=Us(i);for(const n of i.Ta)e.ea(n.mutations)}async function HM(i,e,n){const s=i.Ta.shift(),o=dg.from(s,e,n);await ZS(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await Lf(i)}async function qM(i,e){e&&Us(i).X_&&await(async function(s,o){if((function(c){return AO(c)&&c!==ie.ABORTED})(o.code)){const u=s.Ta.shift();Us(s).B_(),await ZS(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Lf(s)}})(i,e),e1(i)&&t1(i)}async function z0(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),fe(Ca,"RemoteStore received new credentials");const s=Ma(n);n.Ea.add(3),await Ku(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Vf(n)}async function FM(i,e){const n=Ce(i);e?(n.Ea.delete(2),await Vf(n)):e||(n.Ea.add(2),await Ku(n),n.Ra.set("Unknown"))}function $o(i){return i.ma||(i.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new IM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:kM.bind(null,i),t_:VM.bind(null,i),r_:LM.bind(null,i),H_:PM.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),Sg(i)?bg(i):i.Ra.set("Unknown")):(await i.ma.stop(),JS(i))}))),i.ma}function Us(i){return i.fa||(i.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new DM(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:jM.bind(null,i),r_:qM.bind(null,i),ta:BM.bind(null,i),na:HM.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await Lf(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(Ca,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Ag{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const c=Date.now()+s,m=new Ag(e,n,c,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wg(i,e){if(Ur("AsyncQueue",`${e}: ${i}`),Qo(i))return new ve(ie.UNAVAILABLE,`${e}: ${i}`);throw i}class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Te.comparator(n.key,s.key):(n,s)=>Te.comparator(n.key,s.key),this.keyedMap=ru(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Oo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class j0{constructor(){this.ga=new _t(Te.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Bo{constructor(e,n,s,o,u,c,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const c=[];return n.forEach((m=>{c.push({type:0,doc:m})})),new Bo(e,n,Oo.emptySet(n),c,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Df(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class GM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class KM{constructor(){this.queries=B0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=B0(),u.forEach(((c,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ve(ie.ABORTED,"Firestore shutting down"))}}function B0(){return new Na((i=>TS(i)),Df)}async function YM(i,e){const n=Ce(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new GM,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const m=wg(c,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Rg(n)}async function QM(i,e){const n=Ce(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const c=u.Sa.indexOf(e);c>=0&&(u.Sa.splice(c,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function $M(i,e){const n=Ce(i);let s=!1;for(const o of e){const u=o.query,c=n.queries.get(u);if(c){for(const m of c.Sa)m.Fa(o)&&(s=!0);c.wa=o}}s&&Rg(n)}function XM(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Rg(i){i.Ca.forEach((e=>{e.next()}))}var xp,H0;(H0=xp||(xp={})).Ma="default",H0.Cache="cache";class WM{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==xp.Cache}}class n1{constructor(e){this.key=e}}class i1{constructor(e){this.key=e}}class JM{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=He(),this.mutatedKeys=He(),this.eu=bS(e),this.tu=new Oo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new j0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,c=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((_,T)=>{const S=o.get(_),I=xf(this.query,T)?T:null,L=!!S&&this.mutatedKeys.has(S.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let U=!1;S&&I?S.data.isEqual(I.data)?L!==P&&(s.track({type:3,doc:I}),U=!0):this.su(S,I)||(s.track({type:2,doc:I}),U=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(m=!0)):!S&&I?(s.track({type:0,doc:I}),U=!0):S&&!I&&(s.track({type:1,doc:S}),U=!0,(p||g)&&(m=!0)),U&&(I?(c=c.add(I),u=P?u.add(_):u.delete(_)):(c=c.delete(_),u=u.delete(_)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:c,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((_,T)=>(function(I,L){const P=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:U})}};return P(I)-P(L)})(_.type,T.type)||this.eu(_.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new Bo(this.query,e.tu,u,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new j0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=He(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new i1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new n1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cg="SyncEngine";class ZM{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class e4{constructor(e){this.key=e,this.hu=!1}}class t4{constructor(e,n,s,o,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Na((m=>TS(m)),Df),this.Iu=new Map,this.Eu=new Set,this.du=new _t(Te.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=jo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n4(i,e,n=!0){const s=u1(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await r1(s,e,n,!0),o}async function i4(i,e){const n=u1(i);await r1(n,e,!0,!1)}async function r1(i,e,n,s){const o=await EM(i.localStore,er(e)),u=o.targetId,c=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await r4(i,e,u,c==="current",o.resumeToken)),i.isPrimaryClient&&n&&XS(i.remoteStore,o),m}async function r4(i,e,n,s,o){i.pu=(T,S,I)=>(async function(P,U,K,$){let J=U.view.ru(K);J.Cs&&(J=await k0(P.localStore,U.query,!1).then((({documents:C})=>U.view.ru(C,J))));const se=$&&$.targetChanges.get(U.targetId),he=$&&$.targetMismatches.get(U.targetId)!=null,ue=U.view.applyChanges(J,P.isPrimaryClient,se,he);return F0(P,U.targetId,ue.au),ue.snapshot})(i,T,S,I);const u=await k0(i.localStore,e,!0),c=new JM(e,u.Qs),m=c.ru(u.documents),p=Gu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=c.applyChanges(m,i.isPrimaryClient,p);F0(i,n,g.au);const _=new ZM(e,n,c);return i.Tu.set(e,_),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot}async function s4(i,e,n){const s=Ce(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((c=>!Df(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ip(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Eg(s.remoteStore,o.targetId),Np(s,o.targetId)})).catch(Yo)):(Np(s,o.targetId),await Ip(s.localStore,o.targetId,!0))}async function a4(i,e){const n=Ce(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Eg(n.remoteStore,s.targetId))}async function o4(i,e,n){const s=m4(i);try{const o=await(function(c,m){const p=Ce(c),g=ht.now(),_=m.reduce(((I,L)=>I.add(L.key)),He());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let L=zr(),P=He();return p.Ns.getEntries(I,_).next((U=>{L=U,L.forEach(((K,$)=>{$.isValidDocument()||(P=P.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,L))).next((U=>{T=U;const K=[];for(const $ of m){const J=_O($,T.get($.key).overlayedDocument);J!=null&&K.push(new Oa($.key,J,mS(J.value.mapValue),kr.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,K,m)})).next((U=>{S=U;const K=U.applyToLocalDocumentSet(T,P);return p.documentOverlayCache.saveOverlays(I,U.batchId,K)}))})).then((()=>({batchId:S.batchId,changes:AS(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(c,m,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new _t(Be)),g=g.insert(m,p),c.Vu[c.currentUser.toKey()]=g})(s,o.batchId,n),await Yu(s,o.changes),await Lf(s.remoteStore)}catch(o){const u=wg(o,"Failed to persist write");n.reject(u)}}async function s1(i,e){const n=Ce(i);try{const s=await yM(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const c=n.Au.get(u);c&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?c.hu=!0:o.modifiedDocuments.size>0?Xe(c.hu,14607):o.removedDocuments.size>0&&(Xe(c.hu,42227),c.hu=!1))})),await Yu(n,s,e)}catch(s){await Yo(s)}}function q0(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,c)=>{const m=c.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(c,m){const p=Ce(c);p.onlineState=m;let g=!1;p.queries.forEach(((_,T)=>{for(const S of T.Sa)S.va(m)&&(g=!0)})),g&&Rg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function l4(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let c=new _t(Te.comparator);c=c.insert(u,yn.newNoDocument(u,we.min()));const m=He().add(u),p=new Mf(we.min(),new Map,new _t(Be),c,m);await s1(s,p),s.du=s.du.remove(u),s.Au.delete(e),Ig(s)}else await Ip(s.localStore,e,!1).then((()=>Np(s,e,n))).catch(Yo)}async function u4(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await gM(n.localStore,e);o1(n,s,null),a1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Yu(n,o)}catch(o){await Yo(o)}}async function c4(i,e,n){const s=Ce(i);try{const o=await(function(c,m){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Xe(T!==null,37113),_=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_))).next((()=>p.localDocuments.getDocuments(g,_)))}))})(s.localStore,e);o1(s,e,n),a1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Yu(s,o)}catch(o){await Yo(o)}}function a1(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function o1(i,e,n){const s=Ce(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Np(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||l1(i,s)}))}function l1(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(Eg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Ig(i))}function F0(i,e,n){for(const s of n)s instanceof n1?(i.Ru.addReference(s.key,e),h4(i,s)):s instanceof i1?(fe(Cg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||l1(i,s.key)):Ae(19791,{wu:s})}function h4(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(fe(Cg,"New document in limbo: "+n),i.Eu.add(s),Ig(i))}function Ig(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new Te(vt.fromString(e)),s=i.fu.next();i.Au.set(s,new e4(n)),i.du=i.du.insert(n,s),XS(i.remoteStore,new Is(er(hg(n.path)),s,"TargetPurposeLimboResolution",wf.ce))}}async function Yu(i,e,n){const s=Ce(i),o=[],u=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{c.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const _=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=vg.As(p.targetId,g);u.push(_)}})))})),await Promise.all(c),s.Pu.H_(o),await(async function(p,g){const _=Ce(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ne.forEach(g,(S=>ne.forEach(S.Es,(I=>_.persistence.referenceDelegate.addReference(T,S.targetId,I))).next((()=>ne.forEach(S.ds,(I=>_.persistence.referenceDelegate.removeReference(T,S.targetId,I)))))))))}catch(T){if(!Qo(T))throw T;fe(_g,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const I=_.Ms.get(S),L=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(L);_.Ms=_.Ms.insert(S,P)}}})(s.localStore,u))}async function f4(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){fe(Cg,"User change. New user:",e.toKey());const s=await KS(n.localStore,e);n.currentUser=e,(function(u,c){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ve(ie.CANCELLED,c))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Yu(n,s.Ls)}}function d4(i,e){const n=Ce(i),s=n.Au.get(e);if(s&&s.hu)return He().add(s.key);{let o=He();const u=n.Iu.get(e);if(!u)return o;for(const c of u){const m=n.Tu.get(c);o=o.unionWith(m.view.nu)}return o}}function u1(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=s1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=d4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=l4.bind(null,e),e.Pu.H_=$M.bind(null,e.eventManager),e.Pu.yu=XM.bind(null,e.eventManager),e}function m4(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=u4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=c4.bind(null,e),e}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return pM(this.persistence,new fM,e.initialUser,this.serializer)}Cu(e){return new GS(yg.mi,this.serializer)}Du(e){return new bM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class p4 extends hf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof uf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new WO(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Ln.withCacheSize(this.cacheSizeBytes):Ln.DEFAULT;return new GS((s=>uf.mi(s,n)),this.serializer)}}class Op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>q0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=f4.bind(null,this.syncEngine),await FM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new KM})()}createDatastore(e){const n=kf(e.databaseInfo.databaseId),s=(function(u){return new CM(u)})(e.databaseInfo);return(function(u,c,m,p){return new NM(u,c,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,c,m){return new MM(s,o,u,c,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>q0(this.syncEngine,n,0)),(function(){return P0.v()?new P0:new SM})())}createSyncEngine(e,n){return(function(o,u,c,m,p,g,_){const T=new t4(o,u,c,m,p,g);return _&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);fe(Ca,"RemoteStore shutting down."),s.Ea.add(5),await Ku(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};class g4{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const zs="FirestoreClient";class y4{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=gn.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async c=>{fe(zs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(fe(zs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=wg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function np(i,e){i.asyncQueue.verifyOperationInProgress(),fe(zs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await KS(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function G0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await v4(i);fe(zs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>z0(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>z0(e.remoteStore,o))),i._onlineComponents=e}async function v4(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(zs,"Using user provided OfflineComponentProvider");try{await np(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await np(i,new hf)}}else fe(zs,"Using default OfflineComponentProvider"),await np(i,new p4(void 0));return i._offlineComponents}async function c1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(zs,"Using user provided OnlineComponentProvider"),await G0(i,i._uninitializedComponentsProvider._online)):(fe(zs,"Using default OnlineComponentProvider"),await G0(i,new Op))),i._onlineComponents}function _4(i){return c1(i).then((e=>e.syncEngine))}async function K0(i){const e=await c1(i),n=e.eventManager;return n.onListen=n4.bind(null,e.syncEngine),n.onUnlisten=s4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=i4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a4.bind(null,e.syncEngine),n}function h1(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const Y0=new Map;const f1="firestore.googleapis.com",Q0=!0;class $0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=f1,this.ssl=Q0}else this.host=e.host,this.ssl=e.ssl??Q0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=FS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$O)throw new ve(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ON("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=h1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dg{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new TN;switch(s.type){case"firstParty":return new wN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=Y0.get(n);s&&(fe("ComponentProvider","Removing Datastore"),Y0.delete(n),s.terminate())})(this),Promise.resolve()}}function E4(i,e,n,s={}){i=No(i,Dg);const o=qo(e),u=i._getSettings(),c={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(ub(`https://${m}`),cb("Firestore",!0)),u.host!==f1&&u.host!==m&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ba(p,c)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=gn.MOCK_USER;else{g=xI(s.mockUserToken,i._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ve(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new gn(T)}i._authCredentials=new bN(new iS(g,_))}}class Pf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Pf(this.firestore,e,this._query)}}class Jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}toJSON(){return{type:Jt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(qu(n,Jt._jsonSchema))return new Jt(e,s||null,new Te(vt.fromString(n.referencePath)))}}Jt._jsonSchemaVersion="firestore/documentReference/1.0",Jt._jsonSchema={type:Ut("string",Jt._jsonSchemaVersion),referencePath:Ut("string")};class Cu extends Pf{constructor(e,n,s){super(e,n,hg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new Te(e))}withConverter(e){return new Cu(this.firestore,e,this._path)}}function Rh(i,e,...n){if(i=Pn(i),arguments.length===1&&(e=rg.newId()),NN("doc","path",e),i instanceof Dg){const s=vt.fromString(e,...n);return l0(s),new Jt(i,null,new Te(s))}{if(!(i instanceof Jt||i instanceof Cu))throw new ve(ie.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(vt.fromString(e,...n));return l0(s),new Jt(i.firestore,i instanceof Cu?i.converter:null,new Te(s))}}const X0="AsyncQueue";class W0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QS(this,"async_queue_retry"),this._c=()=>{const s=tp();s&&fe(X0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=tp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=tp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qo(e))throw e;fe(X0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ur("INTERNAL UNHANDLED ERROR: ",J0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Ag.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ae(47125,{Pc:J0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function J0(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}function Z0(i){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class ff extends Dg{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new W0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new W0(e),this._firestoreClient=void 0,await e}}}function T4(i,e){const n=typeof i=="object"?i:mb(),s=typeof i=="string"?i:tf,o=Kp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=II("firestore");u&&E4(o,...u)}return o}function d1(i){if(i._terminated)throw new ve(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||b4(i),i._firestoreClient}function b4(i){const e=i._freezeSettings(),n=(function(o,u,c,m){return new qN(o,u,c,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,h1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new y4(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}class _i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _i(un.fromBase64String(e))}catch(n){throw new ve(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _i(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_i._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qu(e,_i._jsonSchema))return _i.fromBase64String(e.bytes)}}_i._jsonSchemaVersion="firestore/bytes/1.0",_i._jsonSchema={type:Ut("string",_i._jsonSchemaVersion),bytes:Ut("string")};class xg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class m1{constructor(e){this._methodName=e}}class nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:nr._jsonSchemaVersion}}static fromJSON(e){if(qu(e,nr._jsonSchema))return new nr(e.latitude,e.longitude)}}nr._jsonSchemaVersion="firestore/geoPoint/1.0",nr._jsonSchema={type:Ut("string",nr._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};class ir{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ir._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qu(e,ir._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ir(e.vectorValues);throw new ve(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ir._jsonSchemaVersion="firestore/vectorValue/1.0",ir._jsonSchema={type:Ut("string",ir._jsonSchemaVersion),vectorValues:Ut("object")};const S4=/^__.*__$/;class A4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fu(e,this.data,n,this.fieldTransforms)}}function p1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:i})}}class Ng{constructor(e,n,s,o,u,c){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ng({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return df(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(p1(this.Ac)&&S4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class w4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kf(e)}Cc(e,n,s,o=!1){return new Ng({Ac:e,methodName:n,Dc:s,path:ln.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R4(i){const e=i._freezeSettings(),n=kf(i._databaseId);return new w4(i._databaseId,!!e.ignoreUndefinedProperties,n)}function C4(i,e,n,s,o,u={}){const c=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);_1("Data must be an object, but it was:",c,s);const m=y1(s,c);let p,g;if(u.merge)p=new Ni(c.fieldMask),g=c.fieldTransforms;else if(u.mergeFields){const _=[];for(const T of u.mergeFields){const S=I4(e,T,n);if(!c.contains(S))throw new ve(ie.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);x4(_,S)||_.push(S)}p=new Ni(_),g=c.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=c.fieldTransforms;return new A4(new vi(m),p,g)}function g1(i,e){if(v1(i=Pn(i)))return _1("Unsupported field value:",e,i),y1(i,e);if(i instanceof m1)return(function(s,o){if(!p1(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let c=0;for(const m of s){let p=g1(m,o.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dO(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ht.fromDate(s);return{timestampValue:lf(o.serializer,u)}}if(s instanceof ht){const u=new ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:lf(o.serializer,u)}}if(s instanceof nr)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof _i)return{bytesValue:PS(o.serializer,s._byteString)};if(s instanceof Jt){const u=o.databaseId,c=s.firestore._databaseId;if(!c.isEqual(u))throw o.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ir)return(function(c,m){return{mapValue:{fields:{[fS]:{stringValue:dS},[nf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return fg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${sg(s)}`)})(i,e)}function y1(i,e){const n={};return aS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(i,((s,o)=>{const u=g1(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function v1(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ht||i instanceof nr||i instanceof _i||i instanceof Jt||i instanceof m1||i instanceof ir)}function _1(i,e,n){if(!v1(n)||!rS(n)){const s=sg(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function I4(i,e,n){if((e=Pn(e))instanceof xg)return e._internalPath;if(typeof e=="string")return E1(i,e);throw df("Field path arguments must be of type string or ",i,!1,void 0,n)}const D4=new RegExp("[~\\*/\\[\\]]");function E1(i,e,n){if(e.search(D4)>=0)throw df(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new xg(...e.split("."))._internalPath}catch{throw df(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function df(i,e,n,s,o){const u=s&&!s.isEmpty(),c=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${s}`),c&&(p+=` in document ${o}`),p+=")"),new ve(ie.INVALID_ARGUMENT,m+i+p)}function x4(i,e){return i.some((n=>n.isEqual(e)))}class T1{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(b1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N4 extends T1{data(){return super.data()}}function b1(i,e){return typeof e=="string"?E1(i,e):e instanceof xg?e._internalPath:e._delegate._internalPath}function O4(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ve(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M4{convertValue(e,n="none"){switch(Ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return xa(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[nf].arrayValue?.values?.map((s=>Ct(s.doubleValue)));return new ir(n)}convertGeoPoint(e){return new nr(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Cf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const n=Vs(e);return new ht(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=vt.fromString(e);Xe(qS(s),9688,{name:e});const o=new Su(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(n)||Ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function k4(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class au{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ta extends T1{constructor(e,n,s,o,u,c){super(e,n,s,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(b1("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ta._jsonSchema={type:Ut("string",Ta._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Hh extends Ta{data(e={}){return super.data(e)}}class Mo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new au(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Hh(this._firestore,this._userDataWriter,s.key,s,new au(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new au(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),_=c.indexOf(m.doc.key)),{type:V4(m.type),doc:p,oldIndex:g,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function V4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:i})}}Mo._jsonSchemaVersion="firestore/querySnapshot/1.0",Mo._jsonSchema={type:Ut("string",Mo._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class S1 extends M4{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function Ch(i,e,n){i=No(i,Jt);const s=No(i.firestore,ff),o=k4(i.converter,e,n);return P4(s,[C4(R4(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,kr.none())])}function L4(i,...e){i=Pn(i);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Z0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Z0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,c,m;if(i instanceof Jt)c=No(i.firestore,ff),m=hg(i._key.path),u={next:p=>{e[s]&&e[s](U4(c,i,p))},error:e[s+1],complete:e[s+2]};else{const p=No(i,Pf);c=No(p.firestore,ff),m=p._query;const g=new S1(c);u={next:_=>{e[s]&&e[s](new Mo(c,g,p,_))},error:e[s+1],complete:e[s+2]},O4(i._query)}return(function(g,_,T,S){const I=new g4(S),L=new WM(_,I,T);return g.asyncQueue.enqueueAndForget((async()=>YM(await K0(g),L))),()=>{I.Nu(),g.asyncQueue.enqueueAndForget((async()=>QM(await K0(g),L)))}})(d1(c),m,o,u)}function P4(i,e){return(function(s,o){const u=new Ea;return s.asyncQueue.enqueueAndForget((async()=>o4(await _4(s),o,u))),u.promise})(d1(i),e)}function U4(i,e,n){const s=n.docs.get(e._key),o=new S1(i);return new Ta(i,o,e._key,s,new au(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ko=o})(Fo),Vo(new Sa("firestore",((s,{instanceIdentifier:o,options:u})=>{const c=s.getProvider("app").getImmediate(),m=new ff(new SN(s.getProvider("auth-internal")),new RN(c,s.getProvider("app-check-internal")),(function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ve(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Su(g.options.projectId,_)})(c,o),c);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ns(r0,s0,e),Ns(r0,s0,"esm2020")})();const z4={apiKey:"AIzaSyCD-mvqF5tLbSSuXTds0rCekyDe4os4OOY",authDomain:"karatas-bora.firebaseapp.com",projectId:"karatas-bora",storageBucket:"karatas-bora.firebasestorage.app",messagingSenderId:"159808672944",appId:"1:159808672944:web:19abeee8bfbc92a8ca9775",measurementId:"G-678JXR6S0T"},A1=db(z4),Zl=yN(A1),Ih=T4(A1),w1=R.createContext();function Og(){return R.useContext(w1)}function j4({children:i}){const[e,n]=R.useState(null),[s,o]=R.useState(!0);function u(_,T){return tx(Zl,_,T)}function c(_,T){return nx(Zl,_,T)}function m(){const _=new Dr;return Rx(Zl,_)}function p(){return ax(Zl)}R.useEffect(()=>sx(Zl,T=>{n(T),o(!1)}),[]);const g={currentUser:e,signup:u,login:c,googleLogin:m,logout:p};return x.jsx(w1.Provider,{value:g,children:!s&&i})}function B4({apiKey:i,setApiKey:e,history:n,loadFromHistory:s,clearHistory:o,onLoginClick:u}){const c="/arc/",{currentUser:m,logout:p}=Og(),g=async()=>{try{await p()}catch(_){console.error("Failed to log out",_)}};return x.jsxs("aside",{className:"sidebar flex flex-col h-full",children:[x.jsx("div",{className:"brand mb-6",children:x.jsx("img",{src:`${c}arc-emerge.svg`,alt:"arc",style:{height:"38px"}})}),x.jsxs("div",{className:"input-wrapper",style:{marginBottom:"2rem"},children:[x.jsxs("label",{className:"input-label",style:{display:"flex",alignItems:"center",gap:"6px",color:"var(--sb-text-muted)"},children:[x.jsx(UC,{size:12,style:{color:"var(--sb-text-muted)"}})," API Key"]}),x.jsx("input",{className:"input-field",type:"password",value:i,onChange:_=>e(_.target.value),placeholder:"sk-...",style:{fontFamily:"monospace",fontSize:"0.8rem",background:"var(--sb-hover)",border:"1px solid var(--sb-border)",color:"var(--sb-text-main)"}})]}),x.jsxs("div",{className:"history-list flex-grow overflow-y-auto mb-4",children:[x.jsxs("div",{style:{fontSize:"0.7rem",fontWeight:"600",marginBottom:"10px",textTransform:"uppercase",letterSpacing:"0.05em",opacity:.6,color:"var(--sb-text-muted)"},children:["Library ",m?"(Cloud)":"(Local)"]}),n.length===0&&x.jsx("div",{className:"text-xs text-slate-500 italic p-2 text-center opacity-50",children:"No history yet."}),n.map(_=>x.jsx("div",{className:"history-item",onClick:()=>s(_),children:x.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[x.jsx("div",{style:{width:"6px",height:"6px",borderRadius:"50%",background:_.visuals?.themeColors?.primary||"#000"}}),x.jsxs("div",{children:[x.jsx("span",{className:"history-title",children:_.title}),x.jsx("div",{className:"history-meta",children:(_.meta?.level||"B1").toUpperCase()})]})]})},_.id))]}),x.jsxs("div",{className:"mt-auto space-y-2",children:[x.jsxs("button",{onClick:o,className:"btn-clear-history w-full flex items-center gap-2 justify-center",children:[x.jsx(tb,{size:14})," Clear History"]}),m?x.jsxs("div",{className:"user-profile-card",children:[x.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",overflow:"hidden"},children:[x.jsx("div",{className:"user-avatar-placeholder",children:x.jsx(nb,{size:16})}),x.jsxs("div",{className:"user-info",children:[x.jsx("span",{className:"user-email",title:m.email,children:m.email}),x.jsx("span",{className:"user-badge",children:"Premium"})]})]}),x.jsx("button",{onClick:g,className:"btn-logout-icon",title:"Log out",children:x.jsx(QC,{size:16})})]}):x.jsxs("button",{onClick:u,className:"btn-premium-gradient",children:[x.jsx(KC,{size:16}),x.jsx("span",{children:"Sign In"})]})]}),x.jsxs("a",{href:"https://karatasbora.github.io/me",target:"_blank",rel:"noopener noreferrer",className:"sidebar-footer mt-4",style:{textDecoration:"none"},children:[x.jsx("img",{src:`${c}bora-logo.svg`,alt:"Bora Karata",className:"dev-logo"}),x.jsx("span",{className:"dev-name",children:"Bora Karata"})]})]})}function H4({transcript:i,setTranscript:e,activityType:n,setActivityType:s,cefrLevel:o,setCefrLevel:u,isScaffolded:c,setIsScaffolded:m,length:p,setLength:g,audience:_,setAudience:T,visualStyle:S,setVisualStyle:I,mascotPref:L,setMascotPref:P,model:U,setModel:K,loading:$,onGenerate:J}){return x.jsxs("div",{className:"editor-panel",children:[x.jsxs("div",{className:"panel-header",children:[x.jsx("div",{className:"panel-icon",children:x.jsx(xC,{size:20,color:"var(--cyan-100)"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"panel-title",children:"Configuration"}),x.jsx("p",{className:"panel-subtitle",children:"Customize your material parameters"})]})]}),x.jsx("div",{className:"config-section",children:x.jsxs("div",{className:"input-wrapper",children:[x.jsx("label",{className:"input-label",htmlFor:"source-material",children:"Source Material / Topic"}),x.jsx("textarea",{id:"source-material",className:"input-field",placeholder:"Paste text or describe a topic (e.g., 'The history of the internet' or 'Quantum Physics for kids')...",value:i,onChange:se=>e(se.target.value),rows:3})]})}),x.jsxs("div",{className:"config-section",children:[x.jsxs("div",{className:"section-title",children:[x.jsx(iI,{size:14})," ",x.jsx("span",{children:"Structure"})]}),x.jsxs("div",{className:"grid-2",children:[x.jsxs("div",{className:"input-wrapper",children:[x.jsx("label",{className:"input-label",htmlFor:"model-select",children:"Model"}),x.jsxs("select",{id:"model-select",className:"input-field",value:U,onChange:se=>K(se.target.value),children:[x.jsx("option",{value:"gemini-2.5-flash",children:"Gemini 2.5 Flash"}),x.jsx("option",{value:"gemini-2.5-pro",children:"Gemini 2.5 Pro"}),x.jsx("option",{value:"gemini-2.0-flash",children:"Gemini 2.0 Flash"}),x.jsx("option",{value:"gemini-flash-latest",children:"Gemini Flash"})]})]}),x.jsxs("div",{className:"input-wrapper",children:[x.jsx("label",{className:"input-label",htmlFor:"focus-select",children:"Focus"}),x.jsxs("select",{id:"focus-select",className:"input-field",value:n,onChange:se=>s(se.target.value),children:[x.jsx("option",{value:"comprehension",children:"Comprehension"}),x.jsx("option",{value:"vocabulary",children:"Vocabulary"}),x.jsx("option",{value:"grammar",children:"Grammar"}),x.jsx("option",{value:"discussion",children:"Discussion"})]})]})]}),x.jsxs("div",{className:"grid-2",children:[x.jsxs("div",{className:"input-wrapper",children:[x.jsx("label",{className:"input-label",htmlFor:"level-select",children:"Level (CEFR)"}),x.jsxs("select",{id:"level-select",className:"input-field",value:o,onChange:se=>u(se.target.value),children:[x.jsx("option",{children:"A1"}),x.jsx("option",{children:"A2"}),x.jsx("option",{children:"B1"}),x.jsx("option",{children:"B2"}),x.jsx("option",{children:"C1"})]})]}),x.jsxs("div",{className:"input-wrapper",children:[x.jsx("label",{className:"input-label",htmlFor:"length-select",children:"Length"}),x.jsxs("select",{id:"length-select",className:"input-field",value:p,onChange:se=>g(se.target.value),children:[x.jsx("option",{value:"short",children:"Short (5 Qs)"}),x.jsx("option",{value:"medium",children:"Medium (10 Qs)"}),x.jsx("option",{value:"long",children:"Long (15 Qs)"})]})]})]})]}),x.jsxs("div",{className:"config-section",children:[x.jsxs("div",{className:"section-title",children:[x.jsx(pI,{size:14})," ",x.jsx("span",{children:"Audience"})]}),x.jsxs("div",{className:"audience-grid",children:[x.jsxs("div",{className:"input-wrapper",children:[x.jsx("label",{className:"input-label",htmlFor:"audience-select",children:"Target Group"}),x.jsxs("select",{id:"audience-select",className:"input-field",value:_,onChange:se=>T(se.target.value),children:[x.jsx("option",{value:"kids",children:"Kids (Playful)"}),x.jsx("option",{value:"teens",children:"Teens (Relatable)"}),x.jsx("option",{value:"adults",children:"Adults (Standard)"}),x.jsx("option",{value:"professionals",children:"Professionals (Formal)"})]})]}),x.jsxs("div",{className:`toggle-card ${c?"active":""}`,onClick:()=>m(!c),children:[x.jsx("span",{className:"scaffolding-label",children:"Scaffolding"}),c?x.jsx(uI,{size:20,style:{color:"var(--cf-accent)"}}):x.jsx(oI,{size:20,color:"var(--cf-text-muted)"})]})]})]}),x.jsxs("div",{className:"config-section",children:[x.jsxs("div",{className:"section-title",children:[x.jsx(eb,{size:14})," ",x.jsx("span",{children:"Visual Design"})]}),x.jsxs("div",{className:"grid-2",children:[x.jsxs("div",{className:"input-wrapper",children:[x.jsx("label",{className:"input-label",htmlFor:"visual-style-select",children:"Art Style"}),x.jsxs("select",{id:"visual-style-select",className:"input-field",value:S,onChange:se=>I(se.target.value),children:[x.jsx("option",{value:"minimal vector line art",children:"Minimal Line Art"}),x.jsx("option",{value:"clay 3d render style",children:"Clay 3D"}),x.jsx("option",{value:"watercolor painting style",children:"Watercolor"}),x.jsx("option",{value:"pixel art style",children:"Pixel Art"}),x.jsx("option",{value:"cyberpunk digital art",children:"Cyberpunk"}),x.jsx("option",{value:"childrens book illustration",children:"Storybook"})]})]}),x.jsxs("div",{className:"input-wrapper",children:[x.jsx("label",{className:"input-label",htmlFor:"mascot-input",children:"Mascot Focus"}),x.jsx("input",{id:"mascot-input",type:"text",className:"input-field",placeholder:"e.g. Robot",value:L,onChange:se=>P(se.target.value)})]})]})]}),x.jsx("div",{className:"action-footer",children:x.jsx("button",{className:"btn-primary",onClick:J,disabled:$,children:$?x.jsxs(x.Fragment,{children:[x.jsx(HC,{size:18,className:"animate-spin"}),x.jsx("span",{children:"Architecting..."})]}):x.jsxs(x.Fragment,{children:[x.jsx(sI,{size:18}),x.jsx("span",{children:"Generate Material"})]})})})]})}function q4(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return R.useMemo(()=>s=>{e.forEach(o=>o(s))},e)}const Uf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Xo(i){const e=Object.prototype.toString.call(i);return e==="[object Window]"||e==="[object global]"}function Mg(i){return"nodeType"in i}function Un(i){var e,n;return i?Xo(i)?i:Mg(i)&&(e=(n=i.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function kg(i){const{Document:e}=Un(i);return i instanceof e}function Qu(i){return Xo(i)?!1:i instanceof Un(i).HTMLElement}function R1(i){return i instanceof Un(i).SVGElement}function Wo(i){return i?Xo(i)?i.document:Mg(i)?kg(i)?i:Qu(i)||R1(i)?i.ownerDocument:document:document:document}const ar=Uf?R.useLayoutEffect:R.useEffect;function Vg(i){const e=R.useRef(i);return ar(()=>{e.current=i}),R.useCallback(function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e.current==null?void 0:e.current(...s)},[])}function F4(){const i=R.useRef(null),e=R.useCallback((s,o)=>{i.current=setInterval(s,o)},[]),n=R.useCallback(()=>{i.current!==null&&(clearInterval(i.current),i.current=null)},[]);return[e,n]}function Iu(i,e){e===void 0&&(e=[i]);const n=R.useRef(i);return ar(()=>{n.current!==i&&(n.current=i)},e),n}function $u(i,e){const n=R.useRef();return R.useMemo(()=>{const s=i(n.current);return n.current=s,s},[...e])}function mf(i){const e=Vg(i),n=R.useRef(null),s=R.useCallback(o=>{o!==n.current&&e?.(o,n.current),n.current=o},[]);return[n,s]}function Mp(i){const e=R.useRef();return R.useEffect(()=>{e.current=i},[i]),e.current}let ip={};function Xu(i,e){return R.useMemo(()=>{if(e)return e;const n=ip[i]==null?0:ip[i]+1;return ip[i]=n,i+"-"+n},[i,e])}function C1(i){return function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return s.reduce((u,c)=>{const m=Object.entries(c);for(const[p,g]of m){const _=u[p];_!=null&&(u[p]=_+i*g)}return u},{...e})}}const ko=C1(1),Du=C1(-1);function G4(i){return"clientX"in i&&"clientY"in i}function Lg(i){if(!i)return!1;const{KeyboardEvent:e}=Un(i.target);return e&&i instanceof e}function K4(i){if(!i)return!1;const{TouchEvent:e}=Un(i.target);return e&&i instanceof e}function kp(i){if(K4(i)){if(i.touches&&i.touches.length){const{clientX:e,clientY:n}=i.touches[0];return{x:e,y:n}}else if(i.changedTouches&&i.changedTouches.length){const{clientX:e,clientY:n}=i.changedTouches[0];return{x:e,y:n}}}return G4(i)?{x:i.clientX,y:i.clientY}:null}const xu=Object.freeze({Translate:{toString(i){if(!i)return;const{x:e,y:n}=i;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(i){if(!i)return;const{scaleX:e,scaleY:n}=i;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(i){if(i)return[xu.Translate.toString(i),xu.Scale.toString(i)].join(" ")}},Transition:{toString(i){let{property:e,duration:n,easing:s}=i;return e+" "+n+"ms "+s}}}),eT="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Y4(i){return i.matches(eT)?i:i.querySelector(eT)}const Q4={display:"none"};function $4(i){let{id:e,value:n}=i;return Rn.createElement("div",{id:e,style:Q4},n)}function X4(i){let{id:e,announcement:n,ariaLiveType:s="assertive"}=i;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Rn.createElement("div",{id:e,style:o,role:"status","aria-live":s,"aria-atomic":!0},n)}function W4(){const[i,e]=R.useState("");return{announce:R.useCallback(s=>{s!=null&&e(s)},[]),announcement:i}}const I1=R.createContext(null);function J4(i){const e=R.useContext(I1);R.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(i)},[i,e])}function Z4(){const[i]=R.useState(()=>new Set),e=R.useCallback(s=>(i.add(s),()=>i.delete(s)),[i]);return[R.useCallback(s=>{let{type:o,event:u}=s;i.forEach(c=>{var m;return(m=c[o])==null?void 0:m.call(c,u)})},[i]),e]}const ek={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},tk={onDragStart(i){let{active:e}=i;return"Picked up draggable item "+e.id+"."},onDragOver(i){let{active:e,over:n}=i;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(i){let{active:e,over:n}=i;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(i){let{active:e}=i;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function nk(i){let{announcements:e=tk,container:n,hiddenTextDescribedById:s,screenReaderInstructions:o=ek}=i;const{announce:u,announcement:c}=W4(),m=Xu("DndLiveRegion"),[p,g]=R.useState(!1);if(R.useEffect(()=>{g(!0)},[]),J4(R.useMemo(()=>({onDragStart(T){let{active:S}=T;u(e.onDragStart({active:S}))},onDragMove(T){let{active:S,over:I}=T;e.onDragMove&&u(e.onDragMove({active:S,over:I}))},onDragOver(T){let{active:S,over:I}=T;u(e.onDragOver({active:S,over:I}))},onDragEnd(T){let{active:S,over:I}=T;u(e.onDragEnd({active:S,over:I}))},onDragCancel(T){let{active:S,over:I}=T;u(e.onDragCancel({active:S,over:I}))}}),[u,e])),!p)return null;const _=Rn.createElement(Rn.Fragment,null,Rn.createElement($4,{id:s,value:o.draggable}),Rn.createElement(X4,{id:m,announcement:c}));return n?eu.createPortal(_,n):_}var Bt;(function(i){i.DragStart="dragStart",i.DragMove="dragMove",i.DragEnd="dragEnd",i.DragCancel="dragCancel",i.DragOver="dragOver",i.RegisterDroppable="registerDroppable",i.SetDroppableDisabled="setDroppableDisabled",i.UnregisterDroppable="unregisterDroppable"})(Bt||(Bt={}));function pf(){}function tT(i,e){return R.useMemo(()=>({sensor:i,options:e??{}}),[i,e])}function ik(){for(var i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return R.useMemo(()=>[...e].filter(s=>s!=null),[...e])}const ki=Object.freeze({x:0,y:0});function D1(i,e){return Math.sqrt(Math.pow(i.x-e.x,2)+Math.pow(i.y-e.y,2))}function x1(i,e){let{data:{value:n}}=i,{data:{value:s}}=e;return n-s}function rk(i,e){let{data:{value:n}}=i,{data:{value:s}}=e;return s-n}function nT(i){let{left:e,top:n,height:s,width:o}=i;return[{x:e,y:n},{x:e+o,y:n},{x:e,y:n+s},{x:e+o,y:n+s}]}function N1(i,e){if(!i||i.length===0)return null;const[n]=i;return n[e]}function iT(i,e,n){return e===void 0&&(e=i.left),n===void 0&&(n=i.top),{x:e+i.width*.5,y:n+i.height*.5}}const sk=i=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=i;const o=iT(e,e.left,e.top),u=[];for(const c of s){const{id:m}=c,p=n.get(m);if(p){const g=D1(iT(p),o);u.push({id:m,data:{droppableContainer:c,value:g}})}}return u.sort(x1)},ak=i=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=i;const o=nT(e),u=[];for(const c of s){const{id:m}=c,p=n.get(m);if(p){const g=nT(p),_=o.reduce((S,I,L)=>S+D1(g[L],I),0),T=Number((_/4).toFixed(4));u.push({id:m,data:{droppableContainer:c,value:T}})}}return u.sort(x1)};function ok(i,e){const n=Math.max(e.top,i.top),s=Math.max(e.left,i.left),o=Math.min(e.left+e.width,i.left+i.width),u=Math.min(e.top+e.height,i.top+i.height),c=o-s,m=u-n;if(s<o&&n<u){const p=e.width*e.height,g=i.width*i.height,_=c*m,T=_/(p+g-_);return Number(T.toFixed(4))}return 0}const lk=i=>{let{collisionRect:e,droppableRects:n,droppableContainers:s}=i;const o=[];for(const u of s){const{id:c}=u,m=n.get(c);if(m){const p=ok(m,e);p>0&&o.push({id:c,data:{droppableContainer:u,value:p}})}}return o.sort(rk)};function uk(i,e,n){return{...i,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function O1(i,e){return i&&e?{x:i.left-e.left,y:i.top-e.top}:ki}function ck(i){return function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=arguments[u];return o.reduce((c,m)=>({...c,top:c.top+i*m.y,bottom:c.bottom+i*m.y,left:c.left+i*m.x,right:c.right+i*m.x}),{...n})}}const hk=ck(1);function fk(i){if(i.startsWith("matrix3d(")){const e=i.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(i.startsWith("matrix(")){const e=i.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function dk(i,e,n){const s=fk(e);if(!s)return i;const{scaleX:o,scaleY:u,x:c,y:m}=s,p=i.left-c-(1-o)*parseFloat(n),g=i.top-m-(1-u)*parseFloat(n.slice(n.indexOf(" ")+1)),_=o?i.width/o:i.width,T=u?i.height/u:i.height;return{width:_,height:T,top:g,right:p+_,bottom:g+T,left:p}}const mk={ignoreTransform:!1};function Jo(i,e){e===void 0&&(e=mk);let n=i.getBoundingClientRect();if(e.ignoreTransform){const{transform:g,transformOrigin:_}=Un(i).getComputedStyle(i);g&&(n=dk(n,g,_))}const{top:s,left:o,width:u,height:c,bottom:m,right:p}=n;return{top:s,left:o,width:u,height:c,bottom:m,right:p}}function rT(i){return Jo(i,{ignoreTransform:!0})}function pk(i){const e=i.innerWidth,n=i.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function gk(i,e){return e===void 0&&(e=Un(i).getComputedStyle(i)),e.position==="fixed"}function yk(i,e){e===void 0&&(e=Un(i).getComputedStyle(i));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const u=e[o];return typeof u=="string"?n.test(u):!1})}function zf(i,e){const n=[];function s(o){if(e!=null&&n.length>=e||!o)return n;if(kg(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Qu(o)||R1(o)||n.includes(o))return n;const u=Un(i).getComputedStyle(o);return o!==i&&yk(o,u)&&n.push(o),gk(o,u)?n:s(o.parentNode)}return i?s(i):n}function M1(i){const[e]=zf(i,1);return e??null}function rp(i){return!Uf||!i?null:Xo(i)?i:Mg(i)?kg(i)||i===Wo(i).scrollingElement?window:Qu(i)?i:null:null}function k1(i){return Xo(i)?i.scrollX:i.scrollLeft}function V1(i){return Xo(i)?i.scrollY:i.scrollTop}function Vp(i){return{x:k1(i),y:V1(i)}}var Wt;(function(i){i[i.Forward=1]="Forward",i[i.Backward=-1]="Backward"})(Wt||(Wt={}));function L1(i){return!Uf||!i?!1:i===document.scrollingElement}function P1(i){const e={x:0,y:0},n=L1(i)?{height:window.innerHeight,width:window.innerWidth}:{height:i.clientHeight,width:i.clientWidth},s={x:i.scrollWidth-n.width,y:i.scrollHeight-n.height},o=i.scrollTop<=e.y,u=i.scrollLeft<=e.x,c=i.scrollTop>=s.y,m=i.scrollLeft>=s.x;return{isTop:o,isLeft:u,isBottom:c,isRight:m,maxScroll:s,minScroll:e}}const vk={x:.2,y:.2};function _k(i,e,n,s,o){let{top:u,left:c,right:m,bottom:p}=n;s===void 0&&(s=10),o===void 0&&(o=vk);const{isTop:g,isBottom:_,isLeft:T,isRight:S}=P1(i),I={x:0,y:0},L={x:0,y:0},P={height:e.height*o.y,width:e.width*o.x};return!g&&u<=e.top+P.height?(I.y=Wt.Backward,L.y=s*Math.abs((e.top+P.height-u)/P.height)):!_&&p>=e.bottom-P.height&&(I.y=Wt.Forward,L.y=s*Math.abs((e.bottom-P.height-p)/P.height)),!S&&m>=e.right-P.width?(I.x=Wt.Forward,L.x=s*Math.abs((e.right-P.width-m)/P.width)):!T&&c<=e.left+P.width&&(I.x=Wt.Backward,L.x=s*Math.abs((e.left+P.width-c)/P.width)),{direction:I,speed:L}}function Ek(i){if(i===document.scrollingElement){const{innerWidth:u,innerHeight:c}=window;return{top:0,left:0,right:u,bottom:c,width:u,height:c}}const{top:e,left:n,right:s,bottom:o}=i.getBoundingClientRect();return{top:e,left:n,right:s,bottom:o,width:i.clientWidth,height:i.clientHeight}}function U1(i){return i.reduce((e,n)=>ko(e,Vp(n)),ki)}function Tk(i){return i.reduce((e,n)=>e+k1(n),0)}function bk(i){return i.reduce((e,n)=>e+V1(n),0)}function Sk(i,e){if(e===void 0&&(e=Jo),!i)return;const{top:n,left:s,bottom:o,right:u}=e(i);M1(i)&&(o<=0||u<=0||n>=window.innerHeight||s>=window.innerWidth)&&i.scrollIntoView({block:"center",inline:"center"})}const Ak=[["x",["left","right"],Tk],["y",["top","bottom"],bk]];class Pg{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=zf(n),o=U1(s);this.rect={...e},this.width=e.width,this.height=e.height;for(const[u,c,m]of Ak)for(const p of c)Object.defineProperty(this,p,{get:()=>{const g=m(s),_=o[u]-g;return this.rect[p]+_},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class du{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=e}add(e,n,s){var o;(o=this.target)==null||o.addEventListener(e,n,s),this.listeners.push([e,n,s])}}function wk(i){const{EventTarget:e}=Un(i);return i instanceof e?i:Wo(i)}function sp(i,e){const n=Math.abs(i.x),s=Math.abs(i.y);return typeof e=="number"?Math.sqrt(n**2+s**2)>e:"x"in e&&"y"in e?n>e.x&&s>e.y:"x"in e?n>e.x:"y"in e?s>e.y:!1}var yi;(function(i){i.Click="click",i.DragStart="dragstart",i.Keydown="keydown",i.ContextMenu="contextmenu",i.Resize="resize",i.SelectionChange="selectionchange",i.VisibilityChange="visibilitychange"})(yi||(yi={}));function sT(i){i.preventDefault()}function Rk(i){i.stopPropagation()}var Fe;(function(i){i.Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab"})(Fe||(Fe={}));const z1={start:[Fe.Space,Fe.Enter],cancel:[Fe.Esc],end:[Fe.Space,Fe.Enter,Fe.Tab]},Ck=(i,e)=>{let{currentCoordinates:n}=e;switch(i.code){case Fe.Right:return{...n,x:n.x+25};case Fe.Left:return{...n,x:n.x-25};case Fe.Down:return{...n,y:n.y+25};case Fe.Up:return{...n,y:n.y-25}}};class Ug{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new du(Wo(n)),this.windowListeners=new du(Un(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(yi.Resize,this.handleCancel),this.windowListeners.add(yi.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(yi.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,s=e.node.current;s&&Sk(s),n(ki)}handleKeyDown(e){if(Lg(e)){const{active:n,context:s,options:o}=this.props,{keyboardCodes:u=z1,coordinateGetter:c=Ck,scrollBehavior:m="smooth"}=o,{code:p}=e;if(u.end.includes(p)){this.handleEnd(e);return}if(u.cancel.includes(p)){this.handleCancel(e);return}const{collisionRect:g}=s.current,_=g?{x:g.left,y:g.top}:ki;this.referenceCoordinates||(this.referenceCoordinates=_);const T=c(e,{active:n,context:s.current,currentCoordinates:_});if(T){const S=Du(T,_),I={x:0,y:0},{scrollableAncestors:L}=s.current;for(const P of L){const U=e.code,{isTop:K,isRight:$,isLeft:J,isBottom:se,maxScroll:he,minScroll:ue}=P1(P),C=Ek(P),w={x:Math.min(U===Fe.Right?C.right-C.width/2:C.right,Math.max(U===Fe.Right?C.left:C.left+C.width/2,T.x)),y:Math.min(U===Fe.Down?C.bottom-C.height/2:C.bottom,Math.max(U===Fe.Down?C.top:C.top+C.height/2,T.y))},D=U===Fe.Right&&!$||U===Fe.Left&&!J,V=U===Fe.Down&&!se||U===Fe.Up&&!K;if(D&&w.x!==T.x){const M=P.scrollLeft+S.x,j=U===Fe.Right&&M<=he.x||U===Fe.Left&&M>=ue.x;if(j&&!S.y){P.scrollTo({left:M,behavior:m});return}j?I.x=P.scrollLeft-M:I.x=U===Fe.Right?P.scrollLeft-he.x:P.scrollLeft-ue.x,I.x&&P.scrollBy({left:-I.x,behavior:m});break}else if(V&&w.y!==T.y){const M=P.scrollTop+S.y,j=U===Fe.Down&&M<=he.y||U===Fe.Up&&M>=ue.y;if(j&&!S.x){P.scrollTo({top:M,behavior:m});return}j?I.y=P.scrollTop-M:I.y=U===Fe.Down?P.scrollTop-he.y:P.scrollTop-ue.y,I.y&&P.scrollBy({top:-I.y,behavior:m});break}}this.handleMove(e,ko(Du(T,this.referenceCoordinates),I))}}}handleMove(e,n){const{onMove:s}=this.props;e.preventDefault(),s(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ug.activators=[{eventName:"onKeyDown",handler:(i,e,n)=>{let{keyboardCodes:s=z1,onActivation:o}=e,{active:u}=n;const{code:c}=i.nativeEvent;if(s.start.includes(c)){const m=u.activatorNode.current;return m&&i.target!==m?!1:(i.preventDefault(),o?.({event:i.nativeEvent}),!0)}return!1}}];function aT(i){return!!(i&&"distance"in i)}function oT(i){return!!(i&&"delay"in i)}class zg{constructor(e,n,s){var o;s===void 0&&(s=wk(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:u}=e,{target:c}=u;this.props=e,this.events=n,this.document=Wo(c),this.documentListeners=new du(this.document),this.listeners=new du(s),this.windowListeners=new du(Un(c)),this.initialCoordinates=(o=kp(u))!=null?o:ki,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(yi.Resize,this.handleCancel),this.windowListeners.add(yi.DragStart,sT),this.windowListeners.add(yi.VisibilityChange,this.handleCancel),this.windowListeners.add(yi.ContextMenu,sT),this.documentListeners.add(yi.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(oT(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(aT(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:s,onPending:o}=this.props;o(s,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(yi.Click,Rk,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(yi.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:s,initialCoordinates:o,props:u}=this,{onMove:c,options:{activationConstraint:m}}=u;if(!o)return;const p=(n=kp(e))!=null?n:ki,g=Du(o,p);if(!s&&m){if(aT(m)){if(m.tolerance!=null&&sp(g,m.tolerance))return this.handleCancel();if(sp(g,m.distance))return this.handleStart()}if(oT(m)&&sp(g,m.tolerance))return this.handleCancel();this.handlePending(m,g);return}e.cancelable&&e.preventDefault(),c(p)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Fe.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const Ik={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class jg extends zg{constructor(e){const{event:n}=e,s=Wo(n.target);super(e,Ik,s)}}jg.activators=[{eventName:"onPointerDown",handler:(i,e)=>{let{nativeEvent:n}=i,{onActivation:s}=e;return!n.isPrimary||n.button!==0?!1:(s?.({event:n}),!0)}}];const Dk={move:{name:"mousemove"},end:{name:"mouseup"}};var Lp;(function(i){i[i.RightClick=2]="RightClick"})(Lp||(Lp={}));class xk extends zg{constructor(e){super(e,Dk,Wo(e.event.target))}}xk.activators=[{eventName:"onMouseDown",handler:(i,e)=>{let{nativeEvent:n}=i,{onActivation:s}=e;return n.button===Lp.RightClick?!1:(s?.({event:n}),!0)}}];const ap={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Nk extends zg{constructor(e){super(e,ap)}static setup(){return window.addEventListener(ap.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(ap.move.name,e)};function e(){}}}Nk.activators=[{eventName:"onTouchStart",handler:(i,e)=>{let{nativeEvent:n}=i,{onActivation:s}=e;const{touches:o}=n;return o.length>1?!1:(s?.({event:n}),!0)}}];var mu;(function(i){i[i.Pointer=0]="Pointer",i[i.DraggableRect=1]="DraggableRect"})(mu||(mu={}));var gf;(function(i){i[i.TreeOrder=0]="TreeOrder",i[i.ReversedTreeOrder=1]="ReversedTreeOrder"})(gf||(gf={}));function Ok(i){let{acceleration:e,activator:n=mu.Pointer,canScroll:s,draggingRect:o,enabled:u,interval:c=5,order:m=gf.TreeOrder,pointerCoordinates:p,scrollableAncestors:g,scrollableAncestorRects:_,delta:T,threshold:S}=i;const I=kk({delta:T,disabled:!u}),[L,P]=F4(),U=R.useRef({x:0,y:0}),K=R.useRef({x:0,y:0}),$=R.useMemo(()=>{switch(n){case mu.Pointer:return p?{top:p.y,bottom:p.y,left:p.x,right:p.x}:null;case mu.DraggableRect:return o}},[n,o,p]),J=R.useRef(null),se=R.useCallback(()=>{const ue=J.current;if(!ue)return;const C=U.current.x*K.current.x,w=U.current.y*K.current.y;ue.scrollBy(C,w)},[]),he=R.useMemo(()=>m===gf.TreeOrder?[...g].reverse():g,[m,g]);R.useEffect(()=>{if(!u||!g.length||!$){P();return}for(const ue of he){if(s?.(ue)===!1)continue;const C=g.indexOf(ue),w=_[C];if(!w)continue;const{direction:D,speed:V}=_k(ue,w,$,e,S);for(const M of["x","y"])I[M][D[M]]||(V[M]=0,D[M]=0);if(V.x>0||V.y>0){P(),J.current=ue,L(se,c),U.current=V,K.current=D;return}}U.current={x:0,y:0},K.current={x:0,y:0},P()},[e,se,s,P,u,c,JSON.stringify($),JSON.stringify(I),L,g,he,_,JSON.stringify(S)])}const Mk={x:{[Wt.Backward]:!1,[Wt.Forward]:!1},y:{[Wt.Backward]:!1,[Wt.Forward]:!1}};function kk(i){let{delta:e,disabled:n}=i;const s=Mp(e);return $u(o=>{if(n||!s||!o)return Mk;const u={x:Math.sign(e.x-s.x),y:Math.sign(e.y-s.y)};return{x:{[Wt.Backward]:o.x[Wt.Backward]||u.x===-1,[Wt.Forward]:o.x[Wt.Forward]||u.x===1},y:{[Wt.Backward]:o.y[Wt.Backward]||u.y===-1,[Wt.Forward]:o.y[Wt.Forward]||u.y===1}}},[n,e,s])}function Vk(i,e){const n=e!=null?i.get(e):void 0,s=n?n.node.current:null;return $u(o=>{var u;return e==null?null:(u=s??o)!=null?u:null},[s,e])}function Lk(i,e){return R.useMemo(()=>i.reduce((n,s)=>{const{sensor:o}=s,u=o.activators.map(c=>({eventName:c.eventName,handler:e(c.handler,s)}));return[...n,...u]},[]),[i,e])}var Nu;(function(i){i[i.Always=0]="Always",i[i.BeforeDragging=1]="BeforeDragging",i[i.WhileDragging=2]="WhileDragging"})(Nu||(Nu={}));var Pp;(function(i){i.Optimized="optimized"})(Pp||(Pp={}));const lT=new Map;function Pk(i,e){let{dragging:n,dependencies:s,config:o}=e;const[u,c]=R.useState(null),{frequency:m,measure:p,strategy:g}=o,_=R.useRef(i),T=U(),S=Iu(T),I=R.useCallback(function(K){K===void 0&&(K=[]),!S.current&&c($=>$===null?K:$.concat(K.filter(J=>!$.includes(J))))},[S]),L=R.useRef(null),P=$u(K=>{if(T&&!n)return lT;if(!K||K===lT||_.current!==i||u!=null){const $=new Map;for(let J of i){if(!J)continue;if(u&&u.length>0&&!u.includes(J.id)&&J.rect.current){$.set(J.id,J.rect.current);continue}const se=J.node.current,he=se?new Pg(p(se),se):null;J.rect.current=he,he&&$.set(J.id,he)}return $}return K},[i,u,n,T,p]);return R.useEffect(()=>{_.current=i},[i]),R.useEffect(()=>{T||I()},[n,T]),R.useEffect(()=>{u&&u.length>0&&c(null)},[JSON.stringify(u)]),R.useEffect(()=>{T||typeof m!="number"||L.current!==null||(L.current=setTimeout(()=>{I(),L.current=null},m))},[m,T,I,...s]),{droppableRects:P,measureDroppableContainers:I,measuringScheduled:u!=null};function U(){switch(g){case Nu.Always:return!1;case Nu.BeforeDragging:return n;default:return!n}}}function j1(i,e){return $u(n=>i?n||(typeof e=="function"?e(i):i):null,[e,i])}function Uk(i,e){return j1(i,e)}function zk(i){let{callback:e,disabled:n}=i;const s=Vg(e),o=R.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:u}=window;return new u(s)},[s,n]);return R.useEffect(()=>()=>o?.disconnect(),[o]),o}function jf(i){let{callback:e,disabled:n}=i;const s=Vg(e),o=R.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:u}=window;return new u(s)},[n]);return R.useEffect(()=>()=>o?.disconnect(),[o]),o}function jk(i){return new Pg(Jo(i),i)}function uT(i,e,n){e===void 0&&(e=jk);const[s,o]=R.useState(null);function u(){o(p=>{if(!i)return null;if(i.isConnected===!1){var g;return(g=p??n)!=null?g:null}const _=e(i);return JSON.stringify(p)===JSON.stringify(_)?p:_})}const c=zk({callback(p){if(i)for(const g of p){const{type:_,target:T}=g;if(_==="childList"&&T instanceof HTMLElement&&T.contains(i)){u();break}}}}),m=jf({callback:u});return ar(()=>{u(),i?(m?.observe(i),c?.observe(document.body,{childList:!0,subtree:!0})):(m?.disconnect(),c?.disconnect())},[i]),s}function Bk(i){const e=j1(i);return O1(i,e)}const cT=[];function Hk(i){const e=R.useRef(i),n=$u(s=>i?s&&s!==cT&&i&&e.current&&i.parentNode===e.current.parentNode?s:zf(i):cT,[i]);return R.useEffect(()=>{e.current=i},[i]),n}function qk(i){const[e,n]=R.useState(null),s=R.useRef(i),o=R.useCallback(u=>{const c=rp(u.target);c&&n(m=>m?(m.set(c,Vp(c)),new Map(m)):null)},[]);return R.useEffect(()=>{const u=s.current;if(i!==u){c(u);const m=i.map(p=>{const g=rp(p);return g?(g.addEventListener("scroll",o,{passive:!0}),[g,Vp(g)]):null}).filter(p=>p!=null);n(m.length?new Map(m):null),s.current=i}return()=>{c(i),c(u)};function c(m){m.forEach(p=>{const g=rp(p);g?.removeEventListener("scroll",o)})}},[o,i]),R.useMemo(()=>i.length?e?Array.from(e.values()).reduce((u,c)=>ko(u,c),ki):U1(i):ki,[i,e])}function hT(i,e){e===void 0&&(e=[]);const n=R.useRef(null);return R.useEffect(()=>{n.current=null},e),R.useEffect(()=>{const s=i!==ki;s&&!n.current&&(n.current=i),!s&&n.current&&(n.current=null)},[i]),n.current?Du(i,n.current):ki}function Fk(i){R.useEffect(()=>{if(!Uf)return;const e=i.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of e)n?.()}},i.map(e=>{let{sensor:n}=e;return n}))}function Gk(i,e){return R.useMemo(()=>i.reduce((n,s)=>{let{eventName:o,handler:u}=s;return n[o]=c=>{u(c,e)},n},{}),[i,e])}function B1(i){return R.useMemo(()=>i?pk(i):null,[i])}const fT=[];function Kk(i,e){e===void 0&&(e=Jo);const[n]=i,s=B1(n?Un(n):null),[o,u]=R.useState(fT);function c(){u(()=>i.length?i.map(p=>L1(p)?s:new Pg(e(p),p)):fT)}const m=jf({callback:c});return ar(()=>{m?.disconnect(),c(),i.forEach(p=>m?.observe(p))},[i]),o}function Yk(i){if(!i)return null;if(i.children.length>1)return i;const e=i.children[0];return Qu(e)?e:i}function Qk(i){let{measure:e}=i;const[n,s]=R.useState(null),o=R.useCallback(g=>{for(const{target:_}of g)if(Qu(_)){s(T=>{const S=e(_);return T?{...T,width:S.width,height:S.height}:S});break}},[e]),u=jf({callback:o}),c=R.useCallback(g=>{const _=Yk(g);u?.disconnect(),_&&u?.observe(_),s(_?e(_):null)},[e,u]),[m,p]=mf(c);return R.useMemo(()=>({nodeRef:m,rect:n,setRef:p}),[n,m,p])}const $k=[{sensor:jg,options:{}},{sensor:Ug,options:{}}],Xk={current:{}},qh={draggable:{measure:rT},droppable:{measure:rT,strategy:Nu.WhileDragging,frequency:Pp.Optimized},dragOverlay:{measure:Jo}};class pu extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,s;return(n=(s=this.get(e))==null?void 0:s.node.current)!=null?n:void 0}}const Wk={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new pu,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:pf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:qh,measureDroppableContainers:pf,windowRect:null,measuringScheduled:!1},Jk={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:pf,draggableNodes:new Map,over:null,measureDroppableContainers:pf},Bf=R.createContext(Jk),H1=R.createContext(Wk);function Zk(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new pu}}}function eV(i,e){switch(e.type){case Bt.DragStart:return{...i,draggable:{...i.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case Bt.DragMove:return i.draggable.active==null?i:{...i,draggable:{...i.draggable,translate:{x:e.coordinates.x-i.draggable.initialCoordinates.x,y:e.coordinates.y-i.draggable.initialCoordinates.y}}};case Bt.DragEnd:case Bt.DragCancel:return{...i,draggable:{...i.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Bt.RegisterDroppable:{const{element:n}=e,{id:s}=n,o=new pu(i.droppable.containers);return o.set(s,n),{...i,droppable:{...i.droppable,containers:o}}}case Bt.SetDroppableDisabled:{const{id:n,key:s,disabled:o}=e,u=i.droppable.containers.get(n);if(!u||s!==u.key)return i;const c=new pu(i.droppable.containers);return c.set(n,{...u,disabled:o}),{...i,droppable:{...i.droppable,containers:c}}}case Bt.UnregisterDroppable:{const{id:n,key:s}=e,o=i.droppable.containers.get(n);if(!o||s!==o.key)return i;const u=new pu(i.droppable.containers);return u.delete(n),{...i,droppable:{...i.droppable,containers:u}}}default:return i}}function tV(i){let{disabled:e}=i;const{active:n,activatorEvent:s,draggableNodes:o}=R.useContext(Bf),u=Mp(s),c=Mp(n?.id);return R.useEffect(()=>{if(!e&&!s&&u&&c!=null){if(!Lg(u)||document.activeElement===u.target)return;const m=o.get(c);if(!m)return;const{activatorNode:p,node:g}=m;if(!p.current&&!g.current)return;requestAnimationFrame(()=>{for(const _ of[p.current,g.current]){if(!_)continue;const T=Y4(_);if(T){T.focus();break}}})}},[s,e,o,c,u]),null}function nV(i,e){let{transform:n,...s}=e;return i!=null&&i.length?i.reduce((o,u)=>u({transform:o,...s}),n):n}function iV(i){return R.useMemo(()=>({draggable:{...qh.draggable,...i?.draggable},droppable:{...qh.droppable,...i?.droppable},dragOverlay:{...qh.dragOverlay,...i?.dragOverlay}}),[i?.draggable,i?.droppable,i?.dragOverlay])}function rV(i){let{activeNode:e,measure:n,initialRect:s,config:o=!0}=i;const u=R.useRef(!1),{x:c,y:m}=typeof o=="boolean"?{x:o,y:o}:o;ar(()=>{if(!c&&!m||!e){u.current=!1;return}if(u.current||!s)return;const g=e?.node.current;if(!g||g.isConnected===!1)return;const _=n(g),T=O1(_,s);if(c||(T.x=0),m||(T.y=0),u.current=!0,Math.abs(T.x)>0||Math.abs(T.y)>0){const S=M1(g);S&&S.scrollBy({top:T.y,left:T.x})}},[e,c,m,s,n])}const q1=R.createContext({...ki,scaleX:1,scaleY:1});var Ss;(function(i){i[i.Uninitialized=0]="Uninitialized",i[i.Initializing=1]="Initializing",i[i.Initialized=2]="Initialized"})(Ss||(Ss={}));const sV=R.memo(function(e){var n,s,o,u;let{id:c,accessibility:m,autoScroll:p=!0,children:g,sensors:_=$k,collisionDetection:T=lk,measuring:S,modifiers:I,...L}=e;const P=R.useReducer(eV,void 0,Zk),[U,K]=P,[$,J]=Z4(),[se,he]=R.useState(Ss.Uninitialized),ue=se===Ss.Initialized,{draggable:{active:C,nodes:w,translate:D},droppable:{containers:V}}=U,M=C!=null?w.get(C):null,j=R.useRef({initial:null,translated:null}),N=R.useMemo(()=>{var ke;return C!=null?{id:C,data:(ke=M?.data)!=null?ke:Xk,rect:j}:null},[C,M]),Pe=R.useRef(null),[lt,W]=R.useState(null),[ae,re]=R.useState(null),ge=Iu(L,Object.values(L)),ye=Xu("DndDescribedBy",c),k=R.useMemo(()=>V.getEnabled(),[V]),X=iV(S),{droppableRects:oe,measureDroppableContainers:ce,measuringScheduled:Ee}=Pk(k,{dragging:ue,dependencies:[D.x,D.y],config:X.droppable}),me=Vk(w,C),xe=R.useMemo(()=>ae?kp(ae):null,[ae]),We=cr(),Me=Uk(me,X.draggable.measure);rV({activeNode:C!=null?w.get(C):null,config:We.layoutShiftCompensation,initialRect:Me,measure:X.draggable.measure});const Oe=uT(me,X.draggable.measure,Me),ti=uT(me?me.parentElement:null),Zt=R.useRef({activatorEvent:null,active:null,activeNode:me,collisionRect:null,collisions:null,droppableRects:oe,draggableNodes:w,draggingNode:null,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),zn=V.getNodeFor((n=Zt.current.over)==null?void 0:n.id),It=Qk({measure:X.dragOverlay.measure}),ni=(s=It.nodeRef.current)!=null?s:me,Cn=ue?(o=It.rect)!=null?o:Oe:null,Hr=!!(It.nodeRef.current&&It.rect),qr=Bk(Hr?null:Oe),ft=B1(ni?Un(ni):null),tt=Hk(ue?zn??me:null),jn=Kk(tt),Fr=nV(I,{transform:{x:D.x-qr.x,y:D.y-qr.y,scaleX:1,scaleY:1},activatorEvent:ae,active:N,activeNodeRect:Oe,containerNodeRect:ti,draggingNodeRect:Cn,over:Zt.current.over,overlayNodeRect:It.rect,scrollableAncestors:tt,scrollableAncestorRects:jn,windowRect:ft}),qs=xe?ko(xe,D):null,Gt=qk(tt),or=hT(Gt),Fs=hT(Gt,[Oe]),ii=ko(Fr,or),En=Cn?hk(Cn,Fr):null,lr=N&&En?T({active:N,collisionRect:En,droppableRects:oe,droppableContainers:k,pointerCoordinates:qs}):null,Gs=N1(lr,"id"),[Bn,Ks]=R.useState(null),Hn=Hr?Fr:ko(Fr,Fs),zt=uk(Hn,(u=Bn?.rect)!=null?u:null,Oe),cn=R.useRef(null),dt=R.useCallback((ke,mt)=>{let{sensor:pt,options:Dt}=mt;if(Pe.current==null)return;const hn=w.get(Pe.current);if(!hn)return;const Kt=ke.nativeEvent,bt=new pt({active:Pe.current,activeNode:hn,event:Kt,options:Dt,context:Zt,onAbort(St){if(!w.get(St))return;const{onDragAbort:dn}=ge.current,Tn={id:St};dn?.(Tn),$({type:"onDragAbort",event:Tn})},onPending(St,fn,dn,Tn){if(!w.get(St))return;const{onDragPending:bn}=ge.current,Fn={id:St,constraint:fn,initialCoordinates:dn,offset:Tn};bn?.(Fn),$({type:"onDragPending",event:Fn})},onStart(St){const fn=Pe.current;if(fn==null)return;const dn=w.get(fn);if(!dn)return;const{onDragStart:Tn}=ge.current,qn={activatorEvent:Kt,active:{id:fn,data:dn.data,rect:j}};eu.unstable_batchedUpdates(()=>{Tn?.(qn),he(Ss.Initializing),K({type:Bt.DragStart,initialCoordinates:St,active:fn}),$({type:"onDragStart",event:qn}),W(cn.current),re(Kt)})},onMove(St){K({type:Bt.DragMove,coordinates:St})},onEnd:In(Bt.DragEnd),onCancel:In(Bt.DragCancel)});cn.current=bt;function In(St){return async function(){const{active:dn,collisions:Tn,over:qn,scrollAdjustedTranslate:bn}=Zt.current;let Fn=null;if(dn&&bn){const{cancelDrop:en}=ge.current;Fn={activatorEvent:Kt,active:dn,collisions:Tn,delta:bn,over:qn},St===Bt.DragEnd&&typeof en=="function"&&await Promise.resolve(en(Fn))&&(St=Bt.DragCancel)}Pe.current=null,eu.unstable_batchedUpdates(()=>{K({type:St}),he(Ss.Uninitialized),Ks(null),W(null),re(null),cn.current=null;const en=St===Bt.DragEnd?"onDragEnd":"onDragCancel";if(Fn){const Sn=ge.current[en];Sn?.(Fn),$({type:en,event:Fn})}})}}},[w]),ka=R.useCallback((ke,mt)=>(pt,Dt)=>{const hn=pt.nativeEvent,Kt=w.get(Dt);if(Pe.current!==null||!Kt||hn.dndKit||hn.defaultPrevented)return;const bt={active:Kt};ke(pt,mt.options,bt)===!0&&(hn.dndKit={capturedBy:mt.sensor},Pe.current=Dt,dt(pt,mt))},[w,dt]),ur=Lk(_,ka);Fk(_),ar(()=>{Oe&&se===Ss.Initializing&&he(Ss.Initialized)},[Oe,se]),R.useEffect(()=>{const{onDragMove:ke}=ge.current,{active:mt,activatorEvent:pt,collisions:Dt,over:hn}=Zt.current;if(!mt||!pt)return;const Kt={active:mt,activatorEvent:pt,collisions:Dt,delta:{x:ii.x,y:ii.y},over:hn};eu.unstable_batchedUpdates(()=>{ke?.(Kt),$({type:"onDragMove",event:Kt})})},[ii.x,ii.y]),R.useEffect(()=>{const{active:ke,activatorEvent:mt,collisions:pt,droppableContainers:Dt,scrollAdjustedTranslate:hn}=Zt.current;if(!ke||Pe.current==null||!mt||!hn)return;const{onDragOver:Kt}=ge.current,bt=Dt.get(Gs),In=bt&&bt.rect.current?{id:bt.id,rect:bt.rect.current,data:bt.data,disabled:bt.disabled}:null,St={active:ke,activatorEvent:mt,collisions:pt,delta:{x:hn.x,y:hn.y},over:In};eu.unstable_batchedUpdates(()=>{Ks(In),Kt?.(St),$({type:"onDragOver",event:St})})},[Gs]),ar(()=>{Zt.current={activatorEvent:ae,active:N,activeNode:me,collisionRect:En,collisions:lr,droppableRects:oe,draggableNodes:w,draggingNode:ni,draggingNodeRect:Cn,droppableContainers:V,over:Bn,scrollableAncestors:tt,scrollAdjustedTranslate:ii},j.current={initial:Cn,translated:En}},[N,me,lr,En,w,ni,Cn,oe,V,Bn,tt,ii]),Ok({...We,delta:D,draggingRect:En,pointerCoordinates:qs,scrollableAncestors:tt,scrollableAncestorRects:jn});const Va=R.useMemo(()=>({active:N,activeNode:me,activeNodeRect:Oe,activatorEvent:ae,collisions:lr,containerNodeRect:ti,dragOverlay:It,draggableNodes:w,droppableContainers:V,droppableRects:oe,over:Bn,measureDroppableContainers:ce,scrollableAncestors:tt,scrollableAncestorRects:jn,measuringConfiguration:X,measuringScheduled:Ee,windowRect:ft}),[N,me,Oe,ae,lr,ti,It,w,V,oe,Bn,ce,tt,jn,X,Ee,ft]),ri=R.useMemo(()=>({activatorEvent:ae,activators:ur,active:N,activeNodeRect:Oe,ariaDescribedById:{draggable:ye},dispatch:K,draggableNodes:w,over:Bn,measureDroppableContainers:ce}),[ae,ur,N,Oe,K,ye,w,Bn,ce]);return Rn.createElement(I1.Provider,{value:J},Rn.createElement(Bf.Provider,{value:ri},Rn.createElement(H1.Provider,{value:Va},Rn.createElement(q1.Provider,{value:zt},g)),Rn.createElement(tV,{disabled:m?.restoreFocus===!1})),Rn.createElement(nk,{...m,hiddenTextDescribedById:ye}));function cr(){const ke=lt?.autoScrollEnabled===!1,mt=typeof p=="object"?p.enabled===!1:p===!1,pt=ue&&!ke&&!mt;return typeof p=="object"?{...p,enabled:pt}:{enabled:pt}}}),aV=R.createContext(null),dT="button",oV="Draggable";function lV(i){let{id:e,data:n,disabled:s=!1,attributes:o}=i;const u=Xu(oV),{activators:c,activatorEvent:m,active:p,activeNodeRect:g,ariaDescribedById:_,draggableNodes:T,over:S}=R.useContext(Bf),{role:I=dT,roleDescription:L="draggable",tabIndex:P=0}=o??{},U=p?.id===e,K=R.useContext(U?q1:aV),[$,J]=mf(),[se,he]=mf(),ue=Gk(c,e),C=Iu(n);ar(()=>(T.set(e,{id:e,key:u,node:$,activatorNode:se,data:C}),()=>{const D=T.get(e);D&&D.key===u&&T.delete(e)}),[T,e]);const w=R.useMemo(()=>({role:I,tabIndex:P,"aria-disabled":s,"aria-pressed":U&&I===dT?!0:void 0,"aria-roledescription":L,"aria-describedby":_.draggable}),[s,I,P,U,L,_.draggable]);return{active:p,activatorEvent:m,activeNodeRect:g,attributes:w,isDragging:U,listeners:s?void 0:ue,node:$,over:S,setNodeRef:J,setActivatorNodeRef:he,transform:K}}function uV(){return R.useContext(H1)}const cV="Droppable",hV={timeout:25};function fV(i){let{data:e,disabled:n=!1,id:s,resizeObserverConfig:o}=i;const u=Xu(cV),{active:c,dispatch:m,over:p,measureDroppableContainers:g}=R.useContext(Bf),_=R.useRef({disabled:n}),T=R.useRef(!1),S=R.useRef(null),I=R.useRef(null),{disabled:L,updateMeasurementsFor:P,timeout:U}={...hV,...o},K=Iu(P??s),$=R.useCallback(()=>{if(!T.current){T.current=!0;return}I.current!=null&&clearTimeout(I.current),I.current=setTimeout(()=>{g(Array.isArray(K.current)?K.current:[K.current]),I.current=null},U)},[U]),J=jf({callback:$,disabled:L||!c}),se=R.useCallback((w,D)=>{J&&(D&&(J.unobserve(D),T.current=!1),w&&J.observe(w))},[J]),[he,ue]=mf(se),C=Iu(e);return R.useEffect(()=>{!J||!he.current||(J.disconnect(),T.current=!1,J.observe(he.current))},[he,J]),R.useEffect(()=>(m({type:Bt.RegisterDroppable,element:{id:s,key:u,disabled:n,node:he,rect:S,data:C}}),()=>m({type:Bt.UnregisterDroppable,key:u,id:s})),[s]),R.useEffect(()=>{n!==_.current.disabled&&(m({type:Bt.SetDroppableDisabled,id:s,key:u,disabled:n}),_.current.disabled=n)},[s,u,n,m]),{active:c,rect:S,isOver:p?.id===s,node:he,over:p,setNodeRef:ue}}function Bg(i,e,n){const s=i.slice();return s.splice(n<0?s.length+n:n,0,s.splice(e,1)[0]),s}function dV(i,e){return i.reduce((n,s,o)=>{const u=e.get(s);return u&&(n[o]=u),n},Array(i.length))}function Dh(i){return i!==null&&i>=0}function mV(i,e){if(i===e)return!0;if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++)if(i[n]!==e[n])return!1;return!0}function pV(i){return typeof i=="boolean"?{draggable:i,droppable:i}:i}const F1=i=>{let{rects:e,activeIndex:n,overIndex:s,index:o}=i;const u=Bg(e,s,n),c=e[o],m=u[o];return!m||!c?null:{x:m.left-c.left,y:m.top-c.top,scaleX:m.width/c.width,scaleY:m.height/c.height}},xh={scaleX:1,scaleY:1},gV=i=>{var e;let{activeIndex:n,activeNodeRect:s,index:o,rects:u,overIndex:c}=i;const m=(e=u[n])!=null?e:s;if(!m)return null;if(o===n){const g=u[c];return g?{x:0,y:n<c?g.top+g.height-(m.top+m.height):g.top-m.top,...xh}:null}const p=yV(u,o,n);return o>n&&o<=c?{x:0,y:-m.height-p,...xh}:o<n&&o>=c?{x:0,y:m.height+p,...xh}:{x:0,y:0,...xh}};function yV(i,e,n){const s=i[e],o=i[e-1],u=i[e+1];return s?n<e?o?s.top-(o.top+o.height):u?u.top-(s.top+s.height):0:u?u.top-(s.top+s.height):o?s.top-(o.top+o.height):0:0}const G1="Sortable",K1=Rn.createContext({activeIndex:-1,containerId:G1,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:F1,disabled:{draggable:!1,droppable:!1}});function vV(i){let{children:e,id:n,items:s,strategy:o=F1,disabled:u=!1}=i;const{active:c,dragOverlay:m,droppableRects:p,over:g,measureDroppableContainers:_}=uV(),T=Xu(G1,n),S=m.rect!==null,I=R.useMemo(()=>s.map(ue=>typeof ue=="object"&&"id"in ue?ue.id:ue),[s]),L=c!=null,P=c?I.indexOf(c.id):-1,U=g?I.indexOf(g.id):-1,K=R.useRef(I),$=!mV(I,K.current),J=U!==-1&&P===-1||$,se=pV(u);ar(()=>{$&&L&&_(I)},[$,I,L,_]),R.useEffect(()=>{K.current=I},[I]);const he=R.useMemo(()=>({activeIndex:P,containerId:T,disabled:se,disableTransforms:J,items:I,overIndex:U,useDragOverlay:S,sortedRects:dV(I,p),strategy:o}),[P,T,se.draggable,se.droppable,J,I,U,p,S,o]);return Rn.createElement(K1.Provider,{value:he},e)}const _V=i=>{let{id:e,items:n,activeIndex:s,overIndex:o}=i;return Bg(n,s,o).indexOf(e)},EV=i=>{let{containerId:e,isSorting:n,wasDragging:s,index:o,items:u,newIndex:c,previousItems:m,previousContainerId:p,transition:g}=i;return!g||!s||m!==u&&o===c?!1:n?!0:c!==o&&e===p},TV={duration:200,easing:"ease"},Y1="transform",bV=xu.Transition.toString({property:Y1,duration:0,easing:"linear"}),SV={roleDescription:"sortable"};function AV(i){let{disabled:e,index:n,node:s,rect:o}=i;const[u,c]=R.useState(null),m=R.useRef(n);return ar(()=>{if(!e&&n!==m.current&&s.current){const p=o.current;if(p){const g=Jo(s.current,{ignoreTransform:!0}),_={x:p.left-g.left,y:p.top-g.top,scaleX:p.width/g.width,scaleY:p.height/g.height};(_.x||_.y)&&c(_)}}n!==m.current&&(m.current=n)},[e,n,s,o]),R.useEffect(()=>{u&&c(null)},[u]),u}function wV(i){let{animateLayoutChanges:e=EV,attributes:n,disabled:s,data:o,getNewIndex:u=_V,id:c,strategy:m,resizeObserverConfig:p,transition:g=TV}=i;const{items:_,containerId:T,activeIndex:S,disabled:I,disableTransforms:L,sortedRects:P,overIndex:U,useDragOverlay:K,strategy:$}=R.useContext(K1),J=RV(s,I),se=_.indexOf(c),he=R.useMemo(()=>({sortable:{containerId:T,index:se,items:_},...o}),[T,o,se,_]),ue=R.useMemo(()=>_.slice(_.indexOf(c)),[_,c]),{rect:C,node:w,isOver:D,setNodeRef:V}=fV({id:c,data:he,disabled:J.droppable,resizeObserverConfig:{updateMeasurementsFor:ue,...p}}),{active:M,activatorEvent:j,activeNodeRect:N,attributes:Pe,setNodeRef:lt,listeners:W,isDragging:ae,over:re,setActivatorNodeRef:ge,transform:ye}=lV({id:c,data:he,attributes:{...SV,...n},disabled:J.draggable}),k=q4(V,lt),X=!!M,oe=X&&!L&&Dh(S)&&Dh(U),ce=!K&&ae,Ee=ce&&oe?ye:null,xe=oe?Ee??(m??$)({rects:P,activeNodeRect:N,activeIndex:S,overIndex:U,index:se}):null,We=Dh(S)&&Dh(U)?u({id:c,items:_,activeIndex:S,overIndex:U}):se,Me=M?.id,Oe=R.useRef({activeId:Me,items:_,newIndex:We,containerId:T}),ti=_!==Oe.current.items,Zt=e({active:M,containerId:T,isDragging:ae,isSorting:X,id:c,index:se,items:_,newIndex:Oe.current.newIndex,previousItems:Oe.current.items,previousContainerId:Oe.current.containerId,transition:g,wasDragging:Oe.current.activeId!=null}),zn=AV({disabled:!Zt,index:se,node:w,rect:C});return R.useEffect(()=>{X&&Oe.current.newIndex!==We&&(Oe.current.newIndex=We),T!==Oe.current.containerId&&(Oe.current.containerId=T),_!==Oe.current.items&&(Oe.current.items=_)},[X,We,T,_]),R.useEffect(()=>{if(Me===Oe.current.activeId)return;if(Me!=null&&Oe.current.activeId==null){Oe.current.activeId=Me;return}const ni=setTimeout(()=>{Oe.current.activeId=Me},50);return()=>clearTimeout(ni)},[Me]),{active:M,activeIndex:S,attributes:Pe,data:he,rect:C,index:se,newIndex:We,items:_,isOver:D,isSorting:X,isDragging:ae,listeners:W,node:w,overIndex:U,over:re,setNodeRef:k,setActivatorNodeRef:ge,setDroppableNodeRef:V,setDraggableNodeRef:lt,transform:zn??xe,transition:It()};function It(){if(zn||ti&&Oe.current.newIndex===se)return bV;if(!(ce&&!Lg(j)||!g)&&(X||Zt))return xu.Transition.toString({...g,property:Y1})}}function RV(i,e){var n,s;return typeof i=="boolean"?{draggable:i,droppable:!1}:{draggable:(n=i?.draggable)!=null?n:e.draggable,droppable:(s=i?.droppable)!=null?s:e.droppable}}function yf(i){if(!i)return!1;const e=i.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const CV=[Fe.Down,Fe.Right,Fe.Up,Fe.Left],IV=(i,e)=>{let{context:{active:n,collisionRect:s,droppableRects:o,droppableContainers:u,over:c,scrollableAncestors:m}}=e;if(CV.includes(i.code)){if(i.preventDefault(),!n||!s)return;const p=[];u.getEnabled().forEach(T=>{if(!T||T!=null&&T.disabled)return;const S=o.get(T.id);if(S)switch(i.code){case Fe.Down:s.top<S.top&&p.push(T);break;case Fe.Up:s.top>S.top&&p.push(T);break;case Fe.Left:s.left>S.left&&p.push(T);break;case Fe.Right:s.left<S.left&&p.push(T);break}});const g=ak({collisionRect:s,droppableRects:o,droppableContainers:p});let _=N1(g,"id");if(_===c?.id&&g.length>1&&(_=g[1].id),_!=null){const T=u.get(n.id),S=u.get(_),I=S?o.get(S.id):null,L=S?.node.current;if(L&&I&&T&&S){const U=zf(L).some((ue,C)=>m[C]!==ue),K=Q1(T,S),$=DV(T,S),J=U||!K?{x:0,y:0}:{x:$?s.width-I.width:0,y:$?s.height-I.height:0},se={x:I.left,y:I.top};return J.x&&J.y?se:Du(se,J)}}}};function Q1(i,e){return!yf(i)||!yf(e)?!1:i.data.current.sortable.containerId===e.data.current.sortable.containerId}function DV(i,e){return!yf(i)||!yf(e)||!Q1(i,e)?!1:i.data.current.sortable.index<e.data.current.sortable.index}const $1=i=>{if(!i)return{label:"detail",icon:x.jsx(RE,{size:10}),class:"badge-detail"};const e=i.toLowerCase();return e.includes("where")||e.includes("place")?{label:"location",icon:x.jsx(JC,{size:10}),class:"badge-zinc"}:e.includes("who")?{label:"character",icon:x.jsx(nb,{size:10}),class:"badge-zinc"}:e.includes("what")&&(e.includes("eat")||e.includes("food"))?{label:"food",icon:x.jsx(yI,{size:10}),class:"badge-zinc"}:e.includes("when")||e.includes("time")?{label:"time",icon:x.jsx(IC,{size:10}),class:"badge-zinc"}:{label:"detail",icon:x.jsx(RE,{size:10}),class:"badge-detail"}};function xV({id:i,q:e,index:n,isScaffolded:s,onEdit:o,onDelete:u}){const{attributes:c,listeners:m,setNodeRef:p,transform:g,transition:_,isDragging:T}=wV({id:i}),S={transform:xu.Transform.toString(g),transition:_,marginBottom:"30px",position:"relative",opacity:T?.5:1,touchAction:"none"},I=$1(e.question_text);return x.jsxs("div",{ref:p,style:S,className:"sortable-item",children:[x.jsxs("div",{className:"drag-controls",style:{position:"absolute",left:"-40px",top:"0",display:"flex",flexDirection:"column",gap:"8px",opacity:.4,transition:"opacity 0.2s",height:"100%"},children:[x.jsx("div",{...c,...m,style:{cursor:"grab",padding:"4px"},title:"Drag to reorder",children:x.jsx(kC,{size:20})}),x.jsx("button",{onClick:()=>u(n),style:{border:"none",background:"transparent",cursor:"pointer",padding:"4px"},title:"Delete Question",children:x.jsx(tb,{size:18,color:"#ef4444"})})]}),x.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:x.jsxs("span",{className:I.class,children:[I.icon," ",I.label]})}),x.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px",alignItems:"flex-start"},children:[x.jsx("span",{style:{color:"var(--slate-300)",fontSize:"1rem",fontWeight:"600",flexShrink:0,marginTop:"8px"},children:n+1}),x.jsx("textarea",{rows:1,value:e.question_text||"",onChange:L=>o(n,"question_text",L.target.value),placeholder:"Enter question...",style:{fontSize:"1.1rem",fontWeight:"500",lineHeight:"1.5",color:"var(--slate-900)",width:"100%",border:"1px solid transparent",background:"transparent",padding:"6px",borderRadius:"6px",fontFamily:"inherit",resize:"none",overflow:"hidden",minHeight:"38px"},onFocus:L=>{L.target.style.border="1px solid var(--slate-300)",L.target.style.background="white"},onBlur:L=>{L.target.style.border="1px solid transparent",L.target.style.background="transparent"},className:"editable-textarea"})]}),x.jsx("div",{style:{paddingLeft:"24px"},children:e.options?x.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"8px"},children:e.options.map((L,P)=>x.jsxs("div",{style:{padding:"6px 12px",border:"1px solid var(--slate-100)",borderRadius:"6px",fontSize:"0.9rem",color:"var(--slate-600)",display:"flex",gap:"12px",alignItems:"center"},children:[x.jsx("div",{style:{width:"14px",height:"14px",border:"1px solid var(--slate-300)",borderRadius:"50%",flexShrink:0}}),x.jsx("input",{type:"text",value:L||"",onChange:U=>{const K=[...e.options];K[P]=U.target.value,o(n,"options",K)},placeholder:`Option ${P+1}`,style:{width:"100%",border:"none",background:"transparent",outline:"none",color:"inherit",fontSize:"inherit",fontFamily:"inherit"}})]},P))}):x.jsx("div",{style:{borderBottom:"1px solid var(--slate-100)",height:"30px",width:"100%"}})}),e.hint&&s&&x.jsxs("div",{style:{marginTop:"12px",marginLeft:"24px",color:"#d97706",fontSize:"0.8rem",display:"flex",gap:"6px",alignItems:"center"},children:[x.jsx(fI,{size:12}),x.jsx("input",{type:"text",value:e.hint||"",onChange:L=>o(n,"hint",L.target.value),style:{border:"none",background:"transparent",outline:"none",color:"#d97706",fontStyle:"italic",width:"100%"}})]})]})}function NV({activity:i,mascotUrl:e,isScaffolded:n,onDownload:s,onUpdate:o,onSave:u}){R.useEffect(()=>{if(i?.student_worksheet?.questions&&i.student_worksheet.questions.some(P=>!P.uid)){const P=i.student_worksheet.questions.map(U=>({...U,uid:U.uid||Math.random().toString(36).substr(2,9)}));o({...i,student_worksheet:{...i.student_worksheet,questions:P}})}},[i,o]);const c=ik(tT(jg),tT(Ug,{coordinateGetter:IV})),m=L=>{const{active:P,over:U}=L;if(P.id!==U.id){const K=i.student_worksheet.questions.findIndex(se=>se.uid===P.id),$=i.student_worksheet.questions.findIndex(se=>se.uid===U.id),J=Bg(i.student_worksheet.questions,K,$);o({...i,student_worksheet:{...i.student_worksheet,questions:J}})}},p=(L,P,U)=>{const K=[...i.student_worksheet.questions];K[L]={...K[L],[P]:U},o({...i,student_worksheet:{...i.student_worksheet,questions:K}})},g=L=>{if(confirm("Delete this question?")){const P=i.student_worksheet.questions.filter((U,K)=>K!==L);o({...i,student_worksheet:{...i.student_worksheet,questions:P}})}},_=(L,P)=>{L==="instructions"?o({...i,student_worksheet:{...i.student_worksheet,instructions:P}}):L==="title"&&o({...i,title:P})},T=()=>{if(u){u(i);const L=document.getElementById("save-btn");if(L){const P=L.innerHTML;L.innerHTML="Saved!",setTimeout(()=>L.innerHTML=P,2e3)}}};if(!i)return x.jsx("div",{className:"preview-panel",children:x.jsxs("div",{className:"flex-column-center",style:{height:"100%",opacity:.6,color:"var(--slate-400)"},children:[x.jsx("div",{className:"flex-column-center shadow-soft",style:{background:"white",padding:"30px",borderRadius:"50%",marginBottom:"20px",boxShadow:"var(--shadow-md)"},children:x.jsx(eb,{size:48,strokeWidth:1,color:"var(--slate-900)"})}),x.jsx("h3",{style:{fontSize:"1.2rem",color:"var(--slate-900)",marginBottom:"8px",fontWeight:600},children:"Start Your Blueprint"}),x.jsx("p",{style:{maxWidth:"300px",textAlign:"center",fontSize:"0.9rem"},children:"Configure the material parameters and click Generate to construct a new material plan."})]})});const S=i.student_worksheet?.questions||[];return S.every(L=>L.uid)?x.jsx("div",{className:"preview-panel",children:x.jsxs("div",{className:"paper",children:[x.jsx("div",{style:{marginBottom:"40px",borderBottom:"1px solid var(--slate-200)",paddingBottom:"20px"},children:x.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[x.jsxs("div",{style:{flex:1,paddingRight:"20px"},children:[x.jsxs("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",width:"100%",gap:"20px"},children:[x.jsx("input",{type:"text",value:i.title||"",onChange:L=>_("title",L.target.value),style:{margin:0,fontSize:"2rem",letterSpacing:"-0.03em",lineHeight:"1.2",width:"100%",border:"none",background:"transparent",fontWeight:700,fontFamily:"inherit",outline:"none"},className:"editable-title"}),x.jsxs("button",{id:"save-btn",onClick:T,className:"download-btn",style:{background:"var(--slate-800)",border:"1px solid var(--slate-900)",color:"white",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.85rem",fontWeight:500,flexShrink:0,boxShadow:"var(--shadow-sm)",marginTop:"4px"},title:"Save Changes",children:[x.jsx(tI,{size:16})," ",x.jsx("span",{children:"Save"})]}),x.jsxs("button",{onClick:s,className:"download-btn",style:{background:"white",border:"1px solid var(--slate-200)",color:"var(--slate-950)",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",fontSize:"0.85rem",fontWeight:500,flexShrink:0,boxShadow:"var(--shadow-sm)",marginTop:"4px"},title:"Export as PDF",children:[x.jsx(OC,{size:16})," ",x.jsx("span",{children:"PDF"})]})]}),x.jsxs("div",{style:{marginTop:"10px",display:"flex",gap:"10px",color:"var(--slate-500)",fontSize:"0.8rem",fontWeight:600},children:[x.jsx("span",{style:{border:"1px solid var(--slate-200)",padding:"2px 8px",borderRadius:"4px"},children:i.meta?.level}),x.jsx("span",{style:{border:"1px solid var(--slate-200)",padding:"2px 8px",borderRadius:"4px"},children:i.meta?.type?.toUpperCase()})]})]}),e&&x.jsx("img",{src:e,alt:"Material Mascot",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"8px",filter:"grayscale(100%)"}})]})}),x.jsxs("div",{style:{marginBottom:"30px"},children:[x.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"var(--slate-400)",marginBottom:"8px",textTransform:"uppercase"},children:"Instructions"}),x.jsx("textarea",{value:i.student_worksheet?.instructions||"",onChange:L=>_("instructions",L.target.value),style:{fontSize:"0.95rem",lineHeight:"1.6",width:"100%",border:"1px solid transparent",background:"transparent",borderRadius:"4px",resize:"vertical",fontFamily:"inherit",padding:"4px"},onFocus:L=>{L.target.style.border="1px solid var(--slate-300)",L.target.style.background="white"},onBlur:L=>{L.target.style.border="1px solid transparent",L.target.style.background="transparent"}})]}),x.jsx("div",{className:"questions-list",children:x.jsx(sV,{sensors:c,collisionDetection:sk,onDragEnd:m,children:x.jsx(vV,{items:S.map(L=>L.uid),strategy:gV,children:S.map((L,P)=>x.jsx(xV,{id:L.uid,q:L,index:P,isScaffolded:n,onEdit:p,onDelete:g,getCategoryBadge:$1},L.uid))})})}),i.student_worksheet?.glossary&&i.student_worksheet.glossary.length>0&&x.jsxs("div",{style:{marginTop:"40px",paddingTop:"20px",borderTop:"1px solid var(--slate-100)"},children:[x.jsx("div",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"var(--slate-400)",marginBottom:"15px",textTransform:"uppercase"},children:"Key Vocabulary"}),x.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:i.student_worksheet.glossary.map((L,P)=>x.jsxs("div",{style:{background:"var(--slate-50)",padding:"15px",borderRadius:"8px",border:"1px solid var(--slate-100)"},children:[x.jsx("input",{type:"text",value:L.word||"",onChange:U=>{const K=[...i.student_worksheet.glossary];K[P]={...K[P],word:U.target.value},o({...i,student_worksheet:{...i.student_worksheet,glossary:K}})},style:{fontWeight:"700",fontSize:"0.95rem",color:"var(--slate-900)",marginBottom:"4px",width:"100%",background:"transparent",border:"none",outline:"none"},placeholder:"Word"}),x.jsx("textarea",{rows:2,value:L.definition||"",onChange:U=>{const K=[...i.student_worksheet.glossary];K[P]={...K[P],definition:U.target.value},o({...i,student_worksheet:{...i.student_worksheet,glossary:K}})},style:{fontSize:"0.9rem",color:"var(--slate-600)",lineHeight:"1.4",width:"100%",background:"transparent",border:"none",outline:"none",resize:"none",fontFamily:"inherit"},placeholder:"Definition"})]},P))})]})]},i.id)}):x.jsx("div",{className:"preview-panel",children:x.jsx("div",{className:"flex-column-center",style:{height:"100%"},children:x.jsx("div",{className:"animate-spin",style:{width:"24px",height:"24px",border:"2px solid var(--slate-200)",borderTopColor:"var(--slate-600)",borderRadius:"50%"}})})})}var mT;(function(i){i.STRING="string",i.NUMBER="number",i.INTEGER="integer",i.BOOLEAN="boolean",i.ARRAY="array",i.OBJECT="object"})(mT||(mT={}));var pT;(function(i){i.LANGUAGE_UNSPECIFIED="language_unspecified",i.PYTHON="python"})(pT||(pT={}));var gT;(function(i){i.OUTCOME_UNSPECIFIED="outcome_unspecified",i.OUTCOME_OK="outcome_ok",i.OUTCOME_FAILED="outcome_failed",i.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(gT||(gT={}));const yT=["user","model","function","system"];var vT;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(vT||(vT={}));var _T;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(_T||(_T={}));var ET;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(ET||(ET={}));var TT;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER"})(TT||(TT={}));var gu;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.OTHER="OTHER"})(gu||(gu={}));var bT;(function(i){i.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",i.RETRIEVAL_QUERY="RETRIEVAL_QUERY",i.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",i.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",i.CLASSIFICATION="CLASSIFICATION",i.CLUSTERING="CLUSTERING"})(bT||(bT={}));var ST;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE"})(ST||(ST={}));var AT;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(AT||(AT={}));class vn extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class So extends vn{constructor(e,n){super(e),this.response=n}}class X1 extends vn{constructor(e,n,s,o){super(e),this.status=n,this.statusText=s,this.errorDetails=o}}class Ms extends vn{}class W1 extends vn{}const OV="https://generativelanguage.googleapis.com",MV="v1beta",kV="0.24.1",VV="genai-js";var Ia;(function(i){i.GENERATE_CONTENT="generateContent",i.STREAM_GENERATE_CONTENT="streamGenerateContent",i.COUNT_TOKENS="countTokens",i.EMBED_CONTENT="embedContent",i.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ia||(Ia={}));class LV{constructor(e,n,s,o,u){this.model=e,this.task=n,this.apiKey=s,this.stream=o,this.requestOptions=u}toString(){var e,n;const s=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||MV;let u=`${((n=this.requestOptions)===null||n===void 0?void 0:n.baseUrl)||OV}/${s}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function PV(i){const e=[];return i?.apiClient&&e.push(i.apiClient),e.push(`${VV}/${kV}`),e.join(" ")}async function UV(i){var e;const n=new Headers;n.append("Content-Type","application/json"),n.append("x-goog-api-client",PV(i.requestOptions)),n.append("x-goog-api-key",i.apiKey);let s=(e=i.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(s){if(!(s instanceof Headers))try{s=new Headers(s)}catch(o){throw new Ms(`unable to convert customHeaders value ${JSON.stringify(s)} to Headers: ${o.message}`)}for(const[o,u]of s.entries()){if(o==="x-goog-api-key")throw new Ms(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new Ms(`Header name ${o} can only be set using the apiClient field`);n.append(o,u)}}return n}async function zV(i,e,n,s,o,u){const c=new LV(i,e,n,s,u);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},qV(u)),{method:"POST",headers:await UV(c),body:o})}}async function Wu(i,e,n,s,o,u={},c=fetch){const{url:m,fetchOptions:p}=await zV(i,e,n,s,o,u);return jV(m,p,c)}async function jV(i,e,n=fetch){let s;try{s=await n(i,e)}catch(o){BV(o,i)}return s.ok||await HV(s,i),s}function BV(i,e){let n=i;throw n.name==="AbortError"?(n=new W1(`Request aborted when fetching ${e.toString()}: ${i.message}`),n.stack=i.stack):i instanceof X1||i instanceof Ms||(n=new vn(`Error fetching from ${e.toString()}: ${i.message}`),n.stack=i.stack),n}async function HV(i,e){let n="",s;try{const o=await i.json();n=o.error.message,o.error.details&&(n+=` ${JSON.stringify(o.error.details)}`,s=o.error.details)}catch{}throw new X1(`Error fetching from ${e.toString()}: [${i.status} ${i.statusText}] ${n}`,i.status,i.statusText,s)}function qV(i){const e={};if(i?.signal!==void 0||i?.timeout>=0){const n=new AbortController;i?.timeout>=0&&setTimeout(()=>n.abort(),i.timeout),i?.signal&&i.signal.addEventListener("abort",()=>{n.abort()}),e.signal=n.signal}return e}function Hg(i){return i.text=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Fh(i.candidates[0]))throw new So(`${As(i)}`,i);return FV(i)}else if(i.promptFeedback)throw new So(`Text not available. ${As(i)}`,i);return""},i.functionCall=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Fh(i.candidates[0]))throw new So(`${As(i)}`,i);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),wT(i)[0]}else if(i.promptFeedback)throw new So(`Function call not available. ${As(i)}`,i)},i.functionCalls=()=>{if(i.candidates&&i.candidates.length>0){if(i.candidates.length>1&&console.warn(`This response had ${i.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Fh(i.candidates[0]))throw new So(`${As(i)}`,i);return wT(i)}else if(i.promptFeedback)throw new So(`Function call not available. ${As(i)}`,i)},i}function FV(i){var e,n,s,o;const u=[];if(!((n=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const c of(o=(s=i.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)c.text&&u.push(c.text),c.executableCode&&u.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&u.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function wT(i){var e,n,s,o;const u=[];if(!((n=(e=i.candidates)===null||e===void 0?void 0:e[0].content)===null||n===void 0)&&n.parts)for(const c of(o=(s=i.candidates)===null||s===void 0?void 0:s[0].content)===null||o===void 0?void 0:o.parts)c.functionCall&&u.push(c.functionCall);if(u.length>0)return u}const GV=[gu.RECITATION,gu.SAFETY,gu.LANGUAGE];function Fh(i){return!!i.finishReason&&GV.includes(i.finishReason)}function As(i){var e,n,s;let o="";if((!i.candidates||i.candidates.length===0)&&i.promptFeedback)o+="Response was blocked",!((e=i.promptFeedback)===null||e===void 0)&&e.blockReason&&(o+=` due to ${i.promptFeedback.blockReason}`),!((n=i.promptFeedback)===null||n===void 0)&&n.blockReasonMessage&&(o+=`: ${i.promptFeedback.blockReasonMessage}`);else if(!((s=i.candidates)===null||s===void 0)&&s[0]){const u=i.candidates[0];Fh(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function Ou(i){return this instanceof Ou?(this.v=i,this):new Ou(i)}function KV(i,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=n.apply(i,e||[]),o,u=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(S){s[S]&&(o[S]=function(I){return new Promise(function(L,P){u.push([S,I,L,P])>1||m(S,I)})})}function m(S,I){try{p(s[S](I))}catch(L){T(u[0][3],L)}}function p(S){S.value instanceof Ou?Promise.resolve(S.value.v).then(g,_):T(u[0][2],S)}function g(S){m("next",S)}function _(S){m("throw",S)}function T(S,I){S(I),u.shift(),u.length&&m(u[0][0],u[0][1])}}const RT=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function YV(i){const e=i.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),n=XV(e),[s,o]=n.tee();return{stream:$V(s),response:QV(o)}}async function QV(i){const e=[],n=i.getReader();for(;;){const{done:s,value:o}=await n.read();if(s)return Hg(WV(e));e.push(o)}}function $V(i){return KV(this,arguments,function*(){const n=i.getReader();for(;;){const{value:s,done:o}=yield Ou(n.read());if(o)break;yield yield Ou(Hg(s))}})}function XV(i){const e=i.getReader();return new ReadableStream({start(s){let o="";return u();function u(){return e.read().then(({value:c,done:m})=>{if(m){if(o.trim()){s.error(new vn("Failed to parse stream"));return}s.close();return}o+=c;let p=o.match(RT),g;for(;p;){try{g=JSON.parse(p[1])}catch{s.error(new vn(`Error parsing JSON response: "${p[1]}"`));return}s.enqueue(g),o=o.substring(p[0].length),p=o.match(RT)}return u()}).catch(c=>{let m=c;throw m.stack=c.stack,m.name==="AbortError"?m=new W1("Request aborted when reading from the stream"):m=new vn("Error reading from the stream"),m})}}})}function WV(i){const e=i[i.length-1],n={promptFeedback:e?.promptFeedback};for(const s of i){if(s.candidates){let o=0;for(const u of s.candidates)if(n.candidates||(n.candidates=[]),n.candidates[o]||(n.candidates[o]={index:o}),n.candidates[o].citationMetadata=u.citationMetadata,n.candidates[o].groundingMetadata=u.groundingMetadata,n.candidates[o].finishReason=u.finishReason,n.candidates[o].finishMessage=u.finishMessage,n.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){n.candidates[o].content||(n.candidates[o].content={role:u.content.role||"user",parts:[]});const c={};for(const m of u.content.parts)m.text&&(c.text=m.text),m.functionCall&&(c.functionCall=m.functionCall),m.executableCode&&(c.executableCode=m.executableCode),m.codeExecutionResult&&(c.codeExecutionResult=m.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),n.candidates[o].content.parts.push(c)}o++}s.usageMetadata&&(n.usageMetadata=s.usageMetadata)}return n}async function J1(i,e,n,s){const o=await Wu(e,Ia.STREAM_GENERATE_CONTENT,i,!0,JSON.stringify(n),s);return YV(o)}async function Z1(i,e,n,s){const u=await(await Wu(e,Ia.GENERATE_CONTENT,i,!1,JSON.stringify(n),s)).json();return{response:Hg(u)}}function eA(i){if(i!=null){if(typeof i=="string")return{role:"system",parts:[{text:i}]};if(i.text)return{role:"system",parts:[i]};if(i.parts)return i.role?i:{role:"system",parts:i.parts}}}function Mu(i){let e=[];if(typeof i=="string")e=[{text:i}];else for(const n of i)typeof n=="string"?e.push({text:n}):e.push(n);return JV(e)}function JV(i){const e={role:"user",parts:[]},n={role:"function",parts:[]};let s=!1,o=!1;for(const u of i)"functionResponse"in u?(n.parts.push(u),o=!0):(e.parts.push(u),s=!0);if(s&&o)throw new vn("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!s&&!o)throw new vn("No content is provided for sending chat message.");return s?e:n}function ZV(i,e){var n;let s={model:e?.model,generationConfig:e?.generationConfig,safetySettings:e?.safetySettings,tools:e?.tools,toolConfig:e?.toolConfig,systemInstruction:e?.systemInstruction,cachedContent:(n=e?.cachedContent)===null||n===void 0?void 0:n.name,contents:[]};const o=i.generateContentRequest!=null;if(i.contents){if(o)throw new Ms("CountTokensRequest must have one of contents or generateContentRequest, not both.");s.contents=i.contents}else if(o)s=Object.assign(Object.assign({},s),i.generateContentRequest);else{const u=Mu(i);s.contents=[u]}return{generateContentRequest:s}}function CT(i){let e;return i.contents?e=i:e={contents:[Mu(i)]},i.systemInstruction&&(e.systemInstruction=eA(i.systemInstruction)),e}function e3(i){return typeof i=="string"||Array.isArray(i)?{content:Mu(i)}:i}const IT=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],t3={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function n3(i){let e=!1;for(const n of i){const{role:s,parts:o}=n;if(!e&&s!=="user")throw new vn(`First content should be with role 'user', got ${s}`);if(!yT.includes(s))throw new vn(`Each item should include role field. Got ${s} but valid roles are: ${JSON.stringify(yT)}`);if(!Array.isArray(o))throw new vn("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new vn("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const m of o)for(const p of IT)p in m&&(u[p]+=1);const c=t3[s];for(const m of IT)if(!c.includes(m)&&u[m]>0)throw new vn(`Content with role '${s}' can't contain '${m}' part`);e=!0}}function DT(i){var e;if(i.candidates===void 0||i.candidates.length===0)return!1;const n=(e=i.candidates[0])===null||e===void 0?void 0:e.content;if(n===void 0||n.parts===void 0||n.parts.length===0)return!1;for(const s of n.parts)if(s===void 0||Object.keys(s).length===0||s.text!==void 0&&s.text==="")return!1;return!0}const xT="SILENT_ERROR";class i3{constructor(e,n,s,o={}){this.model=n,this.params=s,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,s?.history&&(n3(s.history),this._history=s.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,n={}){var s,o,u,c,m,p;await this._sendPromise;const g=Mu(e),_={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},T=Object.assign(Object.assign({},this._requestOptions),n);let S;return this._sendPromise=this._sendPromise.then(()=>Z1(this._apiKey,this.model,_,T)).then(I=>{var L;if(DT(I.response)){this._history.push(g);const P=Object.assign({parts:[],role:"model"},(L=I.response.candidates)===null||L===void 0?void 0:L[0].content);this._history.push(P)}else{const P=As(I.response);P&&console.warn(`sendMessage() was unsuccessful. ${P}. Inspect response object for details.`)}S=I}).catch(I=>{throw this._sendPromise=Promise.resolve(),I}),await this._sendPromise,S}async sendMessageStream(e,n={}){var s,o,u,c,m,p;await this._sendPromise;const g=Mu(e),_={safetySettings:(s=this.params)===null||s===void 0?void 0:s.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(p=this.params)===null||p===void 0?void 0:p.cachedContent,contents:[...this._history,g]},T=Object.assign(Object.assign({},this._requestOptions),n),S=J1(this._apiKey,this.model,_,T);return this._sendPromise=this._sendPromise.then(()=>S).catch(I=>{throw new Error(xT)}).then(I=>I.response).then(I=>{if(DT(I)){this._history.push(g);const L=Object.assign({},I.candidates[0].content);L.role||(L.role="model"),this._history.push(L)}else{const L=As(I);L&&console.warn(`sendMessageStream() was unsuccessful. ${L}. Inspect response object for details.`)}}).catch(I=>{I.message!==xT&&console.error(I)}),S}}async function r3(i,e,n,s){return(await Wu(e,Ia.COUNT_TOKENS,i,!1,JSON.stringify(n),s)).json()}async function s3(i,e,n,s){return(await Wu(e,Ia.EMBED_CONTENT,i,!1,JSON.stringify(n),s)).json()}async function a3(i,e,n,s){const o=n.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await Wu(e,Ia.BATCH_EMBED_CONTENTS,i,!1,JSON.stringify({requests:o}),s)).json()}class NT{constructor(e,n,s={}){this.apiKey=e,this._requestOptions=s,n.model.includes("/")?this.model=n.model:this.model=`models/${n.model}`,this.generationConfig=n.generationConfig||{},this.safetySettings=n.safetySettings||[],this.tools=n.tools,this.toolConfig=n.toolConfig,this.systemInstruction=eA(n.systemInstruction),this.cachedContent=n.cachedContent}async generateContent(e,n={}){var s;const o=CT(e),u=Object.assign(Object.assign({},this._requestOptions),n);return Z1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}async generateContentStream(e,n={}){var s;const o=CT(e),u=Object.assign(Object.assign({},this._requestOptions),n);return J1(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(s=this.cachedContent)===null||s===void 0?void 0:s.name},o),u)}startChat(e){var n;return new i3(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(n=this.cachedContent)===null||n===void 0?void 0:n.name},e),this._requestOptions)}async countTokens(e,n={}){const s=ZV(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),n);return r3(this.apiKey,this.model,s,o)}async embedContent(e,n={}){const s=e3(e),o=Object.assign(Object.assign({},this._requestOptions),n);return s3(this.apiKey,this.model,s,o)}async batchEmbedContents(e,n={}){const s=Object.assign(Object.assign({},this._requestOptions),n);return a3(this.apiKey,this.model,e,s)}}class o3{constructor(e){this.apiKey=e}getGenerativeModel(e,n){if(!e.model)throw new vn("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new NT(this.apiKey,e,n)}getGenerativeModelFromCachedContent(e,n,s){if(!e.name)throw new Ms("Cached content must contain a `name` field.");if(!e.model)throw new Ms("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const c of o)if(n?.[c]&&e[c]&&n?.[c]!==e[c]){if(c==="model"){const m=n.model.startsWith("models/")?n.model.replace("models/",""):n.model,p=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(m===p)continue}throw new Ms(`Different value for "${c}" specified in modelParams (${n[c]}) and cachedContent (${e[c]})`)}const u=Object.assign(Object.assign({},n),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new NT(this.apiKey,u,s)}}function l3(){const{currentUser:i}=Og(),[e,n]=R.useState(()=>{try{return localStorage.getItem("gemini_key")||""}catch{return""}}),[s,o]=R.useState(""),[u,c]=R.useState("comprehension"),[m,p]=R.useState("B1"),[g,_]=R.useState(!1),[T,S]=R.useState("medium"),[I,L]=R.useState("adults"),[P,U]=R.useState("minimal vector line art"),[K,$]=R.useState(""),[J,se]=R.useState("gemini-flash-latest"),[he,ue]=R.useState(!1),[C,w]=R.useState(null),[D,V]=R.useState([]),[M,j]=R.useState(null);R.useEffect(()=>{if(i){const re=Rh(Ih,"users",i.uid),ge=L4(re,ye=>{if(ye.exists()){const k=ye.data();k.history&&V(k.history)}else Ch(re,{history:[]},{merge:!0})});return()=>ge()}else try{const re=JSON.parse(localStorage.getItem("material_history")||"[]");Array.isArray(re)&&V(re)}catch{localStorage.setItem("material_history","[]")}},[i]),R.useEffect(()=>{localStorage.setItem("gemini_key",e)},[e]);const N=async(re,ge)=>{const k=[{date:new Date().toLocaleDateString(),...re,visuals:ge},...D];if(V(k),i){const X=Rh(Ih,"users",i.uid);await Ch(X,{history:k},{merge:!0})}else localStorage.setItem("material_history",JSON.stringify(k))};return{apiKey:e,setApiKey:n,transcript:s,setTranscript:o,activityType:u,setActivityType:c,cefrLevel:m,setCefrLevel:p,isScaffolded:g,setIsScaffolded:_,length:T,setLength:S,audience:I,setAudience:L,visualStyle:P,setVisualStyle:U,mascotPref:K,setMascotPref:$,model:J,setModel:se,loading:he,activity:C,history:D,mascotUrl:M,loadFromHistory:re=>{if(!re||!re.student_worksheet)return alert("Invalid saved material.");if(w(re),re.visuals&&j(re.visuals.mascotUrl),re.meta&&(p(re.meta.level||"B1"),c(re.meta.type||"comprehension")),re.student_worksheet?.questions&&re.student_worksheet.questions.some(ge=>!ge.uid)){const ge=re.student_worksheet.questions.map(ye=>({...ye,uid:ye.uid||Math.random().toString(36).substr(2,9)}));w({...re,student_worksheet:{...re.student_worksheet,questions:ge}})}},clearHistory:async()=>{if(confirm("Clear all saved materials?"))if(V([]),w(null),i){const re=Rh(Ih,"users",i.uid);await Ch(re,{history:[]},{merge:!0})}else localStorage.setItem("material_history","[]")},handleGenerate:async()=>{if(!e)return alert("Please enter API Key");if(ue(!0),w(null),j(null),e.trim().toUpperCase()==="DEBUG"){try{await new Promise(ye=>setTimeout(ye,1500));const re={title:"Debug Mode: Quantum Physics",meta:{level:m,type:u,duration:"20m"},visual_theme:{primary_color:"#14b8a6",mascot_prompt:"A futuristic robot scientist"},student_worksheet:{instructions:"Read the following text and answer the questions. (DEBUG MODE)",questions:[{question_text:"What is a quantum?",options:["A small packet of energy","A type of fruit"],hint:"Think small."},{question_text:"Is light a particle or a wave?",options:["Particle","Wave","Both"],hint:"It's tricky!"}],glossary:[{word:"Quantum",definition:"The smallest amount of a physical quantity."}]}};re.id=Date.now(),re.student_worksheet.questions=re.student_worksheet.questions.map(ye=>({...ye,uid:Math.random().toString(36).substr(2,9)})),w(re);const ge="https://placehold.co/400x400/14b8a6/white?text=DEBUG+Mascot";j(ge),await N(re,{mascotUrl:ge,themeColors:{primary:"#14b8a6"}})}catch(re){alert("Debug Error: "+re.message)}finally{ue(!1)}return}try{const ge=new o3(e).getGenerativeModel({model:J});let ye=10;T==="short"&&(ye=5),T==="long"&&(ye=15);let k="";switch(u){case"vocabulary":k=`FOCUS: VOCABULARY. Extract ${ye} difficult words. Create matching questions.`;break;case"grammar":k="FOCUS: GRAMMAR. Identify tense/structures. Create fill-in-the-blanks.";break;case"true_false":k=`FOCUS: TRUE/FALSE. Create ${ye} statements.`;break;case"discussion":k="FOCUS: SPEAKING. Create discussion prompts.";break;default:k="FOCUS: COMPREHENSION. Standard open questions."}const oe=`
        You are "arc", an advanced Material Architect AI.
        TEXT: "${s}"
        CONFIG: ${k} | Level: ${m} | Audience: ${I} | ${g?"SCAFFOLDING: ON. Hints, Multiple Choice.":"SCAFFOLDING: OFF."}
        
        TASK:
        1. Create content tailored for ${I}.
        2. DESIGN A VISUAL THEME (primary_color, mascot_prompt).
        
        OUTPUT JSON ONLY:
        {
          "title": "Title",
          "meta": { "level": "${m}", "type": "${u}", "duration": "20m" },
          "visual_theme": { "primary_color": "#hex", "mascot_prompt": "desc" },
          "student_worksheet": {
            "instructions": "...",
            "questions": [{ "question_text": "...", "options": ["A","B"], "hint": "..." }],
            "glossary": [{ "word": "...", "definition": "..." }]
          }
        }
      `,Ee=(await ge.generateContent(oe)).response.text().replace(/```json/g,"").replace(/```/g,"").trim(),me=JSON.parse(Ee);if(!me.student_worksheet)throw new Error("Invalid AI response");me.id=Date.now(),me.student_worksheet?.questions&&(me.student_worksheet.questions=me.student_worksheet.questions.map(Oe=>({...Oe,uid:Math.random().toString(36).substr(2,9)}))),w(me);const xe=K||me.visual_theme?.mascot_prompt||"abstract concept",Me=`https://image.pollinations.ai/prompt/${encodeURIComponent(xe+" "+P+", white background")}?width=400&height=400&nologo=true&seed=${Math.floor(Math.random()*1e3)}`;j(Me),await N(me,{mascotUrl:Me,themeColors:{primary:"#09090b"}})}catch(re){alert("Error: "+re.message)}finally{ue(!1)}},setActivity:w,updateHistoryItem:async re=>{const ge=D.map(ye=>ye.id===re.id?{...ye,...re}:ye);if(V(ge),w(re),i){const ye=Rh(Ih,"users",i.uid);await Ch(ye,{history:ge},{merge:!0})}else localStorage.setItem("material_history",JSON.stringify(ge))}}}function u3({isOpen:i,onClose:e}){const n=R.useRef(),s=R.useRef(),{login:o,signup:u,googleLogin:c}=Og(),[m,p]=R.useState(""),[g,_]=R.useState(!1),[T,S]=R.useState(!0);if(!i)return null;async function I(U){U.preventDefault();try{p(""),_(!0),T?await o(n.current.value,s.current.value):await u(n.current.value,s.current.value),e()}catch(K){console.error(K),p("Failed to "+(T?"log in":"create an account")+": "+K.message)}_(!1)}async function L(){try{p(""),_(!0),await c(),e()}catch(U){console.error(U),p("Failed to log in with Google: "+U.message)}_(!1)}const P=U=>{U.target===U.currentTarget&&e()};return x.jsx("div",{className:"modal-overlay",onClick:P,children:x.jsxs("div",{className:"login-content",children:[x.jsxs("div",{className:"login-header",children:[x.jsx("div",{className:"brand-logo-container",children:x.jsx(LC,{size:32,strokeWidth:1.5})}),x.jsx("h1",{className:"login-title",children:T?"Welcome Back":"Join the Future"}),x.jsx("p",{className:"login-subtitle",children:T?"Sign in to sync your library across devices.":"Create an account to save your work."})]}),x.jsxs("div",{className:"login-card",children:[x.jsx("button",{className:"btn-close-modal",onClick:e,title:"Close",children:x.jsx(_I,{size:20})}),m&&x.jsxs("div",{className:"error-alert",children:[x.jsx(wC,{size:20,className:"shrink-0"}),x.jsx("span",{children:m})]}),x.jsxs("form",{onSubmit:I,children:[x.jsxs("div",{className:"form-group",children:[x.jsx("label",{className:"form-label",children:"Email"}),x.jsxs("div",{className:"input-wrapper-login",children:[x.jsx(XC,{className:"input-icon"}),x.jsx("input",{type:"email",ref:n,required:!0,className:"login-input",placeholder:"name@example.com"})]})]}),x.jsxs("div",{className:"form-group",children:[x.jsx("label",{className:"form-label",children:"Password"}),x.jsxs("div",{className:"input-wrapper-login",children:[x.jsx(FC,{className:"input-icon"}),x.jsx("input",{type:"password",ref:s,required:!0,className:"login-input",placeholder:""})]})]}),x.jsx("button",{disabled:g,type:"submit",className:"btn-login",children:g?x.jsx(jC,{size:20,className:"animate-spin"}):x.jsxs(x.Fragment,{children:[T?"Sign In":"Create Account",x.jsx(SC,{size:16})]})})]}),x.jsx("div",{className:"divider",children:x.jsx("span",{className:"divider-text",children:"Or continue with"})}),x.jsx("div",{children:x.jsxs("button",{onClick:L,disabled:g,className:"btn-google",children:[x.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",children:[x.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",color:"#4285F4"}),x.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",color:"#34A853"}),x.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",color:"#FBBC05"}),x.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",color:"#EA4335"})]}),"Google"]})}),x.jsxs("p",{className:"toggle-text",children:[T?"Don't have an account? ":"Already have an account? ",x.jsx("button",{onClick:()=>S(!T),className:"toggle-link",children:T?"Sign up":"Log in"})]})]}),x.jsx("div",{className:"login-footer",children:x.jsxs("p",{children:[" ",new Date().getFullYear()," Arc Material Architect. All rights reserved."]})})]})})}function c3(){const{apiKey:i,setApiKey:e,params:n,setParams:s,loading:o,material:u,history:c,generateMaterial:m,loadFromHistory:p,clearHistory:g}=l3(),[_,T]=R.useState(!1);return x.jsxs("div",{className:"app-shell",children:[x.jsx(B4,{apiKey:i,setApiKey:e,history:c,loadFromHistory:p,clearHistory:g,onLoginClick:()=>T(!0)}),x.jsxs("div",{className:"workspace",children:[x.jsx(H4,{params:n,setParams:s,onGenerate:m,loading:o}),x.jsx(NV,{material:u,loading:o})]}),x.jsx(u3,{isOpen:_,onClose:()=>T(!1)})]})}function h3(){return x.jsx(c3,{})}class f3 extends Rn.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("Uncaught error:",e,n),this.setState({error:e,errorInfo:n})}render(){return this.state.hasError?x.jsxs("div",{style:{padding:"20px",color:"red",fontFamily:"monospace"},children:[x.jsx("h1",{children:"Something went wrong."}),x.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),x.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}jw.createRoot(document.getElementById("root")).render(x.jsx(R.StrictMode,{children:x.jsx(f3,{children:x.jsx(oC,{basename:"/arc/",children:x.jsx(j4,{children:x.jsx(h3,{})})})})}));
